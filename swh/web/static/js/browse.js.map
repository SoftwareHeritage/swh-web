{"version":3,"sources":["webpack://swh.[name]/webpack/universalModuleDefinition","webpack://swh.[name]/webpack/bootstrap","webpack://swh.[name]/./swh/web/assets/src/bundles/browse/snapshot-navigation.js","webpack://swh.[name]/./swh/web/assets/src/utils/heaps-permute.js","webpack://swh.[name]/./swh/web/assets/src/bundles/browse/origin-search.js","webpack://swh.[name]/./swh/web/assets/src/bundles/browse/main-navigation.js","webpack://swh.[name]/./swh/web/assets/src/bundles/browse/index.js","webpack://swh.[name]/./swh/web/assets/src/utils/functions.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","initSnapshotNavigation","snapshotContext","setBranchesTabActive","$","parent","removeClass","addClass","setReleasesTabActive","document","ready","click","e","stopPropagation","dropdownResized","on","dropdownWidth","width","branch","swap","array","pos1","pos2","temp","originPatterns","perPage","origin_search_limit","origin_search_offset","currentData","inSearch","fixTableRowsStyle","setTimeout","removeAttr","populateOriginSearchResultsTable","data","offset","localOffset","length","show","hide","remove","table","_loop","elem","tableRow","type","browseUrl","Urls","browse_origin","url","id","append","latestSnapshotUrl","browse_origin_latest_snapshot","fetch","then","response","json","originId","children","scrollTo","searchOrigins","patterns","limit","searchOffset","patternsPermut","heapsPermute","output","trim","replace","split","push","join","regex","searchUrl","browse_origin_search","functions","Storage","sessionStorage","setItem","JSON","stringify","catch","initOriginSearch","getItem","val","parseInt","parse","submit","event","preventDefault","hasClass","currentTarget","text","browseTabsHash","removeHash","history","replaceState","title","location","pathname","search","showTab","hash","tab","showRequestedTab","indexOf","initMainNavigation","target","next","toggle","__webpack_exports__","handleFetchError","ok","Error","statusText","handleFetchErrors","responses","staticAsset","asset"],"mappings":"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","file":"js/browse.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"browse\"] = factory();\n\telse\n\t\troot[\"swh\"] = root[\"swh\"] || {}, root[\"swh\"][\"browse\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 467);\n","export function initSnapshotNavigation(snapshotContext) {\n\n  function setBranchesTabActive() {\n    $('.swh-releases-switch').parent().removeClass('active');\n    $('.swh-branches-switch').parent().addClass('active');\n    $('#swh-tab-releases').removeClass('active');\n    $('#swh-tab-branches').addClass('active');\n  }\n\n  function setReleasesTabActive() {\n    $('.swh-branches-switch').parent().removeClass('active');\n    $('.swh-releases-switch').parent().addClass('active');\n    $('#swh-tab-branches').removeClass('active');\n    $('#swh-tab-releases').addClass('active');\n  }\n\n  $(document).ready(() => {\n    $('.dropdown-menu a.swh-branches-switch').click(e => {\n      setBranchesTabActive();\n      e.stopPropagation();\n    });\n\n    $('.dropdown-menu a.swh-releases-switch').click(e => {\n      setReleasesTabActive();\n      e.stopPropagation();\n    });\n\n    let dropdownResized = false;\n\n    // hack to resize the branches/releases dropdown content,\n    // taking icons into account, in order to make the whole names readable\n    $('#swh-branches-releases-dd').on('show.bs.dropdown', () => {\n      if (dropdownResized) return;\n      let dropdownWidth = $('.swh-branches-releases').width();\n      $('.swh-branches-releases').width(dropdownWidth + 25);\n      dropdownResized = true;\n    });\n\n    if (snapshotContext) {\n      if (snapshotContext.branch) {\n        setBranchesTabActive();\n      } else {\n        setReleasesTabActive();\n      }\n    }\n\n  });\n\n}\n","// http://dsernst.com/2014/12/14/heaps-permutation-algorithm-in-javascript/\n\nfunction swap(array, pos1, pos2) {\n  let temp = array[pos1];\n  array[pos1] = array[pos2];\n  array[pos2] = temp;\n}\n\nexport function heapsPermute(array, output, n) {\n  n = n || array.length; // set n default to array.length\n  if (n === 1) {\n    output(array);\n  } else {\n    for (let i = 1; i <= n; i += 1) {\n      heapsPermute(array, output, n - 1);\n      let j;\n      if (n % 2) {\n        j = 1;\n      } else {\n        j = i;\n      }\n      swap(array, j - 1, n - 1); // -1 to account for javascript zero-indexing\n    }\n  }\n}\n","import {heapsPermute} from 'utils/heaps-permute';\nimport {handleFetchError} from 'utils/functions';\n\nlet originPatterns;\nlet perPage = 15;\nlet limit = perPage * 10;\nlet offset = 0;\nlet currentData = null;\nlet inSearch = false;\n\nfunction fixTableRowsStyle() {\n  setTimeout(() => {\n    $('#origin-search-results tbody tr').removeAttr('style');\n  });\n}\n\nfunction populateOriginSearchResultsTable(data, offset) {\n  let localOffset = offset % limit;\n  if (data.length > 0) {\n    $('#swh-origin-search-results').show();\n    $('#swh-no-origins-found').hide();\n    $('#origin-search-results tbody tr').remove();\n    let table = $('#origin-search-results tbody');\n    for (let i = localOffset; i < localOffset + perPage && i < data.length; ++i) {\n      let elem = data[i];\n      let tableRow = '<tr>';\n      tableRow += '<td style=\"width: 100px;\">' + elem.type + '</td>';\n      let browseUrl = Urls.browse_origin(elem.type, elem.url);\n      tableRow += '<td style=\"white-space: nowrap;\"><a href=\"' + browseUrl + '\">' + browseUrl + '</a></td>';\n      tableRow += '<td id=\"visit-status-origin-' + elem.id + '\"><i title=\"Checking visit status\" class=\"fa fa-refresh fa-spin\"></i></td>';\n      tableRow += '</tr>';\n      table.append(tableRow);\n      // get async latest visit snapshot and update visit status icon\n      let latestSnapshotUrl = Urls.browse_origin_latest_snapshot(elem.id);\n      fetch(latestSnapshotUrl)\n        .then(response => response.json())\n        .then(data => {\n          let originId = elem.id;\n          $('#visit-status-origin-' + originId).children().remove();\n          if (data) {\n            $('#visit-status-origin-' + originId).append('<i title=\"Origin has at least one full visit by Software Heritage\" class=\"fa fa-check\"></i>');\n          } else {\n            $('#visit-status-origin-' + originId).append('<i title=\"Origin has not yet been visited by Software Heritage or does not have at least one full visit\" class=\"fa fa-times\"></i>');\n          }\n        });\n    }\n    fixTableRowsStyle();\n  } else {\n    $('#swh-origin-search-results').hide();\n    $('#swh-no-origins-found').show();\n  }\n  if (data.length - localOffset < perPage ||\n      (data.length < limit && (localOffset + perPage) === data.length)) {\n    $('#origins-next-results-button').addClass('disabled');\n  } else {\n    $('#origins-next-results-button').removeClass('disabled');\n  }\n  if (offset > 0) {\n    $('#origins-prev-results-button').removeClass('disabled');\n  } else {\n    $('#origins-prev-results-button').addClass('disabled');\n  }\n  inSearch = false;\n  setTimeout(() => {\n    window.scrollTo(0, 0);\n  });\n}\n\nfunction searchOrigins(patterns, limit, searchOffset, offset) {\n  originPatterns = patterns;\n  let patternsArray = patterns.trim().replace(/\\s+/g, ' ').split(' ');\n  let patternsPermut = [];\n  heapsPermute(patternsArray, p => patternsPermut.push(p.join('.*')));\n  let regex = patternsPermut.join('|');\n  let searchUrl = Urls.browse_origin_search(regex) + `?limit=${limit}&offset=${searchOffset}&regexp=true`;\n\n  $('.swh-loading').addClass('show');\n  fetch(searchUrl)\n    .then(handleFetchError)\n    .then(response => response.json())\n    .then(data => {\n      currentData = data;\n      if (typeof Storage !== 'undefined') {\n        sessionStorage.setItem('last-swh-origin-url-patterns', patterns);\n        sessionStorage.setItem('last-swh-origin-search-results', JSON.stringify(data));\n        sessionStorage.setItem('last-swh-origin-search-offset', offset);\n      }\n      $('.swh-loading').removeClass('show');\n      populateOriginSearchResultsTable(data, offset);\n    })\n    .catch(() => {\n      $('.swh-loading').removeClass('show');\n      inSearch = false;\n    });\n}\n\nexport function initOriginSearch() {\n  $(document).ready(() => {\n    if (typeof Storage !== 'undefined') {\n      originPatterns = sessionStorage.getItem('last-swh-origin-url-patterns');\n      let data = sessionStorage.getItem('last-swh-origin-search-results');\n      offset = sessionStorage.getItem('last-swh-origin-search-offset');\n      if (data) {\n        $('#origins-url-patterns').val(originPatterns);\n        offset = parseInt(offset);\n        populateOriginSearchResultsTable(JSON.parse(data), offset);\n      }\n    }\n\n    $('#search_origins').submit(event => {\n      let patterns = $('#origins-url-patterns').val();\n      offset = 0;\n      inSearch = true;\n      searchOrigins(patterns, limit, offset, offset);\n      event.preventDefault();\n    });\n\n    $('#origins-next-results-button').click(event => {\n      if ($('#origins-next-results-button').hasClass('disabled') || inSearch) {\n        return;\n      }\n      inSearch = true;\n      offset += perPage;\n      if (!currentData || offset % limit === 0) {\n        searchOrigins(originPatterns, limit, offset, offset);\n      } else {\n        populateOriginSearchResultsTable(currentData, offset);\n      }\n      event.preventDefault();\n    });\n\n    $('#origins-prev-results-button').click(event => {\n      if ($('#origins-prev-results-button').hasClass('disabled') || inSearch) {\n        return;\n      }\n      inSearch = true;\n      offset -= perPage;\n      if (!currentData || (offset > 0 && (offset + perPage) % limit === 0)) {\n        searchOrigins(originPatterns, limit, (offset + perPage) - limit, offset);\n      } else {\n        populateOriginSearchResultsTable(currentData, offset);\n      }\n      event.preventDefault();\n    });\n\n    $(document).on('shown.bs.tab', 'a[data-toggle=\"tab\"]', e => {\n      if (e.currentTarget.text.trim() === 'Search') {\n        fixTableRowsStyle();\n      }\n    });\n  });\n}\n","export let browseTabsHash = ['#browse', '#search', '#help', '#vault'];\n\nexport function removeHash() {\n  history.replaceState('', document.title, window.location.pathname + window.location.search);\n}\n\nexport function showTab(hash) {\n  $('.navbar-nav.swh-browse-nav a[href=\"' + hash + '\"]').tab('show');\n  window.scrollTo(0, 0);\n}\n\nexport function showRequestedTab() {\n  let hash = window.location.hash;\n  if (hash && browseTabsHash.indexOf(hash) === -1) {\n    return;\n  }\n  if (hash) {\n    showTab(hash);\n  } else {\n    showTab('#browse');\n  }\n}\n\nexport function initMainNavigation() {\n\n  $(document).ready(() => {\n\n    $('.dropdown-submenu a.dropdown-link').on('click', e => {\n      $(e.target).next('ul').toggle();\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    // Change hash for page reload\n    $('.navbar-nav.swh-browse-nav a').on('shown.bs.tab', e => {\n      if (e.target.hash.trim() !== '#browse') {\n        window.location.hash = e.target.hash;\n      } else {\n        let hash = window.location.hash;\n        if (browseTabsHash.indexOf(hash) !== -1) {\n          removeHash();\n        }\n      }\n      showRequestedTab();\n    });\n\n    // update displayed tab when the url fragment changes\n    $(window).on('hashchange', () => {\n      showRequestedTab();\n    });\n\n    // show requested tab when loading the page\n    showRequestedTab();\n  });\n\n}\n","// main bundle for the swh-web/browse application\n\nimport './browse.css';\nimport './breadcrumbs.css';\nimport './content.css';\nimport './snapshot-navigation.css';\n\nexport * from './snapshot-navigation';\nexport * from './origin-search';\nexport * from './main-navigation';\n","// utility functions\n\nexport function handleFetchError(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n  return response;\n}\n\nexport function handleFetchErrors(responses) {\n  for (let i = 0; i < responses.length; ++i) {\n    if (!responses[i].ok) {\n      throw Error(responses[i].statusText);\n    }\n  }\n  return responses;\n}\n\nexport function staticAsset(asset) {\n  return `${__STATIC__}${asset}`;\n}\n"],"sourceRoot":""}