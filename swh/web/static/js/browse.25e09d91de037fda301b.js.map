{"version":3,"sources":["webpack://swh.[name]/webpack/universalModuleDefinition","webpack://swh.[name]/webpack/bootstrap","webpack://swh.[name]/./swh/web/assets/src/bundles/browse/snapshot-navigation.js","webpack://swh.[name]/./swh/web/assets/src/utils/heaps-permute.js","webpack://swh.[name]/./swh/web/assets/src/bundles/browse/origin-search.js","webpack://swh.[name]/./swh/web/assets/src/bundles/browse/browse-utils.js","webpack://swh.[name]/./swh/web/assets/src/bundles/browse/index.js","webpack://swh.[name]/./swh/web/assets/src/utils/functions.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","initSnapshotNavigation","snapshotContext","branch","setBranchesTabActive","$","removeClass","addClass","setReleasesTabActive","document","ready","click","e","stopPropagation","dropdownResized","on","dropdownWidth","width","swap","array","pos1","pos2","temp","originPatterns","perPage","origin_search_limit","origin_search_offset","currentData","inSearch","fixTableRowsStyle","setTimeout","removeAttr","populateOriginSearchResultsTable","data","offset","localOffset","length","show","hide","remove","table","_loop","elem","tableRow","type","browseUrl","Urls","browse_origin","url","id","append","latestSnapshotUrl","browse_origin_latest_snapshot","fetch","credentials","then","response","json","originId","children","scrollTo","searchOrigins","patterns","limit","searchOffset","patternsPermut","heapsPermute","output","trim","replace","split","push","join","regex","searchUrl","browse_origin_search","functions","Storage","sessionStorage","setItem","JSON","stringify","catch","initOriginSearch","getItem","val","parseInt","parse","submit","event","preventDefault","hasClass","currentTarget","text","initBrowse","page","target","next","toggle","css","focus","blur","lastBrowsePage","location","onunload","__webpack_exports__","handleFetchError","ok","Error","statusText","handleFetchErrors","responses","staticAsset","asset"],"mappings":"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","file":"js/browse.25e09d91de037fda301b.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"browse\"] = factory();\n\telse\n\t\troot[\"swh\"] = root[\"swh\"] || {}, root[\"swh\"][\"browse\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 469);\n","/**\n * Copyright (C) 2018  The Software Heritage developers\n * See the AUTHORS file at the top-level directory of this distribution\n * License: GNU Affero General Public License version 3, or any later version\n * See top-level LICENSE file for more information\n */\n\nexport function initSnapshotNavigation(snapshotContext, branch) {\n\n  function setBranchesTabActive() {\n    $('.swh-releases-switch').removeClass('active');\n    $('.swh-branches-switch').addClass('active');\n    $('#swh-tab-releases').removeClass('active');\n    $('#swh-tab-branches').addClass('active');\n  }\n\n  function setReleasesTabActive() {\n    $('.swh-branches-switch').removeClass('active');\n    $('.swh-releases-switch').addClass('active');\n    $('#swh-tab-branches').removeClass('active');\n    $('#swh-tab-releases').addClass('active');\n  }\n\n  $(document).ready(() => {\n    $('.dropdown-menu a.swh-branches-switch').click(e => {\n      setBranchesTabActive();\n      e.stopPropagation();\n    });\n\n    $('.dropdown-menu a.swh-releases-switch').click(e => {\n      setReleasesTabActive();\n      e.stopPropagation();\n    });\n\n    let dropdownResized = false;\n\n    // hack to resize the branches/releases dropdown content,\n    // taking icons into account, in order to make the whole names readable\n    $('#swh-branches-releases-dd').on('show.bs.dropdown', () => {\n      if (dropdownResized) return;\n      let dropdownWidth = $('.swh-branches-releases').width();\n      $('.swh-branches-releases').width(dropdownWidth + 25);\n      dropdownResized = true;\n    });\n\n    if (snapshotContext) {\n      if (branch) {\n        setBranchesTabActive();\n      } else {\n        setReleasesTabActive();\n      }\n    }\n\n  });\n\n}\n","/**\n * Copyright (C) 2018  The Software Heritage developers\n * See the AUTHORS file at the top-level directory of this distribution\n * License: GNU Affero General Public License version 3, or any later version\n * See top-level LICENSE file for more information\n */\n\n// http://dsernst.com/2014/12/14/heaps-permutation-algorithm-in-javascript/\n\nfunction swap(array, pos1, pos2) {\n  let temp = array[pos1];\n  array[pos1] = array[pos2];\n  array[pos2] = temp;\n}\n\nexport function heapsPermute(array, output, n) {\n  n = n || array.length; // set n default to array.length\n  if (n === 1) {\n    output(array);\n  } else {\n    for (let i = 1; i <= n; i += 1) {\n      heapsPermute(array, output, n - 1);\n      let j;\n      if (n % 2) {\n        j = 1;\n      } else {\n        j = i;\n      }\n      swap(array, j - 1, n - 1); // -1 to account for javascript zero-indexing\n    }\n  }\n}\n","/**\n * Copyright (C) 2018  The Software Heritage developers\n * See the AUTHORS file at the top-level directory of this distribution\n * License: GNU Affero General Public License version 3, or any later version\n * See top-level LICENSE file for more information\n */\n\nimport {heapsPermute} from 'utils/heaps-permute';\nimport {handleFetchError} from 'utils/functions';\n\nlet originPatterns;\nlet perPage = 15;\nlet limit = perPage * 10;\nlet offset = 0;\nlet currentData = null;\nlet inSearch = false;\n\nfunction fixTableRowsStyle() {\n  setTimeout(() => {\n    $('#origin-search-results tbody tr').removeAttr('style');\n  });\n}\n\nfunction populateOriginSearchResultsTable(data, offset) {\n  let localOffset = offset % limit;\n  if (data.length > 0) {\n    $('#swh-origin-search-results').show();\n    $('#swh-no-origins-found').hide();\n    $('#origin-search-results tbody tr').remove();\n    let table = $('#origin-search-results tbody');\n    for (let i = localOffset; i < localOffset + perPage && i < data.length; ++i) {\n      let elem = data[i];\n      let tableRow = '<tr>';\n      tableRow += '<td style=\"width: 120px;\">' + elem.type + '</td>';\n      let browseUrl = Urls.browse_origin(elem.type, elem.url);\n      tableRow += '<td style=\"white-space: nowrap;\"><a href=\"' + browseUrl + '\">' + browseUrl + '</a></td>';\n      tableRow += '<td id=\"visit-status-origin-' + elem.id + '\"><i title=\"Checking visit status\" class=\"fa fa-refresh fa-spin\"></i></td>';\n      tableRow += '</tr>';\n      table.append(tableRow);\n      // get async latest visit snapshot and update visit status icon\n      let latestSnapshotUrl = Urls.browse_origin_latest_snapshot(elem.id);\n      fetch(latestSnapshotUrl, {credentials: 'same-origin'})\n        .then(response => response.json())\n        .then(data => {\n          let originId = elem.id;\n          $('#visit-status-origin-' + originId).children().remove();\n          if (data) {\n            $('#visit-status-origin-' + originId).append('<i title=\"Origin has at least one full visit by Software Heritage\" class=\"fa fa-check\"></i>');\n          } else {\n            $('#visit-status-origin-' + originId).append('<i title=\"Origin has not yet been visited by Software Heritage or does not have at least one full visit\" class=\"fa fa-times\"></i>');\n          }\n        });\n    }\n    fixTableRowsStyle();\n  } else {\n    $('#swh-origin-search-results').hide();\n    $('#swh-no-origins-found').show();\n  }\n  if (data.length - localOffset < perPage ||\n      (data.length < limit && (localOffset + perPage) === data.length)) {\n    $('#origins-next-results-button').addClass('disabled');\n  } else {\n    $('#origins-next-results-button').removeClass('disabled');\n  }\n  if (offset > 0) {\n    $('#origins-prev-results-button').removeClass('disabled');\n  } else {\n    $('#origins-prev-results-button').addClass('disabled');\n  }\n  inSearch = false;\n  setTimeout(() => {\n    window.scrollTo(0, 0);\n  });\n}\n\nfunction searchOrigins(patterns, limit, searchOffset, offset) {\n  originPatterns = patterns;\n  let patternsArray = patterns.trim().replace(/\\s+/g, ' ').split(' ');\n  let patternsPermut = [];\n  heapsPermute(patternsArray, p => patternsPermut.push(p.join('.*')));\n  let regex = patternsPermut.join('|');\n  let searchUrl = Urls.browse_origin_search(regex) + `?limit=${limit}&offset=${searchOffset}&regexp=true`;\n\n  $('.swh-loading').addClass('show');\n  fetch(searchUrl, {credentials: 'same-origin'})\n    .then(handleFetchError)\n    .then(response => response.json())\n    .then(data => {\n      currentData = data;\n      if (typeof Storage !== 'undefined') {\n        sessionStorage.setItem('last-swh-origin-url-patterns', patterns);\n        sessionStorage.setItem('last-swh-origin-search-results', JSON.stringify(data));\n        sessionStorage.setItem('last-swh-origin-search-offset', offset);\n      }\n      $('.swh-loading').removeClass('show');\n      populateOriginSearchResultsTable(data, offset);\n    })\n    .catch(() => {\n      $('.swh-loading').removeClass('show');\n      inSearch = false;\n    });\n}\n\nexport function initOriginSearch() {\n  $(document).ready(() => {\n    if (typeof Storage !== 'undefined') {\n      originPatterns = sessionStorage.getItem('last-swh-origin-url-patterns');\n      let data = sessionStorage.getItem('last-swh-origin-search-results');\n      offset = sessionStorage.getItem('last-swh-origin-search-offset');\n      if (data) {\n        $('#origins-url-patterns').val(originPatterns);\n        offset = parseInt(offset);\n        populateOriginSearchResultsTable(JSON.parse(data), offset);\n      }\n    }\n\n    $('#search_origins').submit(event => {\n      let patterns = $('#origins-url-patterns').val();\n      offset = 0;\n      inSearch = true;\n      searchOrigins(patterns, limit, offset, offset);\n      event.preventDefault();\n    });\n\n    $('#origins-next-results-button').click(event => {\n      if ($('#origins-next-results-button').hasClass('disabled') || inSearch) {\n        return;\n      }\n      inSearch = true;\n      offset += perPage;\n      if (!currentData || offset % limit === 0) {\n        searchOrigins(originPatterns, limit, offset, offset);\n      } else {\n        populateOriginSearchResultsTable(currentData, offset);\n      }\n      event.preventDefault();\n    });\n\n    $('#origins-prev-results-button').click(event => {\n      if ($('#origins-prev-results-button').hasClass('disabled') || inSearch) {\n        return;\n      }\n      inSearch = true;\n      offset -= perPage;\n      if (!currentData || (offset > 0 && (offset + perPage) % limit === 0)) {\n        searchOrigins(originPatterns, limit, (offset + perPage) - limit, offset);\n      } else {\n        populateOriginSearchResultsTable(currentData, offset);\n      }\n      event.preventDefault();\n    });\n\n    $(document).on('shown.bs.tab', 'a[data-toggle=\"tab\"]', e => {\n      if (e.currentTarget.text.trim() === 'Search') {\n        fixTableRowsStyle();\n      }\n    });\n  });\n}\n","/**\n * Copyright (C) 2018  The Software Heritage developers\n * See the AUTHORS file at the top-level directory of this distribution\n * License: GNU Affero General Public License version 3, or any later version\n * See top-level LICENSE file for more information\n */\n\nexport function initBrowse(page) {\n\n  $(document).ready(() => {\n\n    $('.dropdown-submenu a.dropdown-item').on('click', e => {\n      $(e.target).next('div').toggle();\n      if ($(e.target).next('div').css('display') !== 'none') {\n        $(e.target).focus();\n      } else {\n        $(e.target).blur();\n      }\n      e.stopPropagation();\n      e.preventDefault();\n    });\n\n    $(`.browse-${page}-item`).addClass('active');\n    $(`.browse-${page}-link`).addClass('active');\n\n    $(`.browse-main-link`).click(event => {\n      let lastBrowsePage = sessionStorage.getItem('last-browse-page');\n      if (lastBrowsePage) {\n        event.preventDefault();\n        window.location = lastBrowsePage;\n      }\n    });\n\n    window.onunload = () => {\n      if (page === 'main') {\n        sessionStorage.setItem('last-browse-page', window.location);\n      }\n    };\n\n  });\n\n}\n","/**\n * Copyright (C) 2018  The Software Heritage developers\n * See the AUTHORS file at the top-level directory of this distribution\n * License: GNU Affero General Public License version 3, or any later version\n * See top-level LICENSE file for more information\n */\n\n// main bundle for the swh-web/browse application\n\nimport './browse.css';\nimport './breadcrumbs.css';\nimport './content.css';\nimport './snapshot-navigation.css';\n\nexport * from './snapshot-navigation';\nexport * from './origin-search';\nexport * from './browse-utils';\n","/**\n * Copyright (C) 2018  The Software Heritage developers\n * See the AUTHORS file at the top-level directory of this distribution\n * License: GNU Affero General Public License version 3, or any later version\n * See top-level LICENSE file for more information\n */\n\n// utility functions\n\nexport function handleFetchError(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n  return response;\n}\n\nexport function handleFetchErrors(responses) {\n  for (let i = 0; i < responses.length; ++i) {\n    if (!responses[i].ok) {\n      throw Error(responses[i].statusText);\n    }\n  }\n  return responses;\n}\n\nexport function staticAsset(asset) {\n  return `${__STATIC__}${asset}`;\n}\n"],"sourceRoot":""}