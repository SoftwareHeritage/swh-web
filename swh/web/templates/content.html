{% extends "layout.html" %}
{% load static %}

{% block header %}
<script src="{% static 'js/highlightjs/dist/highlight.pack.js' %}"></script>
<script src="{% static 'js/highlightjs-line-numbers/dist/highlightjs-line-numbers.min.js' %}"></script>
<script>
  // empty hljs language definition
  function no_highlight(hljs) {
    return {}
  }
  // just a trick to get line numbers working when no highlight
  // has to be performed
  hljs.registerLanguage('nohighlight-swh', no_highlight);
  hljs.initHighlightingOnLoad();
  hljs.initLineNumbersOnLoad();
</script>
<link rel="stylesheet" href="{% static 'css/highlightjs/github.css' %}">  
{% endblock %}

{% block title %}Content display{% endblock %}

{% block content %}

{% include "includes/top-navigation.html" %}

<div class="well well-sm">
{% if "inode/x-empty" == mime_type %}
<i>File is empty</i>
{% elif "text/" in mime_type %}
<div class="highlightjs">
  <pre>
    <code class="{{ language }}">{{ content }}</code>
  </pre>
</div>
{% elif "image/" in mime_type and content %}
  <img src="data:{{ mime_type }};base64,{{ content }}"/>
{% else %}
Content with mime type {{ mime_type }} can not be displayed
{% endif %}
</div>

{% endblock %}
