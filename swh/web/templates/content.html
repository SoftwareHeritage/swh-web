{% extends "layout.html" %}
{% block title %}Content display{% endblock %}

{% block content %}
{% if root_dir %}
<nav class="bread-crumbs">
  <ul>
    <li class="swh-path"><a href="{% url 'browse-directory' root_dir %}">{{ root_dir|slice:':7' }}</a></li>
    <li>/</li>
    {% for pi in path_info %}
      <li class="swh-path"><a href="{% url 'browse-directory' root_dir pi.path %}">{{pi.name}}</a></li>
      <li>/</li>
     {% endfor %}
    <li>{{ filename }}</li>  
  </ul>
</nav>
{% endif %}
<div class="well well-sm">
  <b>Content mime type:</b> {{ mime_type }}
  <a href="{% url 'browse-content-raw' content_sha1 %}?filename={{ filename | urlencode }}" class="btn btn-link btn-xs navbar-right" role="button">Raw File</a>
</div>
<div class="well well-sm">
{% if "text/" in mime_type or "inode/x-empty" == mime_type %}
  <div class="highlightjs">
    <pre>
      <code class="{{ language }}">
{{ content }}
      </code>
    </pre>
  </div>
{% elif "image/" in mime_type and content %}
  <img src="data:{{ mime_type }};base64,{{ content }}"/>
{% else %}
Content with mime type {{ mime_type }} can not be displayed
{% endif %}
</div>
{% endblock %}
