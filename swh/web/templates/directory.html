{% extends "browse.html" %}
{% load static %}

{% block header %}
<script src="{% static 'js/showdown/showdown.min.js' %}"></script>
{% endblock %}

{% block swh-browse-before-panels %}
{% if origin_context %}
  {% include "includes/origin-visit-snapshot.html" %}
{% endif %}
{% endblock %}

{% block swh-browse-main-panel-content %}

{% include "includes/top-navigation.html" %}

{% include "includes/directory-display.html" %}

{% endblock %}

{% block swh-browse-panels-group-end %}

{% if readme_name %}

<div class="panel panel-default" style="overflow-x: auto;">
  <div class="panel-heading">
    <h2>{{ readme_name }}</h2>
  </div>
  <div id='readme' class="swh-readme panel-body">
  </div>
</div>

<script>
  var converter = new showdown.Converter({tables: true});
  $.ajax({
    url: '{{ readme_url }}',
    dataType: 'text',
    success: function (data) {
      $('#readme').html(converter.makeHtml(data))
    }
  });
</script>

{% endif %}

{% endblock %}
