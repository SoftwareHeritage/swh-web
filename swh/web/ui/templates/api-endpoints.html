{% extends "layout.html" %}
{% block title %} Endpoints &ndash; Software Heritage API {% endblock %}
{% block content %}

<nav class="bread-crumbs">
  <ul>
    <li><a href="/">API</a></li>
    <li>/</li>
    <li>endpoints</li>
  </ul>
</nav>
<div class="api-doc">
  <p>
    Below you can find a list of the available endpoints for version 1 of the
    Software Heritage API. For a more general introduction please refer to
    the <a href="/api/">API overview</a>.
  </p>

  <p>
    Endpoints marked "available" are considered stable for the current version
    of the API; endpoints marked "upcoming" are work in progress that will be
    stabilized in the near future.
  </p>

  <noscript>
    <ul>
    {% for route, doc in doc_routes %}
      <li><a href="#{{ route }}">{{ route }}</a></li>
    {% endfor %}
    </ul>
  </noscript>
</div>

<div class="api-doc table-responsive">
  <table class="table table-striped search-res swhtable">
    <thead class="thead-default">
      <th>Endpoint</th>
      <th>Status</th>
      <th>Description</th>
    </thead>
    <tbody>
      {% for route, doc in doc_routes %}
      <tr class="api-doc-route{% for tag in doc['tags'] %} api-doc-route-{{ tag }} {% endfor %}">
        {% if doc['tags']|length > 0 %}
        <td id="{{ route }}">{{ route }}</td>
        <td>{{ ', '.join(doc['tags']) }}</td>
        {% else %}
        <td id="{{ route }}"><a href="{{ route }}">{{ route }}</a></td>
        <td>available</td>
        {% endif %}
        {% set doc_intro = doc['docstring'].split('\n\n')[0] %}
        <td>{{ doc_intro | safe_docstring_display | safe }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<script type="text/javascript">
  $(document).ready(function() {
    $('table.swhtable').DataTable({
         "paging": false,
         "info": false,
         "order": [[1, "asc"]]
      });
    $(".dataTables_filter input").addClass("form-control")

  });
</script>
{% endblock %}
