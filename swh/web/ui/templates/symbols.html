{% extends "layout.html" %}
{% block title %}Search SWH{% endblock %}
{% block content %}

<div class="container">
  <!-- Include the predefined search form-->
  {% include 'includes/search-form.html' %}

  {% if result is not none %}
  <table class="table table-striped search-res">
    <thead class="thead-default">
      <th>name</th>
      <th>content</th>
      <th>kind</th>
    </thead>
    {% for res in result %}
    <tr>
      <td>{{ res['name'] | truncate(50) }}</td>
      <td><a href="{{ ('%s#l-%s' % (res['content_url'], res['line'])) }}">{{ res['sha1'] }}</a></td>
      <td>{{ res['kind'] }}</td>
    </tr>
    {% endfor %}
  </table>

  {% if linknext is not none and linknext != '' %}
  <span><a href="{{ linknext }}">Next</a></span>
  {% endif %}

  {% endif %}
  {% if message is not none and message != '' %}
  <div class="span8">{{ message | safe }}</div>
  {% endif %}
</div>
{% endblock %}
