{% extends "layout.html" %}
{% block title %}Browse revision at path{% endblock %}
{% block content %}

{% if message is not none %}
{{ message }}
{% endif %}

{% if result is not none %}
    <p>Browse revision '{{ revision }}' with {{ result['type'] }}path '{{ path }}':</p>

    {% if result['type'] == 'dir' %}
        {% if result['content'] is not none %}
            {% for e in result['content'] %}
              {% if e.type == 'dir' %}
              <div><p><a class="link{{e.type}}" href="{{e.dir_url}}">{{ e.name }}</a></p></div>
              {% else %}
              <div><p><a class="link{{e.type}}" href="{{e.file_url}}">{{ e.name }}</a></p></div>
              {% endif %}
            {% endfor %}
        {% endif %}
    {% else %}
        {% if result['content'] is not none %}
            {% for key in ['sha1', 'sha256', 'sha1_git', 'status', 'length', 'ctime'] %}
              <div class="row">
                 <div class="col-md-2">{{ key }}</div>
                 <div class="col-md-6">{{ result['content'][key] }}</div>
              </div>
            {% endfor %}
        {% endif %}
        {% if result['content']['data_url'] is not none %}
        <div class="row">
           <div class="col-md-2">data_url</div>
           <div class="col-md-10"><a href="{{ result['content']['data_url'] }}">Download data</a></pre></div>
        </div>
        {% endif %}
        {% if result['content']['data'] is not none %}
        <div class="row">
           <div class="col-md-2">data</div>
           <div class="col-md-10"><pre>{{ result['content']['data'] }}</pre></div>
        </div>
        {% endif %}
    {% endif %}
{% endif %}
{% endblock %}
