{"version":3,"file":"js/pdfjs.31783e1bd59540debb00.js","mappings":";qoEAsBS,IAAIA,EAAsB,CAE7B,IACA,CAAEC,EAAqC,EAAqB,KAIlE,EAAoBC,EAAE,EAAqB,CACzCC,gBAAiB,IAAM,EACvBC,0BAA2B,IAAM,EACjCC,qBAAsB,IAAM,EAC5BC,uBAAwB,IAAM,IAIhC,IAAIC,EAAO,EAAoB,KAE3BC,EAAgB,EAAoB,KAEpCC,EAAqB,EAAoB,KAE7C,SAASC,EAAcC,GACrB,OAAOC,KAAKC,MAAoC,IAA9BD,KAAKE,IAAI,EAAGF,KAAKG,IAAI,EAAGJ,KAAWK,SAAS,IAAIC,SAAS,EAAG,IAChF,CACA,SAASC,EAAcC,GACrB,OAAOP,KAAKE,IAAI,EAAGF,KAAKG,IAAI,IAAK,IAAMI,GACzC,CACA,MAAMC,EACJ,aAAOC,EAAQC,EAAGC,EAAGC,EAAGC,IACtB,MAAO,CAAC,IAAK,EAAIb,KAAKG,IAAI,EAAG,GAAMO,EAAI,IAAOE,EAAI,IAAOD,EAAIE,GAC/D,CACA,aAAOC,EAAQC,IACb,MAAO,CAAC,OAAQ,EAAG,EAAG,EAAG,EAAIA,EAC/B,CACA,YAAOC,EAAOD,IACZ,MAAO,CAAC,MAAOA,EAAGA,EAAGA,EACvB,CACA,YAAOE,EAAOF,IAEZ,MAAO,CADPA,EAAIT,EAAcS,GACPA,EAAGA,EAChB,CACA,aAAOG,EAAQH,IACb,MAAMI,EAAIrB,EAAciB,GACxB,MAAO,IAAII,IAAIA,IAAIA,GACrB,CACA,YAAOC,EAAOC,EAAGN,EAAGO,IAClB,MAAO,CAAC,IAAK,GAAMD,EAAI,IAAON,EAAI,IAAOO,EAC3C,CACA,cAAOC,CAAQC,GACb,OAAOA,EAAMC,IAAInB,EACnB,CACA,eAAOoB,CAASF,GACd,MAAO,IAAIA,EAAMC,IAAI3B,GAAe6B,KAAK,KAC3C,CACA,aAAOC,GACL,MAAO,WACT,CACA,YAAOC,GACL,MAAO,CAAC,KACV,CACA,eAAOC,EAAUpB,EAAGC,EAAGC,EAAGC,IACxB,MAAO,CAAC,MAAO,EAAIb,KAAKG,IAAI,EAAGO,EAAIG,GAAI,EAAIb,KAAKG,IAAI,EAAGS,EAAIC,GAAI,EAAIb,KAAKG,IAAI,EAAGQ,EAAIE,GACrF,CACA,eAAOkB,EAAUrB,EAAGC,EAAGC,EAAGC,IACxB,MAAO,CAACP,EAAc,EAAIN,KAAKG,IAAI,EAAGO,EAAIG,IAAKP,EAAc,EAAIN,KAAKG,IAAI,EAAGS,EAAIC,IAAKP,EAAc,EAAIN,KAAKG,IAAI,EAAGQ,EAAIE,IAC1H,CACA,gBAAOmB,CAAUC,GACf,MAAMC,EAAMC,KAAKL,SAASG,GAAYG,MAAM,GAC5C,OAAOD,KAAKT,SAASQ,EACvB,CACA,eAAOG,EAAUhB,EAAGN,EAAGO,IACrB,MAAMZ,EAAI,EAAIW,EACRT,EAAI,EAAIG,EACRJ,EAAI,EAAIW,EAEd,MAAO,CAAC,OAAQZ,EAAGE,EAAGD,EADZX,KAAKG,IAAIO,EAAGE,EAAGD,GAE3B,EAIF,IAAI2B,EAAY,EAAoB,KAOpC,MAAMC,EAAoB,IAEpBC,EAAuB,IAAIC,QACjC,SAASC,EAAYC,GACnB,MAAO,CACLC,MAAOD,EAAK,GAAKA,EAAK,GACtBE,OAAQF,EAAK,GAAKA,EAAK,GAE3B,CACA,MAAMG,EACJ,aAAOC,CAAOC,GAEZ,OADgBA,EAAWC,KAAKC,gBAE9B,KAAKvD,EAAKwD,eAAeC,KACvB,OAAO,IAAIC,EAAsBL,GACnC,KAAKrD,EAAKwD,eAAeG,KACvB,OAAO,IAAIC,EAAsBP,GACnC,KAAKrD,EAAKwD,eAAeK,OAEvB,OADkBR,EAAWC,KAAKQ,WAEhC,IAAK,KACH,OAAO,IAAIC,EAA4BV,GACzC,IAAK,MACH,OAAIA,EAAWC,KAAKU,YACX,IAAIC,EAAmCZ,GACrCA,EAAWC,KAAKY,SAClB,IAAIC,EAAgCd,GAEtC,IAAIe,EAAkCf,GAC/C,IAAK,KACH,OAAO,IAAIgB,EAA8BhB,GAC3C,IAAK,MACH,OAAO,IAAIiB,EAAiCjB,GAEhD,OAAO,IAAIkB,EAAwBlB,GACrC,KAAKrD,EAAKwD,eAAegB,MACvB,OAAO,IAAIC,EAAuBpB,GACpC,KAAKrD,EAAKwD,eAAekB,SACvB,OAAO,IAAI7E,EAA0BwD,GACvC,KAAKrD,EAAKwD,eAAemB,KACvB,OAAO,IAAIC,EAAsBvB,GACnC,KAAKrD,EAAKwD,eAAeqB,OACvB,OAAO,IAAIC,EAAwBzB,GACrC,KAAKrD,EAAKwD,eAAeuB,OACvB,OAAO,IAAIC,EAAwB3B,GACrC,KAAKrD,EAAKwD,eAAeyB,SACvB,OAAO,IAAIC,EAA0B7B,GACvC,KAAKrD,EAAKwD,eAAe2B,MACvB,OAAO,IAAIC,EAAuB/B,GACpC,KAAKrD,EAAKwD,eAAe6B,IACvB,OAAO,IAAIvF,EAAqBuD,GAClC,KAAKrD,EAAKwD,eAAe8B,QACvB,OAAO,IAAIC,EAAyBlC,GACtC,KAAKrD,EAAKwD,eAAegC,UACvB,OAAO,IAAIC,EAA2BpC,GACxC,KAAKrD,EAAKwD,eAAekC,UACvB,OAAO,IAAIC,EAA2BtC,GACxC,KAAKrD,EAAKwD,eAAeoC,SACvB,OAAO,IAAIC,EAA0BxC,GACvC,KAAKrD,EAAKwD,eAAesC,UACvB,OAAO,IAAIC,EAA2B1C,GACxC,KAAKrD,EAAKwD,eAAewC,MACvB,OAAO,IAAIjG,EAAuBsD,GACpC,KAAKrD,EAAKwD,eAAeyC,eACvB,OAAO,IAAIC,EAAgC7C,GAC7C,QACE,OAAO,IAAI8C,EAAkB9C,GAEnC,EAEF,MAAM8C,EACJ,IAAa,EACb,WAAAC,CAAY/C,GAAY,aACtBgD,GAAe,EAAK,aACpBC,GAAe,EAAK,qBACpBC,GAAuB,GACrB,CAAC,GACH/D,KAAK6D,aAAeA,EACpB7D,KAAKc,KAAOD,EAAWC,KACvBd,KAAKgE,MAAQnD,EAAWmD,MACxBhE,KAAKiE,YAAcpD,EAAWoD,YAC9BjE,KAAKkE,gBAAkBrD,EAAWqD,gBAClClE,KAAKmE,mBAAqBtD,EAAWsD,mBACrCnE,KAAKoE,YAAcvD,EAAWuD,YAC9BpE,KAAKqE,WAAaxD,EAAWwD,WAC7BrE,KAAKsE,kBAAoBzD,EAAWyD,kBACpCtE,KAAKuE,gBAAkB1D,EAAW0D,gBAClCvE,KAAKwE,aAAe3D,EAAW2D,aAC/BxE,KAAKyE,cAAgB5D,EAAW6D,aAChC1E,KAAK2E,OAAS9D,EAAW8D,OACrBd,IACF7D,KAAK4E,UAAY5E,KAAK6E,iBAAiBf,IAErCC,GACF/D,KAAK8E,uBAET,CACA,oBAAOC,EAAc,SACnBC,EAAQ,YACRC,EAAW,SACXC,IAEA,SAAUF,GAAUG,KAAOF,GAAaE,KAAOD,GAAUC,IAC3D,CACA,gBAAIC,GACF,OAAOzB,EAAkBoB,cAAc/E,KAAKc,KAC9C,CACA,gBAAA+D,CAAiBf,GACf,MAAM,KACJhD,EACA6D,QAAQ,KACNU,EAAI,SACJC,IAEAtF,KACE4E,EAAYW,SAASC,cAAc,WACzCZ,EAAUa,aAAa,qBAAsB3E,EAAK4E,IAC5C1F,gBAAgB+B,IACpB6C,EAAUe,SAAWvF,GAEvBwE,EAAUgB,MAAMC,OAAS7F,KAAK2E,OAAOkB,SACjC7F,KAAKc,KAAKgF,UACZlB,EAAUa,aAAa,gBAAiB,UAEtC3E,EAAKiF,UACPnB,EAAUoB,UAAUC,IAAI,YAE1B,MAAM,UACJC,EAAS,WACTC,EAAU,MACVC,EAAK,MACLC,GACEf,EAASgB,QACb,IAAKxF,EAAKN,MAAQR,gBAAgBiC,EAAwB,CACxD,MAAM,SACJsE,GACEzF,EAIJ,OAHKA,EAAK0F,cAA6B,IAAbD,GACxBvG,KAAKyG,YAAYF,EAAU3B,GAEtBA,CACT,CACA,MAAM,MACJnE,EAAK,OACLC,GACEH,EAAYO,EAAKN,MACfA,EAAOhD,EAAKkJ,KAAKC,cAAc,CAAC7F,EAAKN,KAAK,GAAI6E,EAAKuB,KAAK,GAAK9F,EAAKN,KAAK,GAAK6E,EAAKuB,KAAK,GAAI9F,EAAKN,KAAK,GAAI6E,EAAKuB,KAAK,GAAK9F,EAAKN,KAAK,GAAK6E,EAAKuB,KAAK,KACtJ,IAAK9C,GAAgBhD,EAAK+F,YAAYpG,MAAQ,EAAG,CAC/CmE,EAAUgB,MAAMkB,YAAc,GAAGhG,EAAK+F,YAAYpG,UAClD,MAAMsG,EAAmBjG,EAAK+F,YAAYG,uBACpCC,EAAiBnG,EAAK+F,YAAYK,qBACxC,GAAIH,EAAmB,GAAKE,EAAiB,EAAG,CAC9C,MAAME,EAAS,QAAQJ,qCAAoDE,6BAC3ErC,EAAUgB,MAAMwB,aAAeD,CACjC,MAAO,GAAInH,gBAAgByB,EAAoC,CAC7D,MAAM0F,EAAS,QAAQ1G,qCAAyCC,6BAChEkE,EAAUgB,MAAMwB,aAAeD,CACjC,CACA,OAAQrG,EAAK+F,YAAYjB,OACvB,KAAKpI,EAAK6J,0BAA0BC,MAClC1C,EAAUgB,MAAMiB,YAAc,QAC9B,MACF,KAAKrJ,EAAK6J,0BAA0BE,OAClC3C,EAAUgB,MAAMiB,YAAc,SAC9B,MACF,KAAKrJ,EAAK6J,0BAA0BG,SAClC,EAAGhK,EAAKiK,MAAM,uCACd,MACF,KAAKjK,EAAK6J,0BAA0BK,OAClC,EAAGlK,EAAKiK,MAAM,qCACd,MACF,KAAKjK,EAAK6J,0BAA0BnE,UAClC0B,EAAUgB,MAAM+B,kBAAoB,QAKxC,MAAMC,EAAc9G,EAAK8G,aAAe,KACpCA,GACF5H,MAAK,GAAa,EAClB4E,EAAUgB,MAAMgC,YAAcpK,EAAKkJ,KAAKmB,aAA8B,EAAjBD,EAAY,GAAyB,EAAjBA,EAAY,GAAyB,EAAjBA,EAAY,KAEzGhD,EAAUgB,MAAMkB,YAAc,CAElC,CACAlC,EAAUgB,MAAMkC,KAAU,KAAOtH,EAAK,GAAK4F,GAASF,EAA7B,IACvBtB,EAAUgB,MAAMmC,IAAS,KAAOvH,EAAK,GAAK6F,GAASF,EAA7B,IACtB,MAAM,SACJI,GACEzF,EAOJ,OANIA,EAAK0F,cAA6B,IAAbD,GACvB3B,EAAUgB,MAAMnF,MAAW,IAAMA,EAAQyF,EAAjB,IACxBtB,EAAUgB,MAAMlF,OAAY,IAAMA,EAASyF,EAAlB,KAEzBnG,KAAKyG,YAAYF,EAAU3B,GAEtBA,CACT,CACA,WAAA6B,CAAYuB,EAAOpD,EAAY5E,KAAK4E,WAClC,IAAK5E,KAAKc,KAAKN,KACb,OAEF,MAAM,UACJ0F,EAAS,WACTC,GACEnG,KAAK2E,OAAOW,SAASgB,SACnB,MACJ7F,EAAK,OACLC,GACEH,EAAYP,KAAKc,KAAKN,MAC1B,IAAIyH,EAAcC,EACdF,EAAQ,KAAQ,GAClBC,EAAe,IAAMxH,EAAQyF,EAC7BgC,EAAgB,IAAMxH,EAASyF,IAE/B8B,EAAe,IAAMvH,EAASwF,EAC9BgC,EAAgB,IAAMzH,EAAQ0F,GAEhCvB,EAAUgB,MAAMnF,MAAQ,GAAGwH,KAC3BrD,EAAUgB,MAAMlF,OAAS,GAAGwH,KAC5BtD,EAAUa,aAAa,sBAAuB,IAAMuC,GAAS,IAC/D,CACA,kBAAIG,GACF,MAAMC,EAAW,CAACC,EAAQC,EAAWC,KACnC,MAAMlJ,EAAQkJ,EAAMC,OAAOH,GACrBI,EAAYpJ,EAAM,GAClBqJ,EAAarJ,EAAMY,MAAM,GAC/BsI,EAAMI,OAAO/C,MAAM0C,GAAajK,EAAgB,GAAGoK,UAAkBC,GACrE1I,KAAKsE,kBAAkBsE,SAAS5I,KAAKc,KAAK4E,GAAI,CAC5C,CAAC4C,GAAYjK,EAAgB,GAAGoK,SAAiBC,IACjD,EAEJ,OAAO,EAAGlL,EAAKqL,QAAQ7I,KAAM,iBAAkB,CAC7C8I,QAASP,IACP,MAAM,QACJO,GACEP,EAAMC,OACJO,EAASD,EAAU,GAAM,EAC/B9I,KAAK4E,UAAUgB,MAAMoD,WAAaD,EAAS,SAAW,UACtD/I,KAAKsE,kBAAkBsE,SAAS5I,KAAKc,KAAK4E,GAAI,CAC5CuD,OAAQF,EACRG,QAAqB,IAAZJ,GAA6B,IAAZA,GAC1B,EAEJK,MAAOZ,IACLvI,KAAKsE,kBAAkBsE,SAAS5I,KAAKc,KAAK4E,GAAI,CAC5CwD,SAAUX,EAAMC,OAAOW,OACvB,EAEJJ,OAAQR,IACN,MAAM,OACJQ,GACER,EAAMC,OACVxI,KAAK4E,UAAUgB,MAAMoD,WAAaD,EAAS,SAAW,UACtD/I,KAAKsE,kBAAkBsE,SAAS5I,KAAKc,KAAK4E,GAAI,CAC5CwD,QAASH,EACTE,OAAQF,GACR,EAEJK,MAAOb,IACLc,YAAW,IAAMd,EAAMI,OAAOS,MAAM,CAClCE,eAAe,KACb,EAAE,EAERC,SAAUhB,IACRA,EAAMI,OAAOa,MAAQjB,EAAMC,OAAOe,QAAQ,EAE5CE,SAAUlB,IACRA,EAAMI,OAAOe,SAAWnB,EAAMC,OAAOiB,QAAQ,EAE/CE,SAAUpB,IACRvI,KAAK4J,aAAarB,EAAMI,OAAQJ,EAAMC,OAAOmB,SAAS,EAExDE,QAAStB,IACPH,EAAS,UAAW,kBAAmBG,EAAM,EAE/CuB,UAAWvB,IACTH,EAAS,YAAa,kBAAmBG,EAAM,EAEjDwB,QAASxB,IACPH,EAAS,UAAW,QAASG,EAAM,EAErCyB,UAAWzB,IACTH,EAAS,YAAa,QAASG,EAAM,EAEvCX,YAAaW,IACXH,EAAS,cAAe,cAAeG,EAAM,EAE/C0B,YAAa1B,IACXH,EAAS,cAAe,cAAeG,EAAM,EAE/ChC,SAAUgC,IACR,MAAMP,EAAQO,EAAMC,OAAOjC,SAC3BvG,KAAKyG,YAAYuB,GACjBhI,KAAKsE,kBAAkBsE,SAAS5I,KAAKc,KAAK4E,GAAI,CAC5Ca,SAAUyB,GACV,GAGR,CACA,yBAAAkC,CAA0BC,EAASC,GACjC,MAAMC,EAAgBrK,KAAKmI,eAC3B,IAAK,MAAMmC,KAAQC,OAAOC,KAAKJ,EAAQ5B,QAAS,CAC9C,MAAMiC,EAASN,EAAQG,IAASD,EAAcC,GAC9CG,IAASL,EACX,CACF,CACA,2BAAAM,CAA4BC,GAC1B,IAAK3K,KAAKuE,gBACR,OAEF,MAAMqG,EAAa5K,KAAKsE,kBAAkBuG,YAAY7K,KAAKc,KAAK4E,IAChE,IAAKkF,EACH,OAEF,MAAMP,EAAgBrK,KAAKmI,eAC3B,IAAK,MAAO2C,EAAYtC,KAAW+B,OAAOQ,QAAQH,GAAa,CAC7D,MAAMH,EAASJ,EAAcS,GAC7B,GAAIL,EAAQ,CAOVA,EANmB,CACjBjC,OAAQ,CACN,CAACsC,GAAatC,GAEhBG,OAAQgC,WAGHC,EAAWE,EACpB,CACF,CACF,CACA,qBAAAhG,GACE,IAAK9E,KAAK4E,UACR,OAEF,MAAM,WACJoG,GACEhL,KAAKc,KACT,IAAKkK,EACH,OAEF,MAAOC,EAASC,EAASC,EAASC,GAAWpL,KAAKc,KAAKN,KACvD,GAA0B,IAAtBwK,EAAWK,OAAc,CAC3B,MAAO,EACLjN,EAAGkN,EACH9M,EAAG+M,IAEHnN,EAAGoN,EACHhN,EAAGiN,IACAT,EAAW,GAChB,GAAIG,IAAYG,GAAOF,IAAYG,GAAON,IAAYO,GAAON,IAAYO,EACvE,MAEJ,CACA,MAAM,MACJ7F,GACE5F,KAAK4E,UACT,IAAI8G,EACJ,GAAI1L,MAAK,EAAY,CACnB,MAAM,YACJ4H,EAAW,YACXd,GACElB,EACJA,EAAMkB,YAAc,EACpB4E,EAAY,CAAC,gCAAiC,0CAA2C,iDAAkD,iCAAiC9D,oBAA8Bd,OAC1M9G,KAAK4E,UAAUoB,UAAUC,IAAI,YAC/B,CACA,MAAMxF,EAAQ0K,EAAUF,EAClBvK,EAAS0K,EAAUF,GACnB,WACJ7G,GACErE,KACE2L,EAAMtH,EAAWmB,cAAc,OACrCmG,EAAI3F,UAAUC,IAAI,2BAClB0F,EAAIlG,aAAa,QAAS,GAC1BkG,EAAIlG,aAAa,SAAU,GAC3B,MAAMmG,EAAOvH,EAAWmB,cAAc,QACtCmG,EAAIE,OAAOD,GACX,MAAME,EAAWzH,EAAWmB,cAAc,YACpCE,EAAK,YAAY1F,KAAKc,KAAK4E,KACjCoG,EAASrG,aAAa,KAAMC,GAC5BoG,EAASrG,aAAa,gBAAiB,qBACvCmG,EAAKC,OAAOC,GACZ,IAAK,MAAO,EACV1N,EAAGkN,EACH9M,EAAG+M,IAEHnN,EAAGoN,EACHhN,EAAGiN,MACCT,EAAY,CAChB,MAAMxK,EAAO6D,EAAWmB,cAAc,QAChCpH,GAAKoN,EAAMP,GAAWxK,EACtBjC,GAAK4M,EAAUG,GAAO7K,EACtBqL,GAAaT,EAAME,GAAO/K,EAC1BuL,GAAcT,EAAME,GAAO/K,EACjCF,EAAKiF,aAAa,IAAKrH,GACvBoC,EAAKiF,aAAa,IAAKjH,GACvBgC,EAAKiF,aAAa,QAASsG,GAC3BvL,EAAKiF,aAAa,SAAUuG,GAC5BF,EAASD,OAAOrL,GAChBkL,GAAWO,KAAK,+CAA+C7N,SAASI,aAAauN,cAAsBC,OAC7G,CACIhM,MAAK,IACP0L,EAAUO,KAAK,gBACfrG,EAAMsG,gBAAkBR,EAAUlM,KAAK,KAEzCQ,KAAK4E,UAAUiH,OAAOF,GACtB3L,KAAK4E,UAAUgB,MAAMkG,SAAW,QAAQpG,IAC1C,CACA,YAAAyG,GACE,MAAM,UACJvH,EAAS,KACT9D,GACEd,KACJ4E,EAAUa,aAAa,gBAAiB,UACxC,MAAM2G,EAAQ,IAAInK,EAAuB,CACvCnB,KAAM,CACJzB,MAAOyB,EAAKzB,MACZ2F,SAAUlE,EAAKkE,SACfqH,iBAAkBvL,EAAKuL,iBACvBpH,YAAanE,EAAKmE,YAClBC,SAAUpE,EAAKoE,SACfoH,WAAYxL,EAAKN,KACjBqG,YAAa,EACbnB,GAAI,SAAS5E,EAAK4E,KAClBa,SAAUzF,EAAKyF,UAEjB5B,OAAQ3E,KAAK2E,OACb4H,SAAU,CAACvM,QAEbA,KAAK2E,OAAO6H,IAAIX,OAAOO,EAAMK,SAC/B,CACA,MAAAA,IACE,EAAGjP,EAAKkP,aAAa,oDACvB,CACA,kBAAAC,CAAmBrC,EAAMsC,EAAS,MAChC,MAAMC,EAAS,GACf,GAAI7M,KAAKyE,cAAe,CACtB,MAAMqI,EAAW9M,KAAKyE,cAAc6F,GACpC,GAAIwC,EACF,IAAK,MAAM,KACTzH,EAAI,GACJK,EAAE,aACFqH,KACGD,EAAU,CACb,IAAc,IAAVzH,EACF,SAEF,GAAIK,IAAOkH,EACT,SAEF,MAAMI,EAAsC,iBAAjBD,EAA4BA,EAAe,KAChEE,EAAa1H,SAAS2H,cAAc,qBAAqBxH,QAC3DuH,GAAe5M,EAAqB8M,IAAIF,GAI5CJ,EAAOZ,KAAK,CACVvG,KACAsH,cACAC,gBANA,EAAGzP,EAAKiK,MAAM,6CAA6C/B,IAQ/D,CAEF,OAAOmH,CACT,CACA,IAAK,MAAMI,KAAc1H,SAAS6H,kBAAkB9C,GAAO,CACzD,MAAM,YACJ0C,GACEC,EACEvH,EAAKuH,EAAWI,aAAa,mBAC/B3H,IAAOkH,IAGNvM,EAAqB8M,IAAIF,IAG9BJ,EAAOZ,KAAK,CACVvG,KACAsH,cACAC,eAEJ,CACA,OAAOJ,CACT,CACA,IAAAS,GACMtN,KAAK4E,YACP5E,KAAK4E,UAAUmE,QAAS,GAE1B/I,KAAKoM,OAAOmB,WACd,CACA,IAAAC,GACMxN,KAAK4E,YACP5E,KAAK4E,UAAUmE,QAAS,GAE1B/I,KAAKoM,OAAOqB,WACd,CACA,yBAAAC,GACE,OAAO1N,KAAK4E,SACd,CACA,gBAAA+I,GACE,MAAMC,EAAW5N,KAAK0N,4BACtB,GAAIG,MAAMC,QAAQF,GAChB,IAAK,MAAMjD,KAAWiD,EACpBjD,EAAQ3E,UAAUC,IAAI,sBAGxB2H,EAAS5H,UAAUC,IAAI,gBAE3B,CACA,eAAI8H,GACF,OAAO,CACT,CACA,kBAAAC,GACE,IAAKhO,KAAK+N,YACR,OAEF,MACEE,qBAAsBC,EACtBpN,MACE4E,GAAIyI,IAEJnO,KACJA,KAAK4E,UAAUwJ,iBAAiB,YAAY,KAC1CpO,KAAKiE,YAAYoK,UAAUC,SAAS,6BAA8B,CAChEC,OAAQvO,KACRkO,OACAC,UACA,GAEN,EAEF,MAAMjN,UAA8ByC,EAClC,WAAAC,CAAY/C,EAAY2N,EAAU,MAChCC,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,eAAgB0K,GAAS1K,aACzBC,sBAAsB,IAExB/D,KAAK0O,cAAgB7N,EAAWC,KAAK4N,aACvC,CACA,MAAAjC,GACE,MAAM,KACJ3L,EAAI,YACJmD,GACEjE,KACE2O,EAAOpJ,SAASC,cAAc,KACpCmJ,EAAKlJ,aAAa,kBAAmB3E,EAAK4E,IAC1C,IAAIkJ,GAAU,EAiCd,OAhCI9N,EAAK+N,KACP5K,EAAY6K,kBAAkBH,EAAM7N,EAAK+N,IAAK/N,EAAKiO,WACnDH,GAAU,GACD9N,EAAK2J,QACdzK,KAAKgP,iBAAiBL,EAAM7N,EAAK2J,QACjCmE,GAAU,GACD9N,EAAKmO,YACdjP,MAAK,EAAgB2O,EAAM7N,EAAKmO,WAAYnO,EAAKoO,gBACjDN,GAAU,GACD9N,EAAKqO,aACdnP,MAAK,EAAiB2O,EAAM7N,EAAKqO,aACjCP,GAAU,GACD9N,EAAKsO,MACdpP,KAAKqP,UAAUV,EAAM7N,EAAKsO,MAC1BR,GAAU,IAEN9N,EAAKqJ,UAAYrJ,EAAKqJ,QAAQmF,QAAUxO,EAAKqJ,QAAQ,aAAerJ,EAAKqJ,QAAQ,gBAAkBnK,KAAKuE,iBAAmBvE,KAAKwE,eAClIxE,KAAKuP,cAAcZ,EAAM7N,GACzB8N,GAAU,GAER9N,EAAK0O,WACPxP,KAAKyP,qBAAqBd,EAAM7N,EAAK0O,WACrCZ,GAAU,GACD5O,KAAK0O,gBAAkBE,IAChC5O,KAAKqP,UAAUV,EAAM,IACrBC,GAAU,IAGd5O,KAAK4E,UAAUoB,UAAUC,IAAI,kBACzB2I,GACF5O,KAAK4E,UAAUiH,OAAO8C,GAEjB3O,KAAK4E,SACd,CACA,KACE5E,KAAK4E,UAAUa,aAAa,qBAAsB,GACpD,CACA,SAAA4J,CAAUV,EAAMe,GACdf,EAAKgB,KAAO3P,KAAKiE,YAAY2L,mBAAmBF,GAChDf,EAAKkB,QAAU,KACTH,GACF1P,KAAKiE,YAAY6L,gBAAgBJ,IAE5B,IAELA,GAA+B,KAAhBA,IACjB1P,MAAK,GAET,CACA,gBAAAgP,CAAiBL,EAAMlE,GACrBkE,EAAKgB,KAAO3P,KAAKiE,YAAY8L,aAAa,IAC1CpB,EAAKkB,QAAU,KACb7P,KAAKiE,YAAY+L,mBAAmBvF,IAC7B,GAETzK,MAAK,GACP,CACA,GAAgB2O,EAAMM,EAAYG,EAAO,MACvCT,EAAKgB,KAAO3P,KAAKiE,YAAY8L,aAAa,IAC1CpB,EAAKkB,QAAU,KACb7P,KAAKkE,iBAAiB+L,mBAAmBhB,EAAWiB,QAASjB,EAAWkB,SAAUf,IAC3E,GAETpP,MAAK,GACP,CACA,GAAiB2O,EAAMlE,GACrBkE,EAAKgB,KAAO3P,KAAKiE,YAAY8L,aAAa,IAC1CpB,EAAKkB,QAAU,KACb7P,KAAKiE,YAAYmM,mBAAmB3F,IAC7B,GAETzK,MAAK,GACP,CACA,aAAAuP,CAAcZ,EAAM7N,GAClB6N,EAAKgB,KAAO3P,KAAKiE,YAAY8L,aAAa,IAC1C,MAAMzQ,EAAM,IAAI+Q,IAAI,CAAC,CAAC,SAAU,WAAY,CAAC,WAAY,aAAc,CAAC,aAAc,iBACtF,IAAK,MAAM/F,KAAQC,OAAOC,KAAK1J,EAAKqJ,SAAU,CAC5C,MAAM9B,EAAS/I,EAAIgR,IAAIhG,GAClBjC,IAGLsG,EAAKtG,GAAU,KACbrI,KAAKiE,YAAYoK,UAAUC,SAAS,yBAA0B,CAC5DC,OAAQvO,KACRwI,OAAQ,CACN9C,GAAI5E,EAAK4E,GACT4E,WAGG,GAEX,CACKqE,EAAKkB,UACRlB,EAAKkB,QAAU,KAAM,GAEvB7P,MAAK,GACP,CACA,oBAAAyP,CAAqBd,EAAMa,GACzB,MAAMe,EAAmB5B,EAAKkB,QAK9B,GAJKU,IACH5B,EAAKgB,KAAO3P,KAAKiE,YAAY8L,aAAa,KAE5C/P,MAAK,KACAA,KAAKyE,cAKR,OAJA,EAAGjH,EAAKiK,MAAM,uHACT8I,IACH5B,EAAKkB,QAAU,KAAM,IAIzBlB,EAAKkB,QAAU,KACbU,MACA,MACE1D,OAAQ2D,EACRC,KAAMC,EAAa,QACnBC,GACEnB,EACEoB,EAAY,GAClB,GAA+B,IAA3BJ,EAAgBnF,QAAyC,IAAzBqF,EAAcrF,OAAc,CAC9D,MAAMwF,EAAW,IAAIC,IAAIJ,GACzB,IAAK,MAAMK,KAAaP,EAAiB,CACvC,MAAM3D,EAAS7M,KAAKyE,cAAcsM,IAAc,GAChD,IAAK,MAAM,GACTrL,KACGmH,EACHgE,EAAS5K,IAAIP,EAEjB,CACA,IAAK,MAAMmH,KAAUtC,OAAOyG,OAAOhR,KAAKyE,eACtC,IAAK,MAAMwM,KAASpE,EACdgE,EAAS1D,IAAI8D,EAAMvL,MAAQiL,GAC7BC,EAAU3E,KAAKgF,EAIvB,MACE,IAAK,MAAMpE,KAAUtC,OAAOyG,OAAOhR,KAAKyE,eACtCmM,EAAU3E,QAAQY,GAGtB,MAAMqE,EAAUlR,KAAKsE,kBACf6M,EAAS,GACf,IAAK,MAAMF,KAASL,EAAW,CAC7B,MAAM,GACJlL,GACEuL,EAEJ,OADAE,EAAOlF,KAAKvG,GACJuL,EAAMG,MACZ,IAAK,OACH,CACE,MAAMC,EAAQJ,EAAMK,cAAgB,GACpCJ,EAAQtI,SAASlD,EAAI,CACnB2L,UAEF,KACF,CACF,IAAK,WACL,IAAK,cACH,CACE,MAAMA,EAAQJ,EAAMK,eAAiBL,EAAMlE,aAC3CmE,EAAQtI,SAASlD,EAAI,CACnB2L,UAEF,KACF,CACF,IAAK,WACL,IAAK,UACH,CACE,MAAMA,EAAQJ,EAAMK,cAAgB,GACpCJ,EAAQtI,SAASlD,EAAI,CACnB2L,UAEF,KACF,CACF,QACE,SAEJ,MAAMpE,EAAa1H,SAAS2H,cAAc,qBAAqBxH,OAC1DuH,IAEO5M,EAAqB8M,IAAIF,GAIrCA,EAAWsE,cAAc,IAAIC,MAAM,eAHjC,EAAGhU,EAAKiK,MAAM,+CAA+C/B,KAIjE,CAWA,OAVI1F,KAAKuE,iBACPvE,KAAKiE,YAAYoK,UAAUC,SAAS,yBAA0B,CAC5DC,OAAQvO,KACRwI,OAAQ,CACN9C,GAAI,MACJ+L,IAAKN,EACL7G,KAAM,gBAIL,CAAK,CAEhB,EAEF,MAAMlJ,UAA8BuC,EAClC,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,GAElB,CACA,MAAA4I,GACEzM,KAAK4E,UAAUoB,UAAUC,IAAI,kBAC7B,MAAMyL,EAAQnM,SAASC,cAAc,OAUrC,OATAkM,EAAMC,IAAM3R,KAAKmE,mBAAqB,cAAgBnE,KAAKc,KAAKwJ,KAAKsH,cAAgB,OACrFF,EAAMjM,aAAa,eAAgB,8BACnCiM,EAAMjM,aAAa,iBAAkBoM,KAAKC,UAAU,CAClDV,KAAMpR,KAAKc,KAAKwJ,SAEbtK,KAAKc,KAAKgF,UAAY9F,KAAKoF,cAC9BpF,KAAKmM,eAEPnM,KAAK4E,UAAUiH,OAAO6F,GACf1R,KAAK4E,SACd,EAEF,MAAM7C,UAAgC4B,EACpC,MAAA8I,GAIE,OAHIzM,KAAKc,KAAKiR,kBACZ/R,KAAK4E,UAAU4E,MAAQxJ,KAAKc,KAAKiR,iBAE5B/R,KAAK4E,SACd,CACA,wBAAAoN,CAAyBrH,GACnB3K,KAAKc,KAAK0F,eAC8B,WAAtCmE,EAAQsH,iBAAiBC,WAC3BvH,EAAQsH,gBAAgBlJ,QAAS,GAEnC4B,EAAQ5B,QAAS,EAErB,CACA,eAAAoJ,CAAgB5J,GACd,OAAO/K,EAAK4U,YAAYC,SAASC,MAAQ/J,EAAMgK,QAAUhK,EAAMiK,OACjE,CACA,iBAAAC,CAAkB9H,EAAS+H,EAAaC,EAAUC,EAAWC,GACvDF,EAASG,SAAS,SACpBnI,EAAQyD,iBAAiBuE,GAAUpK,IACjCvI,KAAKiE,YAAYoK,UAAUC,SAAS,yBAA0B,CAC5DC,OAAQvO,KACRwI,OAAQ,CACN9C,GAAI1F,KAAKc,KAAK4E,GACd4E,KAAMsI,EACNvB,MAAOwB,EAAYtK,GACnBwK,MAAOxK,EAAMyK,SACbC,SAAUjT,KAAKmS,gBAAgB5J,KAEjC,IAGJoC,EAAQyD,iBAAiBuE,GAAUpK,IACjC,GAAiB,SAAboK,EAAqB,CACvB,IAAKD,EAAYQ,UAAY3K,EAAM4K,cACjC,OAEFT,EAAYQ,SAAU,CACxB,MAAO,GAAiB,UAAbP,EAAsB,CAC/B,GAAID,EAAYQ,QACd,OAEFR,EAAYQ,SAAU,CACxB,CACKL,GAGL7S,KAAKiE,YAAYoK,UAAUC,SAAS,yBAA0B,CAC5DC,OAAQvO,KACRwI,OAAQ,CACN9C,GAAI1F,KAAKc,KAAK4E,GACd4E,KAAMsI,EACNvB,MAAOwB,EAAYtK,KAErB,GAGR,CACA,kBAAA6K,CAAmBzI,EAAS+H,EAAaW,EAAOC,GAC9C,IAAK,MAAOX,EAAUC,KAAcS,GAChB,WAAdT,GAA0B5S,KAAKc,KAAKqJ,UAAUyI,MAC9B,UAAdA,GAAuC,SAAdA,IAC3BF,IAAgB,CACdQ,SAAS,IAGblT,KAAKyS,kBAAkB9H,EAAS+H,EAAaC,EAAUC,EAAWU,GAChD,UAAdV,GAA0B5S,KAAKc,KAAKqJ,SAASoJ,KAExB,SAAdX,GAAyB5S,KAAKc,KAAKqJ,SAASqJ,OACrDxT,KAAKyS,kBAAkB9H,EAAS+H,EAAa,QAAS,QAAS,MAF/D1S,KAAKyS,kBAAkB9H,EAAS+H,EAAa,OAAQ,OAAQ,MAMrE,CACA,mBAAAe,CAAoB9I,GAClB,MAAMtL,EAAQW,KAAKc,KAAK4S,iBAAmB,KAC3C/I,EAAQ/E,MAAM8N,gBAA4B,OAAVrU,EAAiB,cAAgB7B,EAAKkJ,KAAKmB,aAAaxI,EAAM,GAAIA,EAAM,GAAIA,EAAM,GACpH,CACA,aAAAsU,CAAchJ,GACZ,MAAMiJ,EAAiB,CAAC,OAAQ,SAAU,UACpC,UACJC,GACE7T,KAAKc,KAAKgT,sBACRC,EAAW/T,KAAKc,KAAKgT,sBAAsBC,UAr1B3B,EAs1BhBnO,EAAQ+E,EAAQ/E,MACtB,IAAIoO,EACJ,MACMC,EAAoB7V,GAAKP,KAAKqW,MAAM,GAAK9V,GAAK,GACpD,GAAI4B,KAAKc,KAAKqT,UAAW,CACvB,MAAMzT,EAAS7C,KAAKuW,IAAIpU,KAAKc,KAAKN,KAAK,GAAKR,KAAKc,KAAKN,KAAK,GAHzC,GAKZ6T,EAAa3T,GADG7C,KAAKqW,MAAMxT,GAAUlD,EAAK8W,YAAcP,KAAc,GAE5EC,EAAmBnW,KAAKG,IAAI+V,EAAUE,EAAkBI,EAAa7W,EAAK8W,aAC5E,KAAO,CACL,MAAM5T,EAAS7C,KAAKuW,IAAIpU,KAAKc,KAAKN,KAAK,GAAKR,KAAKc,KAAKN,KAAK,GARzC,GASlBwT,EAAmBnW,KAAKG,IAAI+V,EAAUE,EAAkBvT,EAASlD,EAAK8W,aACxE,CACA1O,EAAMmO,SAAW,QAAQC,6BACzBpO,EAAMvG,MAAQ7B,EAAKkJ,KAAKmB,aAAagM,EAAU,GAAIA,EAAU,GAAIA,EAAU,IAC3C,OAA5B7T,KAAKc,KAAKyT,gBACZ3O,EAAM4O,UAAYZ,EAAe5T,KAAKc,KAAKyT,eAE/C,CACA,YAAA3K,CAAae,EAAS8J,GAChBA,EACF9J,EAAQlF,aAAa,YAAY,GAEjCkF,EAAQ+J,gBAAgB,YAE1B/J,EAAQlF,aAAa,gBAAiBgP,EACxC,EAEF,MAAMlT,UAAoCQ,EACxC,WAAA6B,CAAY/C,GAEV4N,MAAM5N,EAAY,CAChBgD,aAFmBhD,EAAWuD,aAAevD,EAAWC,KAAK0F,eAAiB3F,EAAWC,KAAK6T,iBAAmB9T,EAAWC,KAAK8T,YAIrI,CACA,qBAAAC,CAAsBC,EAAMC,EAAK1D,EAAO2D,GACtC,MAAM9D,EAAUlR,KAAKsE,kBACrB,IAAK,MAAMqG,KAAW3K,KAAK2M,mBAAmBmI,EAAKxK,KAAMwK,EAAKpP,IACxDiF,EAAQsC,aACVtC,EAAQsC,WAAW8H,GAAO1D,GAE5BH,EAAQtI,SAAS+B,EAAQjF,GAAI,CAC3B,CAACsP,GAAe3D,GAGtB,CACA,MAAA5E,GACE,MAAMyE,EAAUlR,KAAKsE,kBACfoB,EAAK1F,KAAKc,KAAK4E,GACrB1F,KAAK4E,UAAUoB,UAAUC,IAAI,wBAC7B,IAAI0E,EAAU,KACd,GAAI3K,KAAKoE,YAAa,CACpB,MAAMwG,EAAasG,EAAQ+D,SAASvP,EAAI,CACtC2L,MAAOrR,KAAKc,KAAK8T,aAEnB,IAAIM,EAActK,EAAWyG,OAAS,GACtC,MAAM8D,EAASjE,EAAQ+D,SAASvP,EAAI,CAClC0P,UAAWpV,KAAKc,KAAKqU,SACpBC,UACCD,GAAUD,EAAY7J,OAAS8J,IACjCD,EAAcA,EAAYjV,MAAM,EAAGkV,IAErC,IAAIE,EAAuBzK,EAAW0K,gBAAkBtV,KAAKc,KAAKoU,aAAa1V,KAAK,OAAS,KACzF6V,GAAwBrV,KAAKc,KAAKyU,OACpCF,EAAuBA,EAAqBG,WAAW,OAAQ,KAEjE,MAAM9C,EAAc,CAClB+C,UAAWP,EACXI,eAAgBD,EAChBK,mBAAoB,KACpBC,UAAW,EACXzC,SAAS,GAEPlT,KAAKc,KAAKqT,WACZxJ,EAAUpF,SAASC,cAAc,YACjCmF,EAAQuK,YAAcG,GAAwBH,EAC1ClV,KAAKc,KAAK8U,cACZjL,EAAQ/E,MAAMiQ,UAAY,YAG5BlL,EAAUpF,SAASC,cAAc,SACjCmF,EAAQyG,KAAO,OACfzG,EAAQlF,aAAa,QAAS4P,GAAwBH,GAClDlV,KAAKc,KAAK8U,cACZjL,EAAQ/E,MAAMkQ,UAAY,WAG1B9V,KAAKc,KAAK0F,eACZmE,EAAQ5B,QAAS,GAEnB1I,EAAqB4F,IAAI0E,GACzBA,EAAQlF,aAAa,kBAAmBC,GACxCiF,EAAQjB,SAAW1J,KAAKc,KAAKiV,SAC7BpL,EAAQL,KAAOtK,KAAKc,KAAKiQ,UACzBpG,EAAQhF,SAAWvF,EACnBJ,KAAK4J,aAAae,EAAS3K,KAAKc,KAAK6I,UACjCwL,IACFxK,EAAQqL,UAAYb,GAEtBxK,EAAQyD,iBAAiB,SAAS7F,IAChC2I,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO9I,EAAMI,OAAO0I,QAEtBrR,KAAK6U,sBAAsBlK,EAAS,QAASpC,EAAMI,OAAO0I,MAAO,SACjEqB,EAAY4C,eAAiB,IAAI,IAEnC3K,EAAQyD,iBAAiB,aAAa7F,IACpC,MAAM+I,EAAetR,KAAKc,KAAKmV,mBAAqB,GACpDtL,EAAQ0G,MAAQqB,EAAY+C,UAAYnE,EACxCoB,EAAY4C,eAAiB,IAAI,IAEnC,IAAIY,EAAe3N,IACjB,MAAM,eACJ+M,GACE5C,EACA4C,UACF/M,EAAMI,OAAO0I,MAAQiE,GAEvB/M,EAAMI,OAAOwN,WAAa,CAAC,EAE7B,GAAInW,KAAKuE,iBAAmBvE,KAAKwE,aAAc,CAC7CmG,EAAQyD,iBAAiB,SAAS7F,IAChC,GAAImK,EAAYQ,QACd,OAEF,MAAM,OACJvK,GACEJ,EACAmK,EAAY+C,YACd9M,EAAO0I,MAAQqB,EAAY+C,WAE7B/C,EAAYgD,mBAAqB/M,EAAO0I,MACxCqB,EAAYiD,UAAY,EACxBjD,EAAYQ,SAAU,CAAI,IAE5BvI,EAAQyD,iBAAiB,qBAAqBhE,IAC5CpK,KAAKgS,yBAAyB5H,EAAQzB,QACtC,MAAMwB,EAAU,CACd,KAAAkH,CAAM9I,GACJmK,EAAY+C,UAAYlN,EAAMC,OAAO6I,OAAS,GAC9CH,EAAQtI,SAASlD,EAAI,CACnB2L,MAAOqB,EAAY+C,UAAUxX,aAE/BsK,EAAMI,OAAO0I,MAAQqB,EAAY+C,SACnC,EACA,cAAAH,CAAe/M,GACb,MAAM,eACJ+M,GACE/M,EAAMC,OACVkK,EAAY4C,eAAiBA,EACzBA,SAA2D/M,EAAMI,SAAWpD,SAAS6Q,gBACvF7N,EAAMI,OAAO0I,MAAQiE,GAEvBpE,EAAQtI,SAASlD,EAAI,CACnB4P,kBAEJ,EACA,QAAAe,CAAS9N,GACPA,EAAMI,OAAO2N,qBAAqB/N,EAAMC,OAAO6N,SACjD,EACAjB,UAAW7M,IACT,MAAM,UACJ6M,GACE7M,EAAMC,QACJ,OACJG,GACEJ,EACJ,GAAkB,IAAd6M,EAEF,YADAzM,EAAO+L,gBAAgB,aAGzB/L,EAAOlD,aAAa,YAAa2P,GACjC,IAAI/D,EAAQqB,EAAY+C,WACnBpE,GAASA,EAAMhG,QAAU+J,IAG9B/D,EAAQA,EAAMpR,MAAM,EAAGmV,GACvBzM,EAAO0I,MAAQqB,EAAY+C,UAAYpE,EACvCH,EAAQtI,SAASlD,EAAI,CACnB2L,UAEFrR,KAAKiE,YAAYoK,UAAUC,SAAS,yBAA0B,CAC5DC,OAAQvO,KACRwI,OAAQ,CACN9C,KACA4E,KAAM,YACN+G,QACAkF,YAAY,EACZZ,UAAW,EACXa,SAAU7N,EAAO8N,eACjBC,OAAQ/N,EAAOgO,gBAEjB,GAGN3W,KAAKkK,0BAA0BC,EAASC,EAAQ,IAElDO,EAAQyD,iBAAiB,WAAW7F,IAClCmK,EAAYiD,UAAY,EACxB,IAAIA,GAAa,EAQjB,GAPkB,WAAdpN,EAAMwM,IACRY,EAAY,EACW,UAAdpN,EAAMwM,KAAoB/U,KAAKc,KAAKqT,UAEtB,QAAd5L,EAAMwM,MACfrC,EAAYiD,UAAY,GAFxBA,EAAY,GAIK,IAAfA,EACF,OAEF,MAAM,MACJtE,GACE9I,EAAMI,OACN+J,EAAYgD,qBAAuBrE,IAGvCqB,EAAYgD,mBAAqBrE,EACjCqB,EAAY+C,UAAYpE,EACxBrR,KAAKiE,YAAYoK,UAAUC,SAAS,yBAA0B,CAC5DC,OAAQvO,KACRwI,OAAQ,CACN9C,KACA4E,KAAM,YACN+G,QACAkF,YAAY,EACZZ,YACAa,SAAUjO,EAAMI,OAAO8N,eACvBC,OAAQnO,EAAMI,OAAOgO,gBAEvB,IAEJ,MAAMC,EAAgBV,EACtBA,EAAe,KACfvL,EAAQyD,iBAAiB,QAAQ7F,IAC/B,IAAKmK,EAAYQ,UAAY3K,EAAM4K,cACjC,OAEFT,EAAYQ,SAAU,EACtB,MAAM,MACJ7B,GACE9I,EAAMI,OACV+J,EAAY+C,UAAYpE,EACpBqB,EAAYgD,qBAAuBrE,GACrCrR,KAAKiE,YAAYoK,UAAUC,SAAS,yBAA0B,CAC5DC,OAAQvO,KACRwI,OAAQ,CACN9C,KACA4E,KAAM,YACN+G,QACAkF,YAAY,EACZZ,UAAWjD,EAAYiD,UACvBa,SAAUjO,EAAMI,OAAO8N,eACvBC,OAAQnO,EAAMI,OAAOgO,gBAI3BC,EAAcrO,EAAM,IAElBvI,KAAKc,KAAKqJ,SAAS0M,WACrBlM,EAAQyD,iBAAiB,eAAe7F,IACtCmK,EAAYgD,mBAAqB,KACjC,MAAM,KACJ5U,EAAI,OACJ6H,GACEJ,GACE,MACJ8I,EAAK,eACLoF,EAAc,aACdE,GACEhO,EACJ,IAAI6N,EAAWC,EACbC,EAASC,EACX,OAAQpO,EAAMuO,WACZ,IAAK,qBACH,CACE,MAAMC,EAAQ1F,EAAM2F,UAAU,EAAGP,GAAgBM,MAAM,cACnDA,IACFP,GAAYO,EAAM,GAAG1L,QAEvB,KACF,CACF,IAAK,oBACH,CACE,MAAM0L,EAAQ1F,EAAM2F,UAAUP,GAAgBM,MAAM,cAChDA,IACFL,GAAUK,EAAM,GAAG1L,QAErB,KACF,CACF,IAAK,wBACCoL,IAAmBE,IACrBH,GAAY,GAEd,MACF,IAAK,uBACCC,IAAmBE,IACrBD,GAAU,GAIhBnO,EAAM0O,iBACNjX,KAAKiE,YAAYoK,UAAUC,SAAS,yBAA0B,CAC5DC,OAAQvO,KACRwI,OAAQ,CACN9C,KACA4E,KAAM,YACN+G,QACA6F,OAAQpW,GAAQ,GAChByV,YAAY,EACZC,WACAE,WAEF,IAGN1W,KAAKoT,mBAAmBzI,EAAS+H,EAAa,CAAC,CAAC,QAAS,SAAU,CAAC,OAAQ,QAAS,CAAC,YAAa,cAAe,CAAC,aAAc,eAAgB,CAAC,aAAc,cAAe,CAAC,UAAW,cAAcnK,GAASA,EAAMI,OAAO0I,OACjO,CAIA,GAHI6E,GACFvL,EAAQyD,iBAAiB,OAAQ8H,GAE/BlW,KAAKc,KAAKyU,KAAM,CAClB,MACM4B,GADanX,KAAKc,KAAKN,KAAK,GAAKR,KAAKc,KAAKN,KAAK,IACvB2U,EAC/BxK,EAAQ3E,UAAUC,IAAI,QACtB0E,EAAQ/E,MAAMwR,cAAgB,QAAQD,kCACxC,CACF,MACExM,EAAUpF,SAASC,cAAc,OACjCmF,EAAQuK,YAAclV,KAAKc,KAAK8T,WAChCjK,EAAQ/E,MAAMyR,cAAgB,SAC9B1M,EAAQ/E,MAAMkD,QAAU,aACpB9I,KAAKc,KAAK0F,eACZmE,EAAQ5B,QAAS,GAOrB,OAJA/I,KAAK2T,cAAchJ,GACnB3K,KAAKyT,oBAAoB9I,GACzB3K,KAAK0K,4BAA4BC,GACjC3K,KAAK4E,UAAUiH,OAAOlB,GACf3K,KAAK4E,SACd,EAEF,MAAM9C,UAAyCC,EAC7C,WAAA6B,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,eAAgBhD,EAAWC,KAAK0F,cAEpC,EAEF,MAAM7E,UAAwCI,EAC5C,WAAA6B,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,aAAchD,EAAWuD,aAE7B,CACA,MAAAqI,GACE,MAAMyE,EAAUlR,KAAKsE,kBACfxD,EAAOd,KAAKc,KACZ4E,EAAK5E,EAAK4E,GAChB,IAAI2L,EAAQH,EAAQ+D,SAASvP,EAAI,CAC/B2L,MAAOvQ,EAAKkM,cAAgBlM,EAAK8T,aAChCvD,MACkB,iBAAVA,IACTA,EAAkB,QAAVA,EACRH,EAAQtI,SAASlD,EAAI,CACnB2L,WAGJrR,KAAK4E,UAAUoB,UAAUC,IAAI,yBAA0B,YACvD,MAAM0E,EAAUpF,SAASC,cAAc,SAmDvC,OAlDAnF,EAAqB4F,IAAI0E,GACzBA,EAAQlF,aAAa,kBAAmBC,GACxCiF,EAAQjB,SAAW5I,EAAKiV,SACxB/V,KAAK4J,aAAae,EAAS3K,KAAKc,KAAK6I,UACrCgB,EAAQyG,KAAO,WACfzG,EAAQL,KAAOxJ,EAAKiQ,UAChBM,GACF1G,EAAQlF,aAAa,WAAW,GAElCkF,EAAQlF,aAAa,cAAe3E,EAAKkM,aACzCrC,EAAQhF,SAAWvF,EACnBuK,EAAQyD,iBAAiB,UAAU7F,IACjC,MAAM,KACJ+B,EAAI,QACJgN,GACE/O,EAAMI,OACV,IAAK,MAAM4O,KAAYvX,KAAK2M,mBAAmBrC,EAAM5E,GAAK,CACxD,MAAM8R,EAAaF,GAAWC,EAASvK,cAAgBlM,EAAKkM,YACxDuK,EAAStK,aACXsK,EAAStK,WAAWqK,QAAUE,GAEhCtG,EAAQtI,SAAS2O,EAAS7R,GAAI,CAC5B2L,MAAOmG,GAEX,CACAtG,EAAQtI,SAASlD,EAAI,CACnB2L,MAAOiG,GACP,IAEJ3M,EAAQyD,iBAAiB,aAAa7F,IACpC,MAAM+I,EAAexQ,EAAKmV,mBAAqB,MAC/C1N,EAAMI,OAAO2O,QAAUhG,IAAiBxQ,EAAKkM,WAAW,IAEtDhN,KAAKuE,iBAAmBvE,KAAKwE,eAC/BmG,EAAQyD,iBAAiB,qBAAqBhE,IAC5C,MAAMD,EAAU,CACd,KAAAkH,CAAM9I,GACJA,EAAMI,OAAO2O,QAAiC,QAAvB/O,EAAMC,OAAO6I,MACpCH,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO9I,EAAMI,OAAO2O,SAExB,GAEFtX,KAAKkK,0BAA0BC,EAASC,EAAQ,IAElDpK,KAAKoT,mBAAmBzI,EAAS,KAAM,CAAC,CAAC,SAAU,YAAa,CAAC,SAAU,UAAW,CAAC,QAAS,SAAU,CAAC,OAAQ,QAAS,CAAC,YAAa,cAAe,CAAC,aAAc,eAAgB,CAAC,aAAc,cAAe,CAAC,UAAW,cAAcpC,GAASA,EAAMI,OAAO2O,WAExQtX,KAAKyT,oBAAoB9I,GACzB3K,KAAK0K,4BAA4BC,GACjC3K,KAAK4E,UAAUiH,OAAOlB,GACf3K,KAAK4E,SACd,EAEF,MAAMnD,UAA2CM,EAC/C,WAAA6B,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,aAAchD,EAAWuD,aAE7B,CACA,MAAAqI,GACEzM,KAAK4E,UAAUoB,UAAUC,IAAI,yBAA0B,eACvD,MAAMiL,EAAUlR,KAAKsE,kBACfxD,EAAOd,KAAKc,KACZ4E,EAAK5E,EAAK4E,GAChB,IAAI2L,EAAQH,EAAQ+D,SAASvP,EAAI,CAC/B2L,MAAOvQ,EAAK8T,aAAe9T,EAAK2W,cAC/BpG,MACkB,iBAAVA,IACTA,EAAQA,IAAUvQ,EAAK2W,YACvBvG,EAAQtI,SAASlD,EAAI,CACnB2L,WAGJ,MAAM1G,EAAUpF,SAASC,cAAc,SA6BvC,GA5BAnF,EAAqB4F,IAAI0E,GACzBA,EAAQlF,aAAa,kBAAmBC,GACxCiF,EAAQjB,SAAW5I,EAAKiV,SACxB/V,KAAK4J,aAAae,EAAS3K,KAAKc,KAAK6I,UACrCgB,EAAQyG,KAAO,QACfzG,EAAQL,KAAOxJ,EAAKiQ,UAChBM,GACF1G,EAAQlF,aAAa,WAAW,GAElCkF,EAAQhF,SAAWvF,EACnBuK,EAAQyD,iBAAiB,UAAU7F,IACjC,MAAM,KACJ+B,EAAI,QACJgN,GACE/O,EAAMI,OACV,IAAK,MAAM+O,KAAS1X,KAAK2M,mBAAmBrC,EAAM5E,GAChDwL,EAAQtI,SAAS8O,EAAMhS,GAAI,CACzB2L,OAAO,IAGXH,EAAQtI,SAASlD,EAAI,CACnB2L,MAAOiG,GACP,IAEJ3M,EAAQyD,iBAAiB,aAAa7F,IACpC,MAAM+I,EAAexQ,EAAKmV,kBAC1B1N,EAAMI,OAAO2O,QAAUhG,SAAuDA,IAAiBxQ,EAAK2W,WAAW,IAE7GzX,KAAKuE,iBAAmBvE,KAAKwE,aAAc,CAC7C,MAAMmT,EAAiB7W,EAAK2W,YAC5B9M,EAAQyD,iBAAiB,qBAAqBhE,IAC5C,MAAMD,EAAU,CACdkH,MAAO9I,IACL,MAAM+O,EAAUK,IAAmBpP,EAAMC,OAAO6I,MAChD,IAAK,MAAMqG,KAAS1X,KAAK2M,mBAAmBpE,EAAMI,OAAO2B,MAAO,CAC9D,MAAMkN,EAAaF,GAAWI,EAAMhS,KAAOA,EACvCgS,EAAMzK,aACRyK,EAAMzK,WAAWqK,QAAUE,GAE7BtG,EAAQtI,SAAS8O,EAAMhS,GAAI,CACzB2L,MAAOmG,GAEX,IAGJxX,KAAKkK,0BAA0BC,EAASC,EAAQ,IAElDpK,KAAKoT,mBAAmBzI,EAAS,KAAM,CAAC,CAAC,SAAU,YAAa,CAAC,SAAU,UAAW,CAAC,QAAS,SAAU,CAAC,OAAQ,QAAS,CAAC,YAAa,cAAe,CAAC,aAAc,eAAgB,CAAC,aAAc,cAAe,CAAC,UAAW,cAAcpC,GAASA,EAAMI,OAAO2O,SACxQ,CAIA,OAHAtX,KAAKyT,oBAAoB9I,GACzB3K,KAAK0K,4BAA4BC,GACjC3K,KAAK4E,UAAUiH,OAAOlB,GACf3K,KAAK4E,SACd,EAEF,MAAMhD,UAA0CV,EAC9C,WAAA0C,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBiD,aAAcjD,EAAWC,KAAK6T,eAElC,CACA,MAAAlI,GACE,MAAM7H,EAAY6J,MAAMhC,SACxB7H,EAAUoB,UAAUC,IAAI,yBAA0B,cAC9CjG,KAAKc,KAAKiR,kBACZnN,EAAU4E,MAAQxJ,KAAKc,KAAKiR,iBAE9B,MAAM6F,EAAchT,EAAUiT,UAO9B,OANI7X,KAAKuE,iBAAmBvE,KAAKwE,cAAgBoT,IAC/C5X,KAAK0K,4BAA4BkN,GACjCA,EAAYxJ,iBAAiB,qBAAqBhE,IAChDpK,KAAKkK,0BAA0B,CAAC,EAAGE,EAAQ,KAGxCxF,CACT,EAEF,MAAM/C,UAAsCE,EAC1C,WAAA6B,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,aAAchD,EAAWuD,aAE7B,CACA,MAAAqI,GACEzM,KAAK4E,UAAUoB,UAAUC,IAAI,0BAC7B,MAAMiL,EAAUlR,KAAKsE,kBACfoB,EAAK1F,KAAKc,KAAK4E,GACfkF,EAAasG,EAAQ+D,SAASvP,EAAI,CACtC2L,MAAOrR,KAAKc,KAAK8T,aAEbkD,EAAgBvS,SAASC,cAAc,UAC7CnF,EAAqB4F,IAAI6R,GACzBA,EAAcrS,aAAa,kBAAmBC,GAC9CoS,EAAcpO,SAAW1J,KAAKc,KAAKiV,SACnC/V,KAAK4J,aAAakO,EAAe9X,KAAKc,KAAK6I,UAC3CmO,EAAcxN,KAAOtK,KAAKc,KAAKiQ,UAC/B+G,EAAcnS,SAAWvF,EACzB,IAAI2X,EAAkB/X,KAAKc,KAAKkX,OAAShY,KAAKc,KAAK0N,QAAQnD,OAAS,EAC/DrL,KAAKc,KAAKkX,QACbF,EAAcG,KAAOjY,KAAKc,KAAK0N,QAAQnD,OACnCrL,KAAKc,KAAKoX,cACZJ,EAAcK,UAAW,IAG7BL,EAAc1J,iBAAiB,aAAa7F,IAC1C,MAAM+I,EAAetR,KAAKc,KAAKmV,kBAC/B,IAAK,MAAMmC,KAAUN,EAActJ,QACjC4J,EAAOC,SAAWD,EAAO/G,QAAUC,CACrC,IAEF,IAAK,MAAM8G,KAAUpY,KAAKc,KAAK0N,QAAS,CACtC,MAAM8J,EAAgB/S,SAASC,cAAc,UAC7C8S,EAAcpD,YAAckD,EAAOG,aACnCD,EAAcjH,MAAQ+G,EAAOpL,YACzBpC,EAAWyG,MAAMyB,SAASsF,EAAOpL,eACnCsL,EAAc7S,aAAa,YAAY,GACvCsS,GAAkB,GAEpBD,EAAcjM,OAAOyM,EACvB,CACA,IAAIE,EAAmB,KACvB,GAAIT,EAAiB,CACnB,MAAMU,EAAoBlT,SAASC,cAAc,UACjDiT,EAAkBpH,MAAQ,IAC1BoH,EAAkBhT,aAAa,UAAU,GACzCgT,EAAkBhT,aAAa,YAAY,GAC3CqS,EAAcY,QAAQD,GACtBD,EAAmB,KACjBC,EAAkBE,SAClBb,EAAcc,oBAAoB,QAASJ,GAC3CA,EAAmB,IAAI,EAEzBV,EAAc1J,iBAAiB,QAASoK,EAC1C,CACA,MAAMvD,EAAW4D,IACf,MAAMvO,EAAOuO,EAAW,QAAU,eAC5B,QACJrK,EAAO,SACP2J,GACEL,EACJ,OAAKK,EAGEtK,MAAMiL,UAAUC,OAAOC,KAAKxK,GAAS4J,GAAUA,EAAOC,WAAU/Y,KAAI8Y,GAAUA,EAAO9N,MAFxD,IAA3BkE,EAAQyK,cAAuB,KAAOzK,EAAQA,EAAQyK,eAAe3O,EAEoB,EAEpG,IAAI4O,EAAiBjE,GAAS,GAC9B,MAAMkE,EAAW5Q,IACf,MAAMiG,EAAUjG,EAAMI,OAAO6F,QAC7B,OAAOX,MAAMiL,UAAUxZ,IAAI0Z,KAAKxK,GAAS4J,IAChC,CACLG,aAAcH,EAAOlD,YACrBlI,YAAaoL,EAAO/G,SAEtB,EA+IJ,OA7IIrR,KAAKuE,iBAAmBvE,KAAKwE,cAC/BsT,EAAc1J,iBAAiB,qBAAqBhE,IAClD,MAAMD,EAAU,CACd,KAAAkH,CAAM9I,GACJiQ,MACA,MAAMnH,EAAQ9I,EAAMC,OAAO6I,MACrBL,EAAS,IAAIF,IAAIjD,MAAMC,QAAQuD,GAASA,EAAQ,CAACA,IACvD,IAAK,MAAM+G,KAAUN,EAActJ,QACjC4J,EAAOC,SAAWrH,EAAO7D,IAAIiL,EAAO/G,OAEtCH,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO4D,GAAS,KAElBiE,EAAiBjE,GAAS,EAC5B,EACA,iBAAAmE,CAAkB7Q,GAChBuP,EAAcK,UAAW,CAC3B,EACA,MAAAQ,CAAOpQ,GACL,MAAMiG,EAAUsJ,EAActJ,QACxB6K,EAAQ9Q,EAAMC,OAAOmQ,OAG3B,GAFAnK,EAAQ6K,GAAOhB,UAAW,EAC1BP,EAAca,OAAOU,GACjB7K,EAAQnD,OAAS,EAAG,EAEX,IADDwC,MAAMiL,UAAUQ,UAAUN,KAAKxK,GAAS4J,GAAUA,EAAOC,aAEjE7J,EAAQ,GAAG6J,UAAW,EAE1B,CACAnH,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO4D,GAAS,GAChBsE,MAAOJ,EAAS5Q,KAElB2Q,EAAiBjE,GAAS,EAC5B,EACA,KAAAuE,CAAMjR,GACJ,KAAgC,IAAzBuP,EAAczM,QACnByM,EAAca,OAAO,GAEvBzH,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO,KACPkI,MAAO,KAETL,EAAiBjE,GAAS,EAC5B,EACA,MAAAwE,CAAOlR,GACL,MAAM,MACJ8Q,EAAK,aACLd,EAAY,YACZvL,GACEzE,EAAMC,OAAOiR,OACXC,EAAc5B,EAAc6B,SAASN,GACrCf,EAAgB/S,SAASC,cAAc,UAC7C8S,EAAcpD,YAAcqD,EAC5BD,EAAcjH,MAAQrE,EAClB0M,EACFA,EAAYE,OAAOtB,GAEnBR,EAAcjM,OAAOyM,GAEvBpH,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO4D,GAAS,GAChBsE,MAAOJ,EAAS5Q,KAElB2Q,EAAiBjE,GAAS,EAC5B,EACA,KAAAsE,CAAMhR,GACJ,MAAM,MACJgR,GACEhR,EAAMC,OACV,KAAgC,IAAzBsP,EAAczM,QACnByM,EAAca,OAAO,GAEvB,IAAK,MAAMkB,KAAQN,EAAO,CACxB,MAAM,aACJhB,EAAY,YACZvL,GACE6M,EACEvB,EAAgB/S,SAASC,cAAc,UAC7C8S,EAAcpD,YAAcqD,EAC5BD,EAAcjH,MAAQrE,EACtB8K,EAAcjM,OAAOyM,EACvB,CACIR,EAActJ,QAAQnD,OAAS,IACjCyM,EAActJ,QAAQ,GAAG6J,UAAW,GAEtCnH,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO4D,GAAS,GAChBsE,MAAOJ,EAAS5Q,KAElB2Q,EAAiBjE,GAAS,EAC5B,EACA,OAAA6E,CAAQvR,GACN,MAAMuR,EAAU,IAAIhJ,IAAIvI,EAAMC,OAAOsR,SACrC,IAAK,MAAM1B,KAAU7P,EAAMI,OAAO6F,QAChC4J,EAAOC,SAAWyB,EAAQ3M,IAAIiL,EAAOiB,OAEvCnI,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO4D,GAAS,KAElBiE,EAAiBjE,GAAS,EAC5B,EACA,QAAA8E,CAASxR,GACPA,EAAMI,OAAOe,UAAYnB,EAAMC,OAAOuR,QACxC,GAEF/Z,KAAKkK,0BAA0BC,EAASC,EAAQ,IAElD0N,EAAc1J,iBAAiB,SAAS7F,IACtC,MAAMyE,EAAciI,GAAS,GAC7B/D,EAAQtI,SAASlD,EAAI,CACnB2L,MAAOrE,IAETzE,EAAM0O,iBACNjX,KAAKiE,YAAYoK,UAAUC,SAAS,yBAA0B,CAC5DC,OAAQvO,KACRwI,OAAQ,CACN9C,KACA4E,KAAM,YACN+G,MAAO6H,EACPc,SAAUhN,EACVuJ,YAAY,EACZZ,UAAW,EACXsE,SAAS,IAEX,IAEJja,KAAKoT,mBAAmB0E,EAAe,KAAM,CAAC,CAAC,QAAS,SAAU,CAAC,OAAQ,QAAS,CAAC,YAAa,cAAe,CAAC,aAAc,eAAgB,CAAC,aAAc,cAAe,CAAC,UAAW,YAAa,CAAC,QAAS,UAAW,CAAC,QAAS,cAAcvP,GAASA,EAAMI,OAAO0I,SAE1QyG,EAAc1J,iBAAiB,SAAS,SAAU7F,GAChD2I,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO4D,GAAS,IAEpB,IAEEjV,KAAKc,KAAKkX,OACZhY,KAAK2T,cAAcmE,GAErB9X,KAAKyT,oBAAoBqE,GACzB9X,KAAK0K,4BAA4BoN,GACjC9X,KAAK4E,UAAUiH,OAAOiM,GACf9X,KAAK4E,SACd,EAEF,MAAM3C,UAA+B0B,EACnC,WAAAC,CAAY/C,GACV,MAAM,KACJC,EAAI,SACJyL,GACE1L,EACJ4N,MAAM5N,EAAY,CAChBgD,aAAcF,EAAkBoB,cAAcjE,KAEhDd,KAAKuM,SAAWA,CAClB,CACA,MAAAE,GACEzM,KAAK4E,UAAUoB,UAAUC,IAAI,mBAC7B,MAAMmG,EAAQ,IAAI8N,EAAa,CAC7BtV,UAAW5E,KAAK4E,UAChBvF,MAAOW,KAAKc,KAAKzB,MACjB2F,SAAUhF,KAAKc,KAAKkE,SACpBqH,iBAAkBrM,KAAKc,KAAKuL,iBAC5BpH,YAAajF,KAAKc,KAAKmE,YACvBC,SAAUlF,KAAKc,KAAKoE,SACpB1E,KAAMR,KAAKc,KAAKN,KAChB8L,WAAYtM,KAAKc,KAAKwL,YAAc,KACpC3H,OAAQ3E,KAAK2E,OACb4H,SAAUvM,KAAKuM,SACf4N,KAAMna,KAAKc,KAAKqZ,OAEZC,EAAa,GACnB,IAAK,MAAMzP,KAAW3K,KAAKuM,SACzB5B,EAAQyB,MAAQA,EAChBgO,EAAWnO,KAAKtB,EAAQ7J,KAAK4E,IAC7BiF,EAAQgD,mBAGV,OADA3N,KAAK4E,UAAUa,aAAa,gBAAiB2U,EAAW9a,KAAIoG,GAAM,GAAGlI,EAAK6c,mBAAmB3U,MAAMlG,KAAK,MACjGQ,KAAK4E,SACd,EAEF,MAAMsV,EACJ,GAAgBla,MAAK,EAASsa,KAAKta,MACnC,GAAaA,MAAK,EAAMsa,KAAKta,MAC7B,GAAaA,MAAK,EAAMsa,KAAKta,MAC7B,GAAeA,MAAK,EAAQsa,KAAKta,MACjC,GAAS,KACT,GAAa,KACb,GAAe,KACf,GAAW,KACX,GAAY,KACZ,GAAU,KACV,GAAc,KACd,IAAU,EACV,GAAS,KACT,GAAQ,KACR,GAAY,KACZ,GAAY,KACZ,IAAc,EACd,WAAA4D,EAAY,UACVgB,EAAS,MACTvF,EAAK,SACLkN,EAAQ,SACRvH,EAAQ,iBACRqH,EAAgB,YAChBpH,EAAW,SACXC,EAAQ,OACRP,EAAM,KACNnE,EAAI,WACJ8L,EAAU,KACV6N,IAEAna,MAAK,EAAa4E,EAClB5E,MAAK,EAAYgF,EACjBhF,MAAK,EAAeiF,EACpBjF,MAAK,EAAYkF,EACjBlF,MAAK,EAAU2E,EACf3E,MAAK,EAASX,EACdW,MAAK,EAAQQ,EACbR,MAAK,EAAcsM,EACnBtM,MAAK,EAAYuM,EACjBvM,MAAK,EAAWvC,EAAc8c,cAAcC,aAAanO,GACzDrM,KAAKya,QAAUlO,EAASmO,SAAQC,GAAKA,EAAEjN,8BACvC,IAAK,MAAM/C,KAAW3K,KAAKya,QACzB9P,EAAQyD,iBAAiB,QAASpO,MAAK,GACvC2K,EAAQyD,iBAAiB,aAAcpO,MAAK,GAC5C2K,EAAQyD,iBAAiB,aAAcpO,MAAK,GAC5C2K,EAAQ3E,UAAUC,IAAI,oBAExB,IAAK,MAAM0E,KAAW4B,EACpB5B,EAAQ/F,WAAWwJ,iBAAiB,UAAWpO,MAAK,GAEtDA,MAAK,EAAW+I,QAAS,EACrBoR,GACFna,MAAK,GAET,CACA,MAAAyM,GACE,GAAIzM,MAAK,EACP,OAEF,MACEqF,MAAM,KACJuB,GAEFtB,UACEgB,SAAS,UACPJ,EAAS,WACTC,EAAU,MACVC,EAAK,MACLC,KAGFrG,MAAK,EACHoM,EAAQpM,MAAK,EAASuF,SAASC,cAAc,OAEnD,GADA4G,EAAMwO,UAAY,QACd5a,MAAK,EAAQ,CACf,MAAM6a,EAAYzO,EAAMxG,MAAMkV,aAAetd,EAAKkJ,KAAKmB,gBAAgB7H,MAAK,GAC5E,GAAI+a,IAAIC,SAAS,mBAAoB,sCACnC5O,EAAMxG,MAAM8N,gBAAkB,sBAAsBmH,oBAC/C,CACL,MAAMI,EAAqB,GAC3B7O,EAAMxG,MAAM8N,gBAAkBlW,EAAKkJ,KAAKmB,gBAAgB7H,MAAK,EAAOV,KAAIf,GAAKV,KAAKC,MAAMmd,GAAsB,IAAM1c,GAAKA,KAC3H,CACF,CACA,MAAM2c,EAAS3V,SAASC,cAAc,QACtC0V,EAAON,UAAY,SACnB,MAAMpR,EAAQjE,SAASC,cAAc,MAOrC,GANA0V,EAAOrP,OAAOrC,KAEZ2R,IAAK3R,EAAM2R,IACXhW,IAAKqE,EAAM0L,aACTlV,MAAK,GACToM,EAAMP,OAAOqP,GACTlb,MAAK,EAAU,CACjB,MAAMqM,EAAmB9G,SAASC,cAAc,QAChD6G,EAAiBrG,UAAUC,IAAI,aAC/BoG,EAAiB5G,aAAa,eAAgB,gCAC9C4G,EAAiB5G,aAAa,iBAAkBoM,KAAKC,UAAU,CAC7DsJ,KAAMpb,MAAK,EAASqb,qBACpBC,KAAMtb,MAAK,EAASub,wBAEtBL,EAAOrP,OAAOQ,EAChB,CACA,MAAMpH,EAAcjF,MAAK,EACnBkF,EAAWlF,MAAK,EACtB,IAAIkF,GAAUC,KAASF,GAAaE,KAAOF,EAAYE,MAAQD,EAASC,IAOjE,CACL,MAAMqW,EAAWxb,KAAKyb,gBAAgBxW,GACtCmH,EAAMP,OAAO2P,EACf,MATErb,EAAUub,SAASjP,OAAO,CACxBkP,QAASzW,EAAS0W,KAClBC,OAAQ,WACRrP,IAAKJ,IAEPA,EAAMyL,UAAU7R,UAAUC,IAAI,WAAY,gBAK5C,IAAI6V,IAAkB9b,MAAK,EACvBQ,EAAOsb,EAAgB9b,MAAK,EAAcA,MAAK,EACnD,IAAK,MAAM2K,KAAW3K,MAAK,EACzB,IAAKQ,GAAyD,OAAjDhD,EAAKkJ,KAAKqV,UAAUpR,EAAQ7J,KAAKN,KAAMA,GAAgB,CAClEA,EAAOmK,EAAQ7J,KAAKN,KACpBsb,GAAgB,EAChB,KACF,CAEF,MAAME,EAAiBxe,EAAKkJ,KAAKC,cAAc,CAACnG,EAAK,GAAIoG,EAAK,GAAKpG,EAAK,GAAKoG,EAAK,GAAIpG,EAAK,GAAIoG,EAAK,GAAKpG,EAAK,GAAKoG,EAAK,KAElHqV,EAAcH,EAAgBtb,EAAK,GAAKA,EAAK,GADT,EACkD,EACtF0b,EAAYF,EAAe,GAAKC,EAChCE,EAAWH,EAAe,IAC1B,MACJpW,GACE5F,MAAK,EACT4F,EAAMkC,KAAU,KAAOoU,EAAY9V,GAASF,EAA/B,IACbN,EAAMmC,IAAS,KAAOoU,EAAW9V,GAASF,EAA9B,IACZnG,MAAK,EAAW6L,OAAOO,EACzB,CACA,eAAAqP,EAAgB,IACdtW,EAAG,IACHgW,IAEA,MAAMiB,EAAI7W,SAASC,cAAc,KACjC4W,EAAEpW,UAAUC,IAAI,gBAChBmW,EAAEjB,IAAMA,EACR,MAAMkB,EAAQlX,EAAImX,MAAM,gBACxB,IAAK,IAAIC,EAAI,EAAGC,EAAKH,EAAMhR,OAAQkR,EAAIC,IAAMD,EAAG,CAC9C,MAAME,EAAOJ,EAAME,GACnBH,EAAEvQ,OAAOtG,SAASmX,eAAeD,IAC7BF,EAAIC,EAAK,GACXJ,EAAEvQ,OAAOtG,SAASC,cAAc,MAEpC,CACA,OAAO4W,CACT,CACA,GAAS7T,GACHA,EAAMoU,QAAUpU,EAAMyK,UAAYzK,EAAMiK,SAAWjK,EAAMgK,UAG3C,UAAdhK,EAAMwM,KAAiC,WAAdxM,EAAMwM,KAAoB/U,MAAK,IAC1DA,MAAK,GAET,CACA,KACEA,MAAK,GAAWA,MAAK,EACjBA,MAAK,GACPA,MAAK,IACLA,MAAK,EAAWoO,iBAAiB,QAASpO,MAAK,GAC/CA,MAAK,EAAWoO,iBAAiB,UAAWpO,MAAK,KAEjDA,MAAK,IACLA,MAAK,EAAW4Y,oBAAoB,QAAS5Y,MAAK,GAClDA,MAAK,EAAW4Y,oBAAoB,UAAW5Y,MAAK,GAExD,CACA,KACOA,MAAK,GACRA,KAAKyM,SAEFzM,KAAK4c,UAGC5c,MAAK,GACdA,MAAK,EAAWgG,UAAUC,IAAI,YAH9BjG,MAAK,EAAW+I,QAAS,EACzB/I,MAAK,EAAW4F,MAAMC,OAASgX,SAAS7c,MAAK,EAAW4F,MAAMC,QAAU,IAI5E,CACA,KACE7F,MAAK,EAAWgG,UAAU2S,OAAO,YAC7B3Y,MAAK,GAAYA,KAAK4c,YAG1B5c,MAAK,EAAW+I,QAAS,EACzB/I,MAAK,EAAW4F,MAAMC,OAASgX,SAAS7c,MAAK,EAAW4F,MAAMC,QAAU,IAC1E,CACA,SAAA4H,GACEzN,MAAK,EAAcA,KAAK4c,UACnB5c,MAAK,IAGVA,MAAK,EAAW+I,QAAS,EAC3B,CACA,SAAAwE,GACOvN,MAAK,IAGVA,MAAK,GAAc,EACnBA,MAAK,EAAW+I,QAAS,EAC3B,CACA,aAAI6T,GACF,OAAkC,IAA3B5c,MAAK,EAAW+I,MACzB,EAEF,MAAM1L,UAAkCsG,EACtC,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,IAEhB9D,KAAKkV,YAAcrU,EAAWC,KAAKoU,YACnClV,KAAK8c,aAAejc,EAAWC,KAAKgc,aACpC9c,KAAKiO,qBAAuBzQ,EAAKuf,qBAAqB7a,QACxD,CACA,MAAAuK,GAEE,GADAzM,KAAK4E,UAAUoB,UAAUC,IAAI,sBACzBjG,KAAKkV,YAAa,CACpB,MAAMhF,EAAU3K,SAASC,cAAc,OACvC0K,EAAQlK,UAAUC,IAAI,yBACtBiK,EAAQzK,aAAa,OAAQ,WAC7B,IAAK,MAAMgX,KAAQzc,KAAKkV,YAAa,CACnC,MAAM8H,EAAWzX,SAASC,cAAc,QACxCwX,EAAS9H,YAAcuH,EACvBvM,EAAQrE,OAAOmR,EACjB,CACAhd,KAAK4E,UAAUiH,OAAOqE,EACxB,CAKA,OAJKlQ,KAAKc,KAAKgF,UAAY9F,KAAKoF,cAC9BpF,KAAKmM,eAEPnM,KAAKgO,qBACEhO,KAAK4E,SACd,CACA,eAAImJ,GACF,OAAO/N,KAAKc,KAAK0F,YACnB,EAEF,MAAMpE,UAA8BuB,EAClC,GAAQ,KACR,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,GAElB,CACA,MAAA2I,GACEzM,KAAK4E,UAAUoB,UAAUC,IAAI,kBAC7B,MAAMnF,EAAOd,KAAKc,MACZ,MACJL,EAAK,OACLC,GACEH,EAAYO,EAAKN,MACfmL,EAAM3L,KAAKqE,WAAWzD,OAAOH,EAAOC,GAAQ,GAC5C+b,EAAOzc,MAAK,EAAQA,KAAKqE,WAAWmB,cAAc,YAaxD,OAZAiX,EAAKhX,aAAa,KAAM3E,EAAKN,KAAK,GAAKM,EAAKmc,gBAAgB,IAC5DR,EAAKhX,aAAa,KAAM3E,EAAKN,KAAK,GAAKM,EAAKmc,gBAAgB,IAC5DR,EAAKhX,aAAa,KAAM3E,EAAKN,KAAK,GAAKM,EAAKmc,gBAAgB,IAC5DR,EAAKhX,aAAa,KAAM3E,EAAKN,KAAK,GAAKM,EAAKmc,gBAAgB,IAC5DR,EAAKhX,aAAa,eAAgB3E,EAAK+F,YAAYpG,OAAS,GAC5Dgc,EAAKhX,aAAa,SAAU,eAC5BgX,EAAKhX,aAAa,OAAQ,eAC1BkG,EAAIE,OAAO4Q,GACXzc,KAAK4E,UAAUiH,OAAOF,IACjB7K,EAAKgF,UAAY9F,KAAKoF,cACzBpF,KAAKmM,eAEAnM,KAAK4E,SACd,CACA,yBAAA8I,GACE,OAAO1N,MAAK,CACd,CACA,gBAAA2N,GACE3N,KAAK4E,UAAUoB,UAAUC,IAAI,gBAC/B,EAEF,MAAM3D,UAAgCqB,EACpC,GAAU,KACV,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,GAElB,CACA,MAAA2I,GACEzM,KAAK4E,UAAUoB,UAAUC,IAAI,oBAC7B,MAAMnF,EAAOd,KAAKc,MACZ,MACJL,EAAK,OACLC,GACEH,EAAYO,EAAKN,MACfmL,EAAM3L,KAAKqE,WAAWzD,OAAOH,EAAOC,GAAQ,GAC5CoG,EAAchG,EAAK+F,YAAYpG,MAC/Byc,EAASld,MAAK,EAAUA,KAAKqE,WAAWmB,cAAc,YAa5D,OAZA0X,EAAOzX,aAAa,IAAKqB,EAAc,GACvCoW,EAAOzX,aAAa,IAAKqB,EAAc,GACvCoW,EAAOzX,aAAa,QAAShF,EAAQqG,GACrCoW,EAAOzX,aAAa,SAAU/E,EAASoG,GACvCoW,EAAOzX,aAAa,eAAgBqB,GAAe,GACnDoW,EAAOzX,aAAa,SAAU,eAC9ByX,EAAOzX,aAAa,OAAQ,eAC5BkG,EAAIE,OAAOqR,GACXld,KAAK4E,UAAUiH,OAAOF,IACjB7K,EAAKgF,UAAY9F,KAAKoF,cACzBpF,KAAKmM,eAEAnM,KAAK4E,SACd,CACA,yBAAA8I,GACE,OAAO1N,MAAK,CACd,CACA,gBAAA2N,GACE3N,KAAK4E,UAAUoB,UAAUC,IAAI,gBAC/B,EAEF,MAAMzD,UAAgCmB,EACpC,GAAU,KACV,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,GAElB,CACA,MAAA2I,GACEzM,KAAK4E,UAAUoB,UAAUC,IAAI,oBAC7B,MAAMnF,EAAOd,KAAKc,MACZ,MACJL,EAAK,OACLC,GACEH,EAAYO,EAAKN,MACfmL,EAAM3L,KAAKqE,WAAWzD,OAAOH,EAAOC,GAAQ,GAC5CoG,EAAchG,EAAK+F,YAAYpG,MAC/B0c,EAASnd,MAAK,EAAUA,KAAKqE,WAAWmB,cAAc,eAa5D,OAZA2X,EAAO1X,aAAa,KAAMhF,EAAQ,GAClC0c,EAAO1X,aAAa,KAAM/E,EAAS,GACnCyc,EAAO1X,aAAa,KAAMhF,EAAQ,EAAIqG,EAAc,GACpDqW,EAAO1X,aAAa,KAAM/E,EAAS,EAAIoG,EAAc,GACrDqW,EAAO1X,aAAa,eAAgBqB,GAAe,GACnDqW,EAAO1X,aAAa,SAAU,eAC9B0X,EAAO1X,aAAa,OAAQ,eAC5BkG,EAAIE,OAAOsR,GACXnd,KAAK4E,UAAUiH,OAAOF,IACjB7K,EAAKgF,UAAY9F,KAAKoF,cACzBpF,KAAKmM,eAEAnM,KAAK4E,SACd,CACA,yBAAA8I,GACE,OAAO1N,MAAK,CACd,CACA,gBAAA2N,GACE3N,KAAK4E,UAAUoB,UAAUC,IAAI,gBAC/B,EAEF,MAAMvD,UAAkCiB,EACtC,GAAY,KACZ,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,IAEhB9D,KAAKod,mBAAqB,qBAC1Bpd,KAAKqd,eAAiB,cACxB,CACA,MAAA5Q,GACEzM,KAAK4E,UAAUoB,UAAUC,IAAIjG,KAAKod,oBAClC,MAAMtc,EAAOd,KAAKc,MACZ,MACJL,EAAK,OACLC,GACEH,EAAYO,EAAKN,MACfmL,EAAM3L,KAAKqE,WAAWzD,OAAOH,EAAOC,GAAQ,GAClD,IAAI4c,EAAS,GACb,IAAK,MAAMC,KAAczc,EAAK0c,SAAU,CACtC,MAAMpf,EAAImf,EAAWnf,EAAI0C,EAAKN,KAAK,GAC7BhC,EAAIsC,EAAKN,KAAK,GAAK+c,EAAW/e,EACpC8e,EAAOrR,KAAK7N,EAAI,IAAMI,EACxB,CACA8e,EAASA,EAAO9d,KAAK,KACrB,MAAMie,EAAWzd,MAAK,EAAYA,KAAKqE,WAAWmB,cAAcxF,KAAKqd,gBAUrE,OATAI,EAAShY,aAAa,SAAU6X,GAChCG,EAAShY,aAAa,eAAgB3E,EAAK+F,YAAYpG,OAAS,GAChEgd,EAAShY,aAAa,SAAU,eAChCgY,EAAShY,aAAa,OAAQ,eAC9BkG,EAAIE,OAAO4R,GACXzd,KAAK4E,UAAUiH,OAAOF,IACjB7K,EAAKgF,UAAY9F,KAAKoF,cACzBpF,KAAKmM,eAEAnM,KAAK4E,SACd,CACA,yBAAA8I,GACE,OAAO1N,MAAK,CACd,CACA,gBAAA2N,GACE3N,KAAK4E,UAAUoB,UAAUC,IAAI,gBAC/B,EAEF,MAAMlD,UAAiCL,EACrC,WAAAkB,CAAY/C,GACV4N,MAAM5N,GACNb,KAAKod,mBAAqB,oBAC1Bpd,KAAKqd,eAAiB,aACxB,EAEF,MAAMza,UAA+Be,EACnC,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,GAElB,CACA,MAAA2I,GAKE,OAJAzM,KAAK4E,UAAUoB,UAAUC,IAAI,oBACxBjG,KAAKc,KAAKgF,UAAY9F,KAAKoF,cAC9BpF,KAAKmM,eAEAnM,KAAK4E,SACd,EAEF,MAAMtH,UAA6BqG,EACjC,GAAa,GACb,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,IAEhB9D,KAAKod,mBAAqB,gBAC1Bpd,KAAKqd,eAAiB,eACtBrd,KAAKiO,qBAAuBzQ,EAAKuf,qBAAqBla,GACxD,CACA,MAAA4J,GACEzM,KAAK4E,UAAUoB,UAAUC,IAAIjG,KAAKod,oBAClC,MAAMtc,EAAOd,KAAKc,MACZ,MACJL,EAAK,OACLC,GACEH,EAAYO,EAAKN,MACfmL,EAAM3L,KAAKqE,WAAWzD,OAAOH,EAAOC,GAAQ,GAClD,IAAK,MAAMgd,KAAW5c,EAAK6c,SAAU,CACnC,IAAIL,EAAS,GACb,IAAK,MAAMC,KAAcG,EAAS,CAChC,MAAMtf,EAAImf,EAAWnf,EAAI0C,EAAKN,KAAK,GAC7BhC,EAAIsC,EAAKN,KAAK,GAAK+c,EAAW/e,EACpC8e,EAAOrR,KAAK,GAAG7N,KAAKI,IACtB,CACA8e,EAASA,EAAO9d,KAAK,KACrB,MAAMie,EAAWzd,KAAKqE,WAAWmB,cAAcxF,KAAKqd,gBACpDrd,MAAK,EAAWiM,KAAKwR,GACrBA,EAAShY,aAAa,SAAU6X,GAChCG,EAAShY,aAAa,eAAgB3E,EAAK+F,YAAYpG,OAAS,GAChEgd,EAAShY,aAAa,SAAU,eAChCgY,EAAShY,aAAa,OAAQ,gBACzB3E,EAAKgF,UAAY9F,KAAKoF,cACzBpF,KAAKmM,eAEPR,EAAIE,OAAO4R,EACb,CAEA,OADAzd,KAAK4E,UAAUiH,OAAOF,GACf3L,KAAK4E,SACd,CACA,yBAAA8I,GACE,OAAO1N,MAAK,CACd,CACA,gBAAA2N,GACE3N,KAAK4E,UAAUoB,UAAUC,IAAI,gBAC/B,EAEF,MAAMhD,UAAmCU,EACvC,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,EACdC,sBAAsB,GAE1B,CACA,MAAA0I,GAKE,OAJKzM,KAAKc,KAAKgF,UAAY9F,KAAKoF,cAC9BpF,KAAKmM,eAEPnM,KAAK4E,UAAUoB,UAAUC,IAAI,uBACtBjG,KAAK4E,SACd,EAEF,MAAMzB,UAAmCQ,EACvC,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,EACdC,sBAAsB,GAE1B,CACA,MAAA0I,GAKE,OAJKzM,KAAKc,KAAKgF,UAAY9F,KAAKoF,cAC9BpF,KAAKmM,eAEPnM,KAAK4E,UAAUoB,UAAUC,IAAI,uBACtBjG,KAAK4E,SACd,EAEF,MAAMvB,UAAkCM,EACtC,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,EACdC,sBAAsB,GAE1B,CACA,MAAA0I,GAKE,OAJKzM,KAAKc,KAAKgF,UAAY9F,KAAKoF,cAC9BpF,KAAKmM,eAEPnM,KAAK4E,UAAUoB,UAAUC,IAAI,sBACtBjG,KAAK4E,SACd,EAEF,MAAMrB,UAAmCI,EACvC,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,EACdC,sBAAsB,GAE1B,CACA,MAAA0I,GAKE,OAJKzM,KAAKc,KAAKgF,UAAY9F,KAAKoF,cAC9BpF,KAAKmM,eAEPnM,KAAK4E,UAAUoB,UAAUC,IAAI,uBACtBjG,KAAK4E,SACd,EAEF,MAAMrH,UAA+BoG,EACnC,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,EACdC,cAAc,GAElB,CACA,MAAA2I,GAKE,OAJAzM,KAAK4E,UAAUoB,UAAUC,IAAI,oBACxBjG,KAAKc,KAAKgF,UAAY9F,KAAKoF,cAC9BpF,KAAKmM,eAEAnM,KAAK4E,SACd,EAEF,MAAMlB,UAAwCC,EAC5C,GAAW,KACX,WAAAC,CAAY/C,GACV4N,MAAM5N,EAAY,CAChBgD,cAAc,IAEhB,MAAM,SACJsM,EAAQ,QACRD,GACElQ,KAAKc,KAAK8c,KACd5d,KAAKmQ,UAAW,EAAG1S,EAAcogB,oBAAoB1N,GAAU,GAC/DnQ,KAAKkQ,QAAUA,EACflQ,KAAKiE,YAAYoK,UAAUC,SAAS,2BAA4B,CAC9DC,OAAQvO,KACRmQ,WACAD,WAEJ,CACA,MAAAzD,GACEzM,KAAK4E,UAAUoB,UAAUC,IAAI,4BAC7B,MAAM,UACJrB,EAAS,KACT9D,GACEd,KACJ,IAAIya,EACA3Z,EAAK6T,eAAoC,IAAnB7T,EAAKgd,UAC7BrD,EAAUlV,SAASC,cAAc,QAEjCiV,EAAUlV,SAASC,cAAc,OACjCiV,EAAQ9I,IAAM,GAAG3R,KAAKmE,gCAAgC,aAAa4Z,KAAKjd,EAAKwJ,MAAQ,YAAc,gBAC/FxJ,EAAKgd,WAAahd,EAAKgd,UAAY,IACrCrD,EAAQ7U,MAAQ,mBAAmB/H,KAAKqW,MAAuB,IAAjBpT,EAAKgd,kBAGvDrD,EAAQrM,iBAAiB,WAAYpO,MAAK,EAAUsa,KAAKta,OACzDA,MAAK,EAAWya,EAChB,MAAM,MACJnI,GACE9U,EAAK4U,YAAYC,SAYrB,OAXAzN,EAAUwJ,iBAAiB,WAAW4P,IACpB,UAAZA,EAAIjJ,MAAoBzC,EAAQ0L,EAAIzL,QAAUyL,EAAIxL,UACpDxS,MAAK,GACP,KAEGc,EAAKgF,UAAY9F,KAAKoF,aACzBpF,KAAKmM,eAELsO,EAAQzU,UAAUC,IAAI,oBAExBrB,EAAUiH,OAAO4O,GACV7V,CACT,CACA,yBAAA8I,GACE,OAAO1N,MAAK,CACd,CACA,gBAAA2N,GACE3N,KAAK4E,UAAUoB,UAAUC,IAAI,gBAC/B,CACA,KACEjG,KAAKkE,iBAAiB+L,mBAAmBjQ,KAAKkQ,QAASlQ,KAAKmQ,SAC9D,EAEF,MAAM/S,EACJ,GAAwB,KACxB,GAAuB,KACvB,GAAuB,IAAIiT,IAC3B,WAAAzM,EAAY,IACV4I,EAAG,qBACHyR,EAAoB,oBACpBC,EAAmB,KACnB7Y,EAAI,SACJC,IAEAtF,KAAKwM,IAAMA,EACXxM,MAAK,EAAwBie,EAC7Bje,MAAK,EAAuBke,EAC5Ble,KAAKqF,KAAOA,EACZrF,KAAKsF,SAAWA,EAChBtF,KAAK6F,OAAS,CAChB,CACA,GAAe8E,EAASjF,GACtB,MAAMyY,EAAiBxT,EAAQyT,YAAczT,EAC7CwT,EAAezY,GAAK,GAAGlI,EAAK6c,mBAAmB3U,IAC/C1F,KAAKwM,IAAIX,OAAOlB,GAChB3K,MAAK,GAAuBqe,iBAAiBre,KAAKwM,IAAK7B,EAASwT,GAAgB,EAClF,CACA,YAAM1R,CAAO6R,GACX,MAAM,YACJC,GACED,EACEta,EAAQhE,KAAKwM,KACnB,EAAG/O,EAAc+gB,oBAAoBxa,EAAOhE,KAAKsF,UACjD,MAAMmZ,EAAkB,IAAIpO,IACtBqO,EAAgB,CACpB5d,KAAM,KACNkD,QACAC,YAAaqa,EAAOra,YACpBC,gBAAiBoa,EAAOpa,gBACxBC,mBAAoBma,EAAOna,oBAAsB,GACjDC,aAAoC,IAAvBka,EAAOla,YACpBC,WAAY,IAAI5G,EAAckhB,cAC9Bra,kBAAmBga,EAAOha,mBAAqB,IAAI5G,EAAmBkhB,kBACtEra,iBAA4C,IAA3B+Z,EAAO/Z,gBACxBC,aAAc8Z,EAAO9Z,aACrBE,aAAc4Z,EAAO5Z,aACrBC,OAAQ3E,KACRuM,SAAU,MAEZ,IAAK,MAAMzL,KAAQyd,EAAa,CAC9B,GAAIzd,EAAK+d,OACP,SAEF,MAAMC,EAAoBhe,EAAKC,iBAAmBvD,EAAKwD,eAAegB,MACtE,GAAK8c,EAQE,CACL,MAAMvS,EAAWkS,EAAgBnO,IAAIxP,EAAK4E,IAC1C,IAAK6G,EACH,SAEFmS,EAAcnS,SAAWA,CAC3B,KAdwB,CACtB,MAAM,MACJ9L,EAAK,OACLC,GACEH,EAAYO,EAAKN,MACrB,GAAIC,GAAS,GAAKC,GAAU,EAC1B,QAEJ,CAOAge,EAAc5d,KAAOA,EACrB,MAAM6J,EAAUhK,EAAyBC,OAAO8d,GAChD,IAAK/T,EAAQ9G,aACX,SAEF,IAAKib,GAAqBhe,EAAKgF,SAAU,CACvC,MAAMyG,EAAWkS,EAAgBnO,IAAIxP,EAAKgF,UACrCyG,EAGHA,EAASN,KAAKtB,GAFd8T,EAAgBM,IAAIje,EAAKgF,SAAU,CAAC6E,GAIxC,CACIA,EAAQsD,qBAAuB,GACjCjO,MAAK,EAAqB+e,IAAIpU,EAAQ7J,KAAK4E,GAAIiF,GAEjD,MAAMqU,EAAWrU,EAAQ8B,SACrB3L,EAAKiI,SACPiW,EAASpZ,MAAMoD,WAAa,UAE9BhJ,MAAK,EAAegf,EAAUle,EAAK4E,GACrC,CACA1F,MAAK,GACP,CACA,MAAAif,EAAO,SACL3Z,IAEA,MAAMtB,EAAQhE,KAAKwM,IACnBxM,KAAKsF,SAAWA,GAChB,EAAG7H,EAAc+gB,oBAAoBxa,EAAO,CAC1CuC,SAAUjB,EAASiB,WAErBvG,MAAK,IACLgE,EAAM+E,QAAS,CACjB,CACA,KACE,IAAK/I,MAAK,EACR,OAEF,MAAMgE,EAAQhE,KAAKwM,IACnB,IAAK,MAAO9G,EAAIwZ,KAAWlf,MAAK,EAAsB,CACpD,MAAM2K,EAAU3G,EAAMkJ,cAAc,wBAAwBxH,OAC5D,IAAKiF,EACH,SAEF,MAAM,WACJyT,GACEzT,EACCyT,EAE8B,WAAxBA,EAAWlM,SACpBkM,EAAWe,YAAYD,GAEvBd,EAAWxE,OAAOsF,GAJlBvU,EAAQkB,OAAOqT,EAMnB,CACAlf,MAAK,EAAqBwZ,OAC5B,CACA,sBAAA4F,GACE,OAAOvR,MAAMwR,KAAKrf,MAAK,EAAqBgR,SAC9C,CACA,qBAAAsO,CAAsB5Z,GACpB,OAAO1F,MAAK,EAAqBsQ,IAAI5K,EACvC,EAIK,EAED,IACA,CAAExI,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzCyhB,kBAAmB,IAAM,EACzBW,uBAAwB,IAAM,EAC9BC,kBAAmB,IAAM,IAE3B,IAAIC,EAA+C,EAAoB,KACnEC,EAAiD,EAAoB,KACrEC,EAAsD,EAAoB,KAInG,MAAMH,EAAoBjV,OAAOqV,OAAO,CACtCtgB,IAAK,KACLugB,KAAM,GACNC,cAAUC,IAEZ,MAAMnB,EACJ,IAAY,EACZ,GAAW,IAAIvO,IACf,WAAAzM,GACE5D,KAAKggB,cAAgB,KACrBhgB,KAAKigB,gBAAkB,KACvBjgB,KAAKkgB,mBAAqB,IAC5B,CACA,QAAAjL,CAASF,EAAKzD,GACZ,MAAMD,EAAQrR,MAAK,EAASsQ,IAAIyE,GAChC,YAAcgL,IAAV1O,EACKC,EAEF/G,OAAO4V,OAAO7O,EAAcD,EACrC,CACA,WAAAxG,CAAYkK,GACV,OAAO/U,MAAK,EAASsQ,IAAIyE,EAC3B,CACA,MAAA4D,CAAO5D,GAKL,GAJA/U,MAAK,EAASogB,OAAOrL,GACM,IAAvB/U,MAAK,EAASiY,MAChBjY,KAAKqgB,gBAEgC,mBAA5BrgB,KAAKkgB,mBAAmC,CACjD,IAAK,MAAM7O,KAASrR,MAAK,EAASgR,SAChC,GAAIK,aAAiBqO,EAA+CY,iBAClE,OAGJtgB,KAAKkgB,mBAAmB,KAC1B,CACF,CACA,QAAAtX,CAASmM,EAAK1D,GACZ,MAAMkP,EAAMvgB,MAAK,EAASsQ,IAAIyE,GAC9B,IAAIyL,GAAW,EACf,QAAYT,IAARQ,EACF,IAAK,MAAOE,EAAOC,KAAQnW,OAAOQ,QAAQsG,GACpCkP,EAAIE,KAAWC,IACjBF,GAAW,EACXD,EAAIE,GAASC,QAIjBF,GAAW,EACXxgB,MAAK,EAAS+e,IAAIhK,EAAK1D,GAErBmP,GACFxgB,MAAK,IAEHqR,aAAiBqO,EAA+CY,kBAAuD,mBAA5BtgB,KAAKkgB,oBAClGlgB,KAAKkgB,mBAAmB7O,EAAMzN,YAAY+c,MAE9C,CACA,GAAAxT,CAAI4H,GACF,OAAO/U,MAAK,EAASmN,IAAI4H,EAC3B,CACA,MAAA6L,GACE,OAAO5gB,MAAK,EAASiY,KAAO,GAAI,EAAGwH,EAA6CoB,eAAe7gB,MAAK,GAAY,IAClH,CACA,MAAA8gB,CAAOP,GACL,IAAK,MAAOxL,EAAK2L,KAAQnW,OAAOQ,QAAQwV,GACtCvgB,KAAK4I,SAASmM,EAAK2L,EAEvB,CACA,QAAIzI,GACF,OAAOjY,MAAK,EAASiY,IACvB,CACA,KACOjY,MAAK,IACRA,MAAK,GAAY,EACiB,mBAAvBA,KAAKggB,eACdhgB,KAAKggB,gBAGX,CACA,aAAAK,GACMrgB,MAAK,IACPA,MAAK,GAAY,EACmB,mBAAzBA,KAAKigB,iBACdjgB,KAAKigB,kBAGX,CACA,SAAI9W,GACF,OAAO,IAAIoW,EAAuBvf,KACpC,CACA,gBAAI+gB,GACF,GAA2B,IAAvB/gB,MAAK,EAASiY,KAChB,OAAOuH,EAET,MAAMlgB,EAAM,IAAI+Q,IACdwP,EAAO,IAAIF,EAAoDqB,eAC/DlB,EAAW,GACPmB,EAAU1W,OAAO3J,OAAO,MAC9B,IAAIsgB,GAAY,EAChB,IAAK,MAAOnM,EAAK2L,KAAQ1gB,MAAK,EAAU,CACtC,MAAMmhB,EAAaT,aAAehB,EAA+CY,iBAAmBI,EAAIU,WAAU,EAAOH,GAAWP,EAChIS,IACF7hB,EAAIyf,IAAIhK,EAAKoM,GACbtB,EAAKZ,OAAO,GAAGlK,KAAOlD,KAAKC,UAAUqP,MACrCD,MAAgBC,EAAWE,OAE/B,CACA,GAAIH,EACF,IAAK,MAAM7P,KAAS/R,EAAI0R,SAClBK,EAAMgQ,QACRvB,EAAS7T,KAAKoF,EAAMgQ,QAI1B,OAAO/hB,EAAI2Y,KAAO,EAAI,CACpB3Y,MACAugB,KAAMA,EAAKyB,YACXxB,YACEN,CACN,EAEF,MAAMD,UAA+BX,EACnC,GACA,WAAAhb,CAAYe,GACV8J,QACA,MAAM,IACJnP,EAAG,KACHugB,EAAI,SACJC,GACEnb,EAAOoc,aACLQ,EAAQC,gBAAgBliB,EAAKwgB,EAAW,CAC5CA,YACE,MACJ9f,MAAK,EAAgB,CACnBV,IAAKiiB,EACL1B,OACAC,WAEJ,CACA,SAAI3W,IACF,EAAGsW,EAA6C/S,aAAa,+CAC/D,CACA,gBAAIqU,GACF,OAAO/gB,MAAK,CACd,EAIK,EAED,IACA,CAAEyhB,EAAoB,EAAqB,KAEjD,EAAoBC,EAAED,GAAoBE,MAAOC,EAAuCC,KAA+B,IAClG,EAAoB1kB,EAAE,EAAqB,CACzC2kB,sBAAuB,IAAM,EAC7BC,UAAW,IAAM,EACjBC,MAAO,IAAM,EACbC,YAAa,IAAM,EACnBC,QAAS,IAAM,IAGjB,IAAIzC,EAA+C,EAAoB,KACnE0C,EAAsD,EAAoB,KAC1EC,EAAiD,EAAoB,KACrEC,EAA+C,EAAoB,KACnEC,EAAkD,EAAoB,KACtEC,EAA0C,EAAoB,KAC9DC,EAAkD,EAAoB,KACtEC,EAA0D,EAAoB,KAC9EC,EAA4C,EAAoB,KAChEC,EAA2D,EAAoB,KAC/EC,EAAqD,EAAoB,IACzEC,EAAqD,EAAoB,KACzEC,EAAgD,EAAoB,KACpEC,EAAoD,EAAoB,KACxEC,EAA6C,EAAoB,KACtFC,EAAiCrB,EAAsC,CAACU,EAAiDS,KAC3HT,EAAiDS,GAAqDE,EAA+BC,YAAcD,KAAoCA,EAgBzL,MAAME,EAA2B,MAC3BC,EAA8B,IAC9BC,EAA0B,IAC1BC,EAAuB7D,EAA6C8D,SAAWjB,EAAgDkB,kBAAoBpB,EAA+CqB,iBAClMC,EAA2BjE,EAA6C8D,SAAWjB,EAAgDqB,sBAAwBvB,EAA+CwB,qBAC1MC,EAAuBpE,EAA6C8D,SAAWjB,EAAgDwB,kBAAoB1B,EAA+C2B,iBAClMC,EAAiCvE,EAA6C8D,SAAWjB,EAAgD2B,4BAA8B7B,EAA+C8B,2BAC5N,SAASjC,EAAYtQ,GAUnB,GATmB,iBAARA,GAAoBA,aAAewS,IAC5CxS,EAAM,CACJ9C,IAAK8C,IAEE,EAAG8N,EAA6C2E,eAAezS,KACxEA,EAAM,CACJ7Q,KAAM6Q,IAGS,iBAARA,EACT,MAAM,IAAI0S,MAAM,4DAElB,IAAK1S,EAAI9C,MAAQ8C,EAAI7Q,OAAS6Q,EAAI2S,MAChC,MAAM,IAAID,MAAM,+DAElB,MAAME,EAAO,IAAIC,GACX,MACJC,GACEF,EACE1V,EAAM8C,EAAI9C,IAwJlB,SAAoB6R,GAClB,GAAIA,aAAeyD,IACjB,OAAOzD,EAAI/Q,KAEb,IACE,OAAO,IAAIwU,IAAIzD,EAAKgE,OAAOC,UAAUhV,IACvC,CAAE,MACA,GAAI8P,EAA6C8D,UAA2B,iBAAR7C,EAClE,OAAOA,CAEX,CACA,MAAM,IAAI2D,MAAM,qFAClB,CApKwBO,CAAWjT,EAAI9C,KAAO,KACtC/N,EAAO6Q,EAAI7Q,KAoKnB,SAAqB4f,GACnB,GAAIjB,EAA6C8D,UAA8B,oBAAXsB,QAA0BnE,aAAemE,OAC3G,MAAM,IAAIR,MAAM,qEAElB,GAAI3D,aAAeoE,YAAcpE,EAAIqE,aAAerE,EAAIsE,OAAOD,WAC7D,OAAOrE,EAET,GAAmB,iBAARA,EACT,OAAO,EAAGjB,EAA6CwF,eAAevE,GAExE,GAAmB,iBAARA,IAAqBwE,MAAMxE,GAAKrV,UAAW,EAAGoU,EAA6C2E,eAAe1D,GACnH,OAAO,IAAIoE,WAAWpE,GAExB,MAAM,IAAI2D,MAAM,6GAClB,CAlL0Bc,CAAYxT,EAAI7Q,MAAQ,KAC1CskB,EAAczT,EAAIyT,aAAe,KACjCC,GAA0C,IAAxB1T,EAAI0T,gBACtBC,EAAW3T,EAAI2T,UAAY,KAC3BC,EAAiB5T,EAAI2S,iBAAiBxC,EAAwBnQ,EAAI2S,MAAQ,KAC1EkB,EAAiBC,OAAOC,UAAU/T,EAAI6T,iBAAmB7T,EAAI6T,eAAiB,EAAI7T,EAAI6T,eAAiBrC,EAC7G,IAAIwC,EAAShU,EAAIgU,kBAAkB5D,EAAYpQ,EAAIgU,OAAS,KAC5D,MAAMC,EAAYjU,EAAIiU,UAChBC,EAAuC,iBAAnBlU,EAAIkU,aAA4B,EAAGzD,EAA+C0D,cAAcnU,EAAIkU,YAA+B,KAAjBlU,EAAIkU,WAC1IE,EAAiC,iBAAhBpU,EAAIoU,QAAuBpU,EAAIoU,QAAU,KAC1DC,GAAgC,IAAnBrU,EAAIqU,WACjBC,EAAoBtU,EAAIsU,mBAAqBvC,EAC7CwC,EAAyD,iBAA5BvU,EAAIuU,oBAAmCvU,EAAIuU,oBAAsB,KAC9FC,EAA0BxU,EAAIwU,yBAA2BnC,EACzDoC,GAAoC,IAArBzU,EAAI0U,aACnBC,EAAeb,OAAOC,UAAU/T,EAAI2U,eAAiB3U,EAAI2U,cAAgB,EAAI3U,EAAI2U,cAAgB,EACjGC,GAA0C,IAAxB5U,EAAI4U,gBACtBC,EAAuE,kBAAnC7U,EAAI6U,2BAA2C7U,EAAI6U,4BAA8B/G,EAA6C8D,SAClKkD,EAAuBhB,OAAOC,UAAU/T,EAAI8U,sBAAwB9U,EAAI8U,sBAAwB,EAChGC,EAAiD,kBAAxB/U,EAAI+U,gBAAgC/U,EAAI+U,gBAAkBjH,EAA6C8D,SAChIoD,GAAkD,IAA5BhV,EAAIgV,oBAC1BC,GAA8B,IAAlBjV,EAAIiV,UAChBC,EAAgBlV,EAAIkV,eAAiBC,WAAWvhB,SAChDwhB,GAAoC,IAArBpV,EAAIoV,aACnBC,GAAsC,IAAtBrV,EAAIqV,cACpBC,GAA4C,IAAzBtV,EAAIsV,iBACvBC,GAAwB,IAAfvV,EAAIuV,OACb7b,EAASka,EAAiBA,EAAela,OAASsG,EAAItG,QAAU8b,IAChEC,EAA+C,kBAAvBzV,EAAIyV,eAA+BzV,EAAIyV,gBAAkB3H,EAA6C8D,WAAamD,EAC3IW,EAA+C,kBAAvB1V,EAAI0V,eAA+B1V,EAAI0V,eAAiBpB,IAAsB7D,EAA+CwB,sBAAwBuC,IAA4B/D,EAA+C8B,4BAA8B6B,GAAWG,IAAuB,EAAG9D,EAA+CkF,iBAAiBvB,EAASxgB,SAASgiB,WAAY,EAAGnF,EAA+CkF,iBAAiBpB,EAAqB3gB,SAASgiB,SAC1fC,EAAgB7V,EAAI6V,eAAiB,IAAIlE,EAAqB,CAClEuD,kBAEIY,EAAgB9V,EAAI8V,eAAiB,IAAI5D,EAAqB,CAClEY,QACAoC,mBAGF,EAAGpH,EAA6CiI,mBAAmB9B,GACnE,MAAM+B,EAAmB,CACvBH,gBACAC,iBAWF,GATKJ,IACHM,EAAiBC,kBAAoB,IAAI3B,EAAkB,CACzD4B,QAAS9B,EACT+B,aAAc9B,IAEhB2B,EAAiBI,wBAA0B,IAAI5B,EAAwB,CACrE0B,QAAS3B,MAGRP,EAAQ,CACX,MAAMqC,EAAe,CACnBpC,YACAqC,KAAMzF,EAAgD0F,oBAAoBC,YAE5ExC,EAASqC,EAAaC,KAAOlG,EAAUqG,SAASJ,GAAgB,IAAIjG,EAAUiG,GAC9EzD,EAAK8D,QAAU1C,CACjB,CACA,MAAM2C,GAAiB,CACrB7D,QACA8D,WAAY,UACZznB,OACAwkB,WACA2B,mBACAzB,iBACAna,SACAwa,aACAe,YACA4B,iBAAkB,CAChBlC,eACAI,kBACAN,eACAG,kBACAC,6BACAC,uBACAE,sBACAS,iBACArB,QAASsB,EAAiBtB,EAAU,KACpCG,oBAAqBmB,EAAiBnB,EAAsB,OAG1DuC,GAAkB,CACtBrC,eACAG,kBACAG,kBACAC,sBACAC,YACAC,gBACAI,mBACAC,SACAwB,aAvDmB,MAsGrB,OA7CA/C,EAAOgD,QAAQzF,MAAK,WAClB,GAAIqB,EAAKqE,UACP,MAAM,IAAIvE,MAAM,mBAElB,MAAMwE,EA2CVlH,eAA8BgE,EAAQpX,GACpC,GAAIoX,EAAOiD,UACT,MAAM,IAAIvE,MAAM,wBAElB,MAAMyE,QAAiBnD,EAAOoD,eAAeC,gBAAgB,gBAAiBza,EAAQA,EAAOzN,KAAO,CAACyN,EAAOzN,KAAKkkB,QAAU,MAC3H,GAAIW,EAAOiD,UACT,MAAM,IAAIvE,MAAM,wBAElB,OAAOyE,CACT,CApD4BG,CAAetD,EAAQ2C,IACzCY,EAAuB,IAAIC,SAAQ,SAAUC,GACjD,IAAIC,EACJ,GAAI9D,EACF8D,EAAgB,IAAIzG,EAAmD0G,uBAAuB,CAC5Fje,SACAke,YAAahE,EAAegE,YAC5BC,gBAAiBjE,EAAeiE,gBAChCC,2BAA4BlE,EAAekE,2BAC3C1C,eACAC,iBACCzB,QACE,IAAKzkB,EAAM,CAOhBuoB,EAN+B/K,IACzBmB,EAA6C8D,SACxC,IAAIR,EAAkD2G,cAAcpL,IAEtE,EAAG8D,EAA+CkF,iBAAiBhJ,EAAOzP,KAAO,IAAIgU,EAAmD8G,eAAerL,GAAU,IAAIwE,EAA8C8G,iBAAiBtL,GAE7NuL,CAAuB,CACrChb,MACAxD,SACA+Z,cACAC,kBACAG,iBACAuB,eACAC,iBAEJ,CACAoC,EAAQC,EACV,IACA,OAAOF,QAAQW,IAAI,CAACjB,EAAiBK,IAAuBhG,MAAK,UAAW4F,EAAUO,IACpF,GAAI9E,EAAKqE,UACP,MAAM,IAAIvE,MAAM,mBAElB,MAAM0E,EAAiB,IAAItG,EAAwDsH,eAAetF,EAAOqE,EAAUnD,EAAOsC,MACpH+B,EAAY,IAAIC,EAAgBlB,EAAgBxE,EAAM8E,EAAeZ,GAAiBd,GAC5FpD,EAAK2F,WAAaF,EAClBjB,EAAeoB,KAAK,QAAS,KAC/B,GACF,IAAGC,MAAM7F,EAAK8F,YAAYC,QACnB/F,CACT,CAuCA,MAAMC,EACJ+F,SAAgB,EAChB,WAAA3mB,GACE5D,KAAKqqB,YAAc,IAAI5K,EAA6C+K,kBACpExqB,KAAKkqB,WAAa,KAClBlqB,KAAKqoB,QAAU,KACfroB,KAAKykB,MAAQ,IAAID,GAAuB,IACxCxkB,KAAK4oB,WAAY,EACjB5oB,KAAKyqB,WAAa,KAClBzqB,KAAK0qB,WAAa,IACpB,CACA,WAAI/B,GACF,OAAO3oB,KAAKqqB,YAAY1B,OAC1B,CACA,aAAMgC,GACJ3qB,KAAK4oB,WAAY,EACjB,IACM5oB,KAAKqoB,SAASJ,OAChBjoB,KAAKqoB,QAAQuC,iBAAkB,SAE3B5qB,KAAKkqB,YAAYS,UACzB,CAAE,MAAOE,GAIP,MAHI7qB,KAAKqoB,SAASJ,aACTjoB,KAAKqoB,QAAQuC,gBAEhBC,CACR,CACA7qB,KAAKkqB,WAAa,KACdlqB,KAAKqoB,UACProB,KAAKqoB,QAAQsC,UACb3qB,KAAKqoB,QAAU,KAEnB,EAEF,MAAMvG,EACJ,WAAAle,CAAYyH,EAAQke,EAAaC,GAAkB,EAAOC,EAA6B,MACrFzpB,KAAKqL,OAASA,EACdrL,KAAKupB,YAAcA,EACnBvpB,KAAKwpB,gBAAkBA,EACvBxpB,KAAKypB,2BAA6BA,EAClCzpB,KAAK8qB,gBAAkB,GACvB9qB,KAAK+qB,mBAAqB,GAC1B/qB,KAAKgrB,0BAA4B,GACjChrB,KAAKirB,0BAA4B,GACjCjrB,KAAKkrB,iBAAmB,IAAIzL,EAA6C+K,iBAC3E,CACA,gBAAAW,CAAiBC,GACfprB,KAAK8qB,gBAAgB7e,KAAKmf,EAC5B,CACA,mBAAAC,CAAoBD,GAClBprB,KAAK+qB,mBAAmB9e,KAAKmf,EAC/B,CACA,0BAAAE,CAA2BF,GACzBprB,KAAKgrB,0BAA0B/e,KAAKmf,EACtC,CACA,0BAAAG,CAA2BH,GACzBprB,KAAKirB,0BAA0Bhf,KAAKmf,EACtC,CACA,WAAAI,CAAYC,EAAOC,GACjB,IAAK,MAAMN,KAAYprB,KAAK8qB,gBAC1BM,EAASK,EAAOC,EAEpB,CACA,cAAAC,CAAeC,EAAQC,GACrB7rB,KAAKkrB,iBAAiBvC,QAAQzF,MAAK,KACjC,IAAK,MAAMkI,KAAYprB,KAAK+qB,mBAC1BK,EAASQ,EAAQC,EACnB,GAEJ,CACA,qBAAAC,CAAsBJ,GACpB1rB,KAAKkrB,iBAAiBvC,QAAQzF,MAAK,KACjC,IAAK,MAAMkI,KAAYprB,KAAKgrB,0BAC1BI,EAASM,EACX,GAEJ,CACA,qBAAAK,GACE/rB,KAAKkrB,iBAAiBvC,QAAQzF,MAAK,KACjC,IAAK,MAAMkI,KAAYprB,KAAKirB,0BAC1BG,GACF,GAEJ,CACA,cAAAY,GACEhsB,KAAKkrB,iBAAiB9B,SACxB,CACA,gBAAA6C,CAAiBR,EAAOS,IACtB,EAAGzM,EAA6C/S,aAAa,yDAC/D,CACA,KAAAyf,GAAS,EAEX,MAAMC,EACJ,WAAAxoB,CAAYyoB,EAASrC,GACnBhqB,KAAKssB,SAAWD,EAChBrsB,KAAKkqB,WAAaF,CACpB,CACA,qBAAI1lB,GACF,OAAOtE,KAAKkqB,WAAW5lB,iBACzB,CACA,iBAAImjB,GACF,OAAOznB,KAAKkqB,WAAWzC,aACzB,CACA,YAAI8E,GACF,OAAOvsB,KAAKssB,SAASC,QACvB,CACA,gBAAIC,GACF,OAAOxsB,KAAKssB,SAASE,YACvB,CACA,aAAIC,GACF,OAAO,EAAGhN,EAA6C5W,QAAQ7I,KAAM,cAAeA,KAAKkqB,WAAWwC,YACtG,CACA,cAAIC,GACF,OAAO3sB,KAAKkqB,WAAWwC,WACzB,CACA,OAAAE,CAAQC,GACN,OAAO7sB,KAAKkqB,WAAW0C,QAAQC,EACjC,CACA,YAAAC,CAAaC,GACX,OAAO/sB,KAAKkqB,WAAW4C,aAAaC,EACtC,CACA,eAAAC,GACE,OAAOhtB,KAAKkqB,WAAW8C,iBACzB,CACA,cAAAC,CAAevnB,GACb,OAAO1F,KAAKkqB,WAAW+C,eAAevnB,EACxC,CACA,aAAAwnB,GACE,OAAOltB,KAAKkqB,WAAWgD,eACzB,CACA,aAAAC,GACE,OAAOntB,KAAKkqB,WAAWiD,eACzB,CACA,WAAAC,GACE,OAAOptB,KAAKkqB,WAAWkD,aACzB,CACA,oBAAAC,GACE,OAAOrtB,KAAKkqB,WAAWmD,sBACzB,CACA,aAAAC,GACE,OAAOttB,KAAKkqB,WAAWoD,eACzB,CACA,cAAAC,GACE,OAAOvtB,KAAKkqB,WAAWqD,gBACzB,CACA,YAAAC,GACE,OAAOxtB,KAAKkqB,WAAWuD,iBACzB,CACA,UAAAC,GACE,OAAO1tB,KAAKkqB,WAAWwD,YACzB,CACA,wBAAAC,GACE,OAAO3tB,KAAKkqB,WAAWyD,0BACzB,CACA,cAAAC,GACE,OAAO5tB,KAAKkqB,WAAW0D,gBACzB,CACA,WAAAC,GACE,OAAO7tB,KAAKkqB,WAAW2D,aACzB,CACA,WAAAC,GACE,OAAO9tB,KAAKkqB,WAAW4D,aACzB,CACA,OAAAC,GACE,OAAO/tB,KAAKkqB,WAAW6D,SACzB,CACA,YAAAC,GACE,OAAOhuB,KAAKkqB,WAAW8D,cACzB,CACA,eAAAC,GACE,OAAOjuB,KAAKkqB,WAAWgE,uBAAuBvF,OAChD,CACA,OAAAwF,CAAQC,GAAkB,GACxB,OAAOpuB,KAAKkqB,WAAWmE,aAAaD,GAAmBpuB,KAAKysB,UAC9D,CACA,OAAA9B,GACE,OAAO3qB,KAAKsuB,YAAY3D,SAC1B,CACA,iBAAI4D,GACF,OAAOvuB,KAAKkqB,WAAWqE,aACzB,CACA,eAAID,GACF,OAAOtuB,KAAKkqB,WAAWoE,WACzB,CACA,eAAAE,GACE,OAAOxuB,KAAKkqB,WAAWsE,iBACzB,CACA,YAAAhqB,GACE,OAAOxE,KAAKkqB,WAAW1lB,cACzB,CACA,sBAAAiqB,GACE,OAAOzuB,KAAKkqB,WAAWuE,wBACzB,EAEF,MAAMC,EACJ,GAAyB,KACzB,IAAkB,EAClB,WAAA9qB,CAAY+qB,EAAWC,EAAU5E,EAAW9C,GAAS,GACnDlnB,KAAK6uB,WAAaF,EAClB3uB,KAAK8uB,UAAYF,EACjB5uB,KAAKkqB,WAAaF,EAClBhqB,KAAK+uB,OAAS7H,EAAS,IAAI9E,EAA+C4M,UAAc,KACxFhvB,KAAKivB,QAAU/H,EACflnB,KAAKkvB,WAAalF,EAAUkF,WAC5BlvB,KAAKmvB,KAAO,IAAIC,EAChBpvB,KAAKqvB,0BAA2B,EAChCrvB,KAAKsvB,cAAgB,IAAIjf,IACzBrQ,KAAK4oB,WAAY,CACnB,CACA,cAAIiE,GACF,OAAO7sB,KAAK6uB,WAAa,CAC3B,CACA,UAAIU,GACF,OAAOvvB,KAAK8uB,UAAUS,MACxB,CACA,OAAIxC,GACF,OAAO/sB,KAAK8uB,UAAU/B,GACxB,CACA,YAAIyC,GACF,OAAOxvB,KAAK8uB,UAAUU,QACxB,CACA,QAAI5oB,GACF,OAAO5G,KAAK8uB,UAAUloB,IACxB,CACA,WAAA6oB,EAAY,MACVC,EAAK,SACLnpB,EAAWvG,KAAKuvB,OAAM,QACtBI,EAAU,EAAC,QACXC,EAAU,EAAC,SACXC,GAAW,GACT,CAAC,GACH,OAAO,IAAIzN,EAA+C0N,aAAa,CACrEC,QAAS/vB,KAAK4G,KACd8oB,QACAnpB,WACAopB,UACAC,UACAC,YAEJ,CACA,cAAAG,EAAe,OACbnU,EAAS,WACP,CAAC,GACH,MAAMoU,EAAajwB,KAAKkqB,WAAWgG,mBAAmBrU,GACtD,OAAO7b,KAAKkqB,WAAW8F,eAAehwB,KAAK6uB,WAAYoB,EAAWE,gBACpE,CACA,YAAA3C,GACE,OAAOxtB,KAAKkqB,WAAWkG,iBAAiBpwB,KAAK6uB,WAC/C,CACA,iBAAIpH,GACF,OAAOznB,KAAKkqB,WAAWzC,aACzB,CACA,aAAIgF,GACF,OAAO,EAAGhN,EAA6C5W,QAAQ7I,KAAM,cAAeA,KAAKkqB,WAAWwC,YACtG,CACA,YAAM2D,GACJ,OAAOrwB,KAAKkqB,WAAWwC,aAAa/S,SAAS3Z,KAAK6uB,aAAe,IACnE,CACA,MAAApiB,EAAO,cACL6jB,EAAa,SACbhrB,EAAQ,OACRuW,EAAS,UAAS,eAClB0U,EAAiB9Q,EAA6C+Q,eAAeC,OAAM,UACnFC,EAAY,KAAI,WAChBC,EAAa,KAAI,6BACjBC,EAA+B,KAAI,oBACnC1S,EAAsB,KAAI,WAC1B2S,EAAa,KAAI,uBACjBC,EAAyB,OAEzB9wB,KAAK+uB,QAAQzT,KAAK,WAClB,MAAM2U,EAAajwB,KAAKkqB,WAAWgG,mBAAmBrU,EAAQ0U,EAAgBO,GAC9E9wB,MAAK,GAAkB,EACvBA,MAAK,IACA4wB,IACHA,EAA+B5wB,KAAKkqB,WAAWyD,4BAEjD,IAAIoD,EAAc/wB,KAAKsvB,cAAchf,IAAI2f,EAAWe,UAC/CD,IACHA,EAAcxmB,OAAO3J,OAAO,MAC5BZ,KAAKsvB,cAAcvQ,IAAIkR,EAAWe,SAAUD,IAE1CA,EAAYE,4BACdC,aAAaH,EAAYE,2BACzBF,EAAYE,0BAA4B,MAE1C,MAAME,KAAiBlB,EAAWE,gBAAkB1Q,EAA6C2R,oBAAoBC,OAChHN,EAAYO,yBACfP,EAAYO,uBAAyB,IAAI7R,EAA6C+K,kBACtFuG,EAAYQ,aAAe,CACzBC,QAAS,GACTC,UAAW,GACXC,WAAW,EACXC,eAAgB,MAElB3xB,KAAK+uB,QAAQzT,KAAK,gBAClBtb,KAAK4xB,kBAAkB3B,IAEzB,MAAM4B,EAAWC,IACff,EAAYgB,YAAY3R,OAAO4R,IAC3BhyB,KAAKqvB,0BAA4B8B,KACnCnxB,MAAK,GAAkB,GAEzBA,MAAK,GAAamxB,GACdW,GACFE,EAAmBC,WAAW3H,OAAOwH,GACrC9xB,KAAKkyB,mBAAmB,CACtBnB,cACAoB,OAAQL,aAAiBzN,MAAQyN,EAAQ,IAAIzN,MAAMyN,MAGrDE,EAAmBC,WAAW7I,UAEhCppB,KAAK+uB,QAAQqD,QAAQ,aACrBpyB,KAAK+uB,QAAQqD,QAAQ,UAAU,EAE3BJ,EAAqB,IAAIK,EAAmB,CAChDC,SAAUT,EACVvT,OAAQ,CACNgS,gBACAhrB,WACAorB,YACAC,cAEFxB,KAAMnvB,KAAKmvB,KACXD,WAAYlvB,KAAKkvB,WACjBhR,sBACAqT,aAAcR,EAAYQ,aAC1B5C,UAAW3uB,KAAK6uB,WAChBrH,cAAexnB,KAAKkqB,WAAW1C,cAC/BC,cAAeznB,KAAKkqB,WAAWzC,cAC/B8K,0BAA2BpB,EAC3BjK,OAAQlnB,KAAKivB,QACb4B,gBAEDE,EAAYgB,cAAgB,IAAIjhB,KAAO7K,IAAI+rB,GAC5C,MAAMQ,EAAaR,EAAmBzN,KAatC,OAZA4E,QAAQW,IAAI,CAACiH,EAAYO,uBAAuB3I,QAASiI,IAA+B1N,MAAK,EAAEuP,EAAcC,MACvG1yB,KAAK4oB,UACPiJ,KAGF7xB,KAAK+uB,QAAQzT,KAAK,aAClB0W,EAAmBW,mBAAmB,CACpCF,eACAC,0BAEFV,EAAmBY,sBAAqB,IACvCxI,MAAMyH,GACFW,CACT,CACA,eAAAK,EAAgB,OACdhX,EAAS,UAAS,eAClB0U,EAAiB9Q,EAA6C+Q,eAAeC,OAAM,uBACnFK,EAAyB,MACvB,CAAC,GAOH,MAAMb,EAAajwB,KAAKkqB,WAAWgG,mBAAmBrU,EAAQ0U,EAAgBO,GAAwB,GACtG,IAKIgC,EALA/B,EAAc/wB,KAAKsvB,cAAchf,IAAI2f,EAAWe,UAoBpD,OAnBKD,IACHA,EAAcxmB,OAAO3J,OAAO,MAC5BZ,KAAKsvB,cAAcvQ,IAAIkR,EAAWe,SAAUD,IAGzCA,EAAYgC,uBACfD,EAAavoB,OAAO3J,OAAO,MAC3BkyB,EAAWF,oBAfb,WACM7B,EAAYQ,aAAaG,YAC3BX,EAAYgC,qBAAqB3J,QAAQ2H,EAAYQ,cACrDR,EAAYgB,YAAY3R,OAAO0S,GAEnC,EAWE/B,EAAYgC,qBAAuB,IAAItT,EAA6C+K,mBACnFuG,EAAYgB,cAAgB,IAAIjhB,KAAO7K,IAAI6sB,GAC5C/B,EAAYQ,aAAe,CACzBC,QAAS,GACTC,UAAW,GACXC,WAAW,EACXC,eAAgB,MAElB3xB,KAAK+uB,QAAQzT,KAAK,gBAClBtb,KAAK4xB,kBAAkB3B,IAElBc,EAAYgC,qBAAqBpK,OAC1C,CACA,iBAAAqK,EAAkB,qBAChBC,GAAuB,EAAK,qBAC5BC,GAAuB,GACrB,CAAC,GAEH,OAAOlzB,KAAKkqB,WAAWnB,eAAeoK,eAAe,iBAAkB,CACrExE,UAAW3uB,KAAK6uB,WAChBoE,sBAA+C,IAAzBA,EACtBC,sBAA+C,IAAzBA,GACrB,CACDE,cAN8B,IAO9B,IAAAnb,CAAK/C,GACH,OAAOA,EAAYqE,MAAMlO,MAC3B,GAEJ,CACA,cAAAgoB,CAAe/U,EAAS,CAAC,GACvB,GAAIte,KAAKkqB,WAAWwC,YAClB,OAAO1sB,KAAKqwB,SAASnN,MAAKoQ,GACjBtQ,EAA2CuQ,QAAQre,YAAYoe,KAG1E,MAAME,EAAiBxzB,KAAKgzB,kBAAkB1U,GAC9C,OAAO,IAAI6K,SAAQ,SAAUC,EAASkB,GAepC,MAAMmJ,EAASD,EAAeE,YACxBxe,EAAc,CAClBqE,MAAO,GACPoa,OAAQppB,OAAO3J,OAAO,QAjBxB,SAASgzB,IACPH,EAAOI,OAAO3Q,MAAK,UAAU,MAC3B7R,EAAK,KACLyiB,IAEIA,EACF1K,EAAQlU,IAGV3K,OAAO4V,OAAOjL,EAAYye,OAAQtiB,EAAMsiB,QACxCze,EAAYqE,MAAMtN,QAAQoF,EAAMkI,OAChCqa,IACF,GAAGtJ,EACL,CAMAsJ,EACF,GACF,CACA,aAAAG,GACE,OAAO/zB,KAAKkqB,WAAW6J,cAAc/zB,KAAK6uB,WAC5C,CACA,QAAAmF,GACEh0B,KAAK4oB,WAAY,EACjB,MAAMqL,EAAS,GACf,IAAK,MAAMlD,KAAe/wB,KAAKsvB,cAActe,SAM3C,GALAhR,KAAKkyB,mBAAmB,CACtBnB,cACAoB,OAAQ,IAAI9N,MAAM,uBAClB6P,OAAO,KAELnD,EAAYgC,qBAGhB,IAAK,MAAMf,KAAsBjB,EAAYgB,YAC3CkC,EAAOhoB,KAAK+lB,EAAmBmC,WAC/BnC,EAAmBoC,SAMvB,OAHAp0B,KAAKmvB,KAAK3V,QACVxZ,MAAK,GAAkB,EACvBA,MAAK,IACEmpB,QAAQW,IAAImK,EACrB,CACA,OAAA9F,CAAQkG,GAAa,GACnBr0B,MAAK,GAAkB,EACvB,MAAMs0B,EAAUt0B,MAAK,GAAY,GAIjC,OAHIq0B,GAAcC,IAChBt0B,KAAK+uB,SAAW,IAAI3M,EAA+C4M,WAE9DsF,CACT,CACA,GAAYC,GAAU,GAEpB,GADAv0B,MAAK,KACAA,MAAK,GAAmBA,KAAK4oB,UAChC,OAAO,EAET,GAAI2L,EAKF,OAJAv0B,MAAK,EAAyBqJ,YAAW,KACvCrJ,MAAK,EAAyB,KAC9BA,MAAK,GAAY,EAAM,GACtBqjB,IACI,EAET,IAAK,MAAM,YACT0O,EAAW,aACXR,KACGvxB,KAAKsvB,cAActe,SACtB,GAAI+gB,EAAY9Z,KAAO,IAAMsZ,EAAaG,UACxC,OAAO,EAMX,OAHA1xB,KAAKsvB,cAAc9V,QACnBxZ,KAAKmvB,KAAK3V,QACVxZ,MAAK,GAAkB,GAChB,CACT,CACA,KACMA,MAAK,IACPkxB,aAAalxB,MAAK,GAClBA,MAAK,EAAyB,KAElC,CACA,gBAAAw0B,CAAiB/B,EAAczB,GAC7B,MAAMD,EAAc/wB,KAAKsvB,cAAchf,IAAI0gB,GACtCD,IAGL/wB,KAAK+uB,QAAQqD,QAAQ,gBACrBrB,EAAYO,wBAAwBlI,QAAQqJ,GAC9C,CACA,gBAAAgC,CAAiBC,EAAmB3D,GAClC,IAAK,IAAIxU,EAAI,EAAGC,EAAKkY,EAAkBrpB,OAAQkR,EAAIC,EAAID,IACrDwU,EAAYQ,aAAaC,QAAQvlB,KAAKyoB,EAAkBlD,QAAQjV,IAChEwU,EAAYQ,aAAaE,UAAUxlB,KAAKyoB,EAAkBjD,UAAUlV,IAEtEwU,EAAYQ,aAAaG,UAAYgD,EAAkBhD,UACvDX,EAAYQ,aAAaI,eAAiB+C,EAAkB/C,eAC5D,IAAK,MAAMK,KAAsBjB,EAAYgB,YAC3CC,EAAmBY,sBAEjB8B,EAAkBhD,WACpB1xB,MAAK,GAAY,EAErB,CACA,iBAAA4xB,EAAkB,gBAChBzB,EAAe,SACfa,EAAQ,8BACR2D,IAEA,MAAM,IACJr1B,EAAG,SACHwgB,GACE6U,EAOElB,EANiBzzB,KAAKkqB,WAAWnB,eAAeoK,eAAe,kBAAmB,CACtFxE,UAAW3uB,KAAK6uB,WAChBhT,OAAQsU,EACRa,WACA1sB,kBAAmBhF,GAClBwgB,GAC2B4T,YACxB3C,EAAc/wB,KAAKsvB,cAAchf,IAAI0gB,GAC3CD,EAAY6D,aAAenB,EAC3B,MAAMG,EAAO,KACXH,EAAOI,OAAO3Q,MAAK,EACjB7R,QACAyiB,WAEIA,EACF/C,EAAY6D,aAAe,KAGzB50B,KAAKkqB,WAAWtB,YAGpB5oB,KAAKy0B,iBAAiBpjB,EAAO0f,GAC7B6C,IAAM,IACLzB,IAED,GADApB,EAAY6D,aAAe,MACvB50B,KAAKkqB,WAAWtB,UAApB,CAGA,GAAImI,EAAYQ,aAAc,CAC5BR,EAAYQ,aAAaG,WAAY,EACrC,IAAK,MAAMM,KAAsBjB,EAAYgB,YAC3CC,EAAmBY,sBAErB5yB,MAAK,GAAY,EACnB,CACA,GAAI+wB,EAAYO,uBACdP,EAAYO,uBAAuBhH,OAAO6H,OACrC,KAAIpB,EAAYgC,qBAGrB,MAAMZ,EAFNpB,EAAYgC,qBAAqBzI,OAAO6H,EAG1C,CAdA,CAcA,GACA,EAEJyB,GACF,CACA,kBAAA1B,EAAmB,YACjBnB,EAAW,OACXoB,EAAM,MACN+B,GAAQ,IAER,GAAKnD,EAAY6D,aAAjB,CAOA,GAJI7D,EAAYE,4BACdC,aAAaH,EAAYE,2BACzBF,EAAYE,0BAA4B,OAErCiD,EAAO,CACV,GAAInD,EAAYgB,YAAY9Z,KAAO,EACjC,OAEF,GAAIka,aAAkB/P,EAA+CyS,4BAA6B,CAChG,IAAIC,EAAQ1R,EAYZ,OAXI+O,EAAO4C,WAAa,GAAK5C,EAAO4C,WAAa,MAC/CD,GAAS3C,EAAO4C,iBAElBhE,EAAYE,0BAA4B5nB,YAAW,KACjD0nB,EAAYE,0BAA4B,KACxCjxB,KAAKkyB,mBAAmB,CACtBnB,cACAoB,SACA+B,OAAO,GACP,GACDY,GAEL,CACF,CAGA,GAFA/D,EAAY6D,aAAaR,OAAO,IAAI3U,EAA6CuV,eAAe7C,EAAO8C,UAAU7K,OAAM,SACvH2G,EAAY6D,aAAe,MACvB50B,KAAKkqB,WAAWtB,UAApB,CAGA,IAAK,MAAOsM,EAAaC,KAAmBn1B,KAAKsvB,cAC/C,GAAI6F,IAAmBpE,EAAa,CAClC/wB,KAAKsvB,cAAclP,OAAO8U,GAC1B,KACF,CAEFl1B,KAAKmuB,SAPL,CA7BA,CAqCF,CACA,SAAIiH,GACF,OAAOp1B,KAAK+uB,MACd,EAEF,MAAMsG,EACJ,GAAa,IAAIvkB,IACjB,GAAYqY,QAAQC,UACpB,WAAAkM,CAAY/U,EAAKT,GACf,MAAMvX,EAAQ,CACZzH,KAAM0gB,gBAAgBjB,EAAKT,EAAW,CACpCA,YACE,OAEN9f,MAAK,EAAUkjB,MAAK,KAClB,IAAK,MAAMkI,KAAYprB,MAAK,EAC1BorB,EAASpS,KAAKhZ,KAAMuI,EACtB,GAEJ,CACA,gBAAA6F,CAAiB9D,EAAM8gB,GACrBprB,MAAK,EAAWiG,IAAImlB,EACtB,CACA,mBAAAxS,CAAoBtO,EAAM8gB,GACxBprB,MAAK,EAAWogB,OAAOgL,EACzB,CACA,SAAAmK,GACEv1B,MAAK,EAAWwZ,OAClB,EAEF,MAAMgc,EAAgB,CACpBC,kBAAkB,EAClBC,aAAc,GAGVjW,EAA6C8D,WAC/CiS,EAAcC,kBAAmB,EACjCjT,EAAgD0F,oBAAoByN,YAAc,oBAEpFH,EAAcI,aAAe,SAAU/N,EAASgO,GAC9C,IAAI/gB,EACJ,IAEE,GADAA,EAAO,IAAIqP,IAAI0D,IACV/S,EAAKghB,QAA0B,SAAhBhhB,EAAKghB,OACvB,OAAO,CAEX,CAAE,MACA,OAAO,CACT,CACA,MAAMC,EAAQ,IAAI5R,IAAI0R,EAAU/gB,GAChC,OAAOA,EAAKghB,SAAWC,EAAMD,MAC/B,EACAN,EAAcQ,iBAAmB,SAAUnnB,GACzC,MAAMonB,EAAU,iBAAiBpnB,OACjC,OAAOsV,IAAI+R,gBAAgB,IAAIC,KAAK,CAACF,IACvC,EAEF,MAAMlU,EACJwI,SACA,WAAA3mB,EAAY,KACV0G,EAAO,KAAI,KACX2d,EAAO,KAAI,UACXrC,GAAY,EAAGnG,EAA6C2W,sBAC1D,CAAC,GAQH,GAPAp2B,KAAKsK,KAAOA,EACZtK,KAAK4oB,WAAY,EACjB5oB,KAAK4lB,UAAYA,EACjB5lB,KAAKkrB,iBAAmB,IAAIzL,EAA6C+K,kBACzExqB,KAAKq2B,MAAQ,KACbr2B,KAAKs2B,WAAa,KAClBt2B,KAAKu2B,gBAAkB,KACnBtO,EAAM,CACR,GAAIlG,GAAU,GAAc5U,IAAI8a,GAC9B,MAAM,IAAI5D,MAAM,gDAIlB,OAFCtC,GAAU,IAAiB,IAAIyU,SAAWzX,IAAIkJ,EAAMjoB,WACrDA,KAAKy2B,oBAAoBxO,EAE3B,CACAjoB,KAAK02B,aACP,CACA,WAAI/N,GACF,OAAO3oB,KAAKkrB,iBAAiBvC,OAC/B,CACA,QAAIV,GACF,OAAOjoB,KAAKq2B,KACd,CACA,kBAAItN,GACF,OAAO/oB,KAAKu2B,eACd,CACA,mBAAAE,CAAoBxO,GAClBjoB,KAAKq2B,MAAQpO,EACbjoB,KAAKu2B,gBAAkB,IAAI9T,EAAwDsH,eAAe,OAAQ,SAAU9B,GACpHjoB,KAAKu2B,gBAAgBI,GAAG,SAAS,WAAa,IAC9C32B,KAAKkrB,iBAAiB9B,UACtBppB,KAAKu2B,gBAAgBpM,KAAK,YAAa,CACrCvE,UAAW5lB,KAAK4lB,WAEpB,CACA,WAAA8Q,GACE,IAAKlB,EAAcC,mBAAqB1T,GAAU,EAAiC,CACjF,IAAI,UACF4T,GACE5T,EACJ,IACOyT,EAAcI,aAAalR,OAAOC,SAAShV,KAAMgmB,KACpDA,EAAYH,EAAcQ,iBAAiB,IAAI7R,IAAIwR,EAAWjR,OAAOC,UAAUhV,OAEjF,MAAMgW,EAAS,IAAIiR,OAAOjB,EAAW,CACnCvkB,KAAM,WAEF2X,EAAiB,IAAItG,EAAwDsH,eAAe,OAAQ,SAAUpE,GAC9GkR,EAAiB,KACrBlR,EAAO/M,oBAAoB,QAASke,GACpC/N,EAAe4B,UACfhF,EAAO4P,YACHv1B,KAAK4oB,UACP5oB,KAAKkrB,iBAAiBZ,OAAO,IAAIjG,MAAM,yBAEvCrkB,KAAK+2B,kBACP,EAEID,EAAgB,KACf92B,KAAKs2B,YACRO,GACF,EAEFlR,EAAOvX,iBAAiB,QAAS0oB,GACjC/N,EAAe4N,GAAG,QAAQ71B,IACxB6kB,EAAO/M,oBAAoB,QAASke,GAChC92B,KAAK4oB,UACPiO,IAGE/1B,GACFd,KAAKu2B,gBAAkBxN,EACvB/oB,KAAKq2B,MAAQ1Q,EACb3lB,KAAKs2B,WAAa3Q,EAClB3lB,KAAKkrB,iBAAiB9B,UACtBL,EAAeoB,KAAK,YAAa,CAC/BvE,UAAW5lB,KAAK4lB,cAGlB5lB,KAAK+2B,mBACLhO,EAAe4B,UACfhF,EAAO4P,YACT,IAEFxM,EAAe4N,GAAG,SAAS71B,IAEzB,GADA6kB,EAAO/M,oBAAoB,QAASke,GAChC92B,KAAK4oB,UACPiO,SAGF,IACEG,GACF,CAAE,MACAh3B,KAAK+2B,kBACP,KAEF,MAAMC,EAAW,KACf,MAAMC,EAAU,IAAInS,WACpBiE,EAAeoB,KAAK,OAAQ8M,EAAS,CAACA,EAAQjS,QAAQ,EAGxD,YADAgS,GAEF,CAAE,OACA,EAAGvX,EAA6CyX,MAAM,gCACxD,CACF,CACAl3B,KAAK+2B,kBACP,CACA,gBAAAA,GACOvB,EAAcC,oBACjB,EAAGhW,EAA6ChY,MAAM,2BACtD+tB,EAAcC,kBAAmB,GAEnC1T,EAAUoV,uBAAuBjU,MAAKkU,IACpC,GAAIp3B,KAAK4oB,UAEP,YADA5oB,KAAKkrB,iBAAiBZ,OAAO,IAAIjG,MAAM,yBAGzC,MAAM4D,EAAO,IAAIoN,EACjBr1B,KAAKq2B,MAAQpO,EACb,MAAMviB,EAAK,OAAO8vB,EAAcE,eAC1B2B,EAAgB,IAAI5U,EAAwDsH,eAAerkB,EAAK,UAAWA,EAAIuiB,GACrHmP,EAAqBE,MAAMD,EAAepP,GAC1C,MAAMc,EAAiB,IAAItG,EAAwDsH,eAAerkB,EAAIA,EAAK,UAAWuiB,GACtHjoB,KAAKu2B,gBAAkBxN,EACvB/oB,KAAKkrB,iBAAiB9B,UACtBL,EAAeoB,KAAK,YAAa,CAC/BvE,UAAW5lB,KAAK4lB,WAChB,IACDwE,OAAM+H,IACPnyB,KAAKkrB,iBAAiBZ,OAAO,IAAIjG,MAAM,mCAAmC8N,EAAO8C,aAAa,GAElG,CACA,OAAAtK,GACE3qB,KAAK4oB,WAAY,EACb5oB,KAAKs2B,aACPt2B,KAAKs2B,WAAWf,YAChBv1B,KAAKs2B,WAAa,MAEpBvU,GAAU,GAAc3B,OAAOpgB,KAAKq2B,OACpCr2B,KAAKq2B,MAAQ,KACTr2B,KAAKu2B,kBACPv2B,KAAKu2B,gBAAgB5L,UACrB3qB,KAAKu2B,gBAAkB,KAE3B,CACA,eAAOnO,CAAS9J,GACd,IAAKA,GAAQ2J,KACX,MAAM,IAAI5D,MAAM,kDAElB,MAAMkT,EAAav3B,MAAK,GAAcsQ,IAAIgO,EAAO2J,MACjD,GAAIsP,EAAY,CACd,GAAIA,EAAW3M,gBACb,MAAM,IAAIvG,MAAM,2HAElB,OAAOkT,CACT,CACA,OAAO,IAAIxV,EAAUzD,EACvB,CACA,oBAAWqX,GACT,GAAInT,EAAgD0F,oBAAoByN,UACtE,OAAOnT,EAAgD0F,oBAAoByN,UAE7E,MAAM,IAAItR,MAAM,gDAClB,CACA,YAAW,GACT,IACE,OAAOyC,WAAW0Q,aAAaJ,sBAAwB,IACzD,CAAE,MACA,OAAO,IACT,CACF,CACA,iCAAWD,GAQT,OAAO,EAAG1X,EAA6C5W,QAAQ7I,KAAM,yBAPtD2hB,WACb,GAAI3hB,MAAK,EACP,OAAOA,MAAK,EAGd,aADqBy3B,OAAiCz3B,KAAK21B,YAC7CyB,oBAAoB,EAE2DM,GACjG,EAEF,MAAMzN,EACJ,GAAkB,IAAI5Z,IACtB,GAAa,IAAIA,IACjB,GAAgB,IAAIA,IACpB,GAAsB,KACtB,WAAAzM,CAAYmlB,EAAgBuF,EAAajF,EAAe/K,EAAQqZ,GAC9D33B,KAAK+oB,eAAiBA,EACtB/oB,KAAKsuB,YAAcA,EACnBtuB,KAAKkvB,WAAa,IAAIE,EACtBpvB,KAAK43B,WAAa,IAAIvV,EAA6CwV,WAAW,CAC5EhR,cAAevI,EAAOuI,cACtB6B,aAAcpK,EAAOoK,eAEvB1oB,KAAK83B,QAAUxZ,EACfte,KAAKwnB,cAAgBmQ,EAAQnQ,cAC7BxnB,KAAKynB,cAAgBkQ,EAAQlQ,cAC7BznB,KAAK4nB,kBAAoB+P,EAAQ/P,kBACjC5nB,KAAK+nB,wBAA0B4P,EAAQ5P,wBACvC/nB,KAAK4oB,WAAY,EACjB5oB,KAAK+3B,kBAAoB,KACzB/3B,KAAKg4B,eAAiB3O,EACtBrpB,KAAKi4B,YAAc,KACnBj4B,KAAKk4B,cAAgB,KACrBl4B,KAAKkuB,uBAAyB,IAAIzO,EAA6C+K,kBAC/ExqB,KAAKm4B,qBACP,CACA,IAAmB7tB,EAAMxJ,EAAO,MAC9B,MAAMs3B,EAAgBp4B,MAAK,EAAgBsQ,IAAIhG,GAC/C,GAAI8tB,EACF,OAAOA,EAET,MAAMzP,EAAU3oB,KAAK+oB,eAAeC,gBAAgB1e,EAAMxJ,GAE1D,OADAd,MAAK,EAAgB+e,IAAIzU,EAAMqe,GACxBA,CACT,CACA,qBAAIrkB,GACF,OAAO,EAAGmb,EAA6C5W,QAAQ7I,KAAM,oBAAqB,IAAImiB,EAAoDvD,kBACpJ,CACA,kBAAAsR,CAAmBrU,EAAQ0U,EAAiB9Q,EAA6C+Q,eAAeC,OAAQK,EAAyB,KAAMuH,GAAW,GACxJ,IAAIlI,EAAkB1Q,EAA6C2R,oBAAoBkH,QACnF3D,EAAgCxS,EAAoD3C,kBACxF,OAAQ3D,GACN,IAAK,MACHsU,EAAkB1Q,EAA6C2R,oBAAoBmH,IACnF,MACF,IAAK,UACH,MACF,IAAK,QACHpI,EAAkB1Q,EAA6C2R,oBAAoBC,MACnF,MACF,SACE,EAAG5R,EAA6ChY,MAAM,wCAAwCoU,KAElG,OAAQ0U,GACN,KAAK9Q,EAA6C+Q,eAAegI,QAC/DrI,GAAmB1Q,EAA6C2R,oBAAoBqH,oBACpF,MACF,KAAKhZ,EAA6C+Q,eAAeC,OAC/D,MACF,KAAKhR,EAA6C+Q,eAAekI,aAC/DvI,GAAmB1Q,EAA6C2R,oBAAoBuH,kBACpF,MACF,KAAKlZ,EAA6C+Q,eAAeoI,eAC/DzI,GAAmB1Q,EAA6C2R,oBAAoByH,oBAEpFlE,GAD0BxE,EAAkB1Q,EAA6C2R,oBAAoBC,OAASP,aAAkC3O,EAAoD5C,uBAAyBuR,EAAyB9wB,KAAKsE,mBACjNyc,aAClD,MACF,SACE,EAAGtB,EAA6ChY,MAAM,gDAAgD8oB,KAK1G,OAHI8H,IACFlI,GAAmB1Q,EAA6C2R,oBAAoB0H,QAE/E,CACL3I,kBACAa,SAAU,GAAGb,KAAmBwE,EAA8B9U,OAC9D8U,gCAEJ,CACA,OAAAhK,GACE,GAAI3qB,KAAK+3B,kBACP,OAAO/3B,KAAK+3B,kBAAkBpP,QAEhC3oB,KAAK4oB,WAAY,EACjB5oB,KAAK+3B,kBAAoB,IAAItY,EAA6C+K,kBAC1ExqB,MAAK,GAAqBsqB,OAAO,IAAIjG,MAAM,oDAC3C,MAAM4P,EAAS,GACf,IAAK,MAAM5uB,KAAQrF,MAAK,EAAWgR,SACjCijB,EAAOhoB,KAAK5G,EAAK2uB,YAEnBh0B,MAAK,EAAWwZ,QAChBxZ,MAAK,EAAcwZ,QACfxZ,KAAK+4B,eAAe,sBACtB/4B,KAAKsE,kBAAkB+b,gBAEzB,MAAM2Y,EAAah5B,KAAK+oB,eAAeC,gBAAgB,YAAa,MAcpE,OAbAiL,EAAOhoB,KAAK+sB,GACZ7P,QAAQW,IAAImK,GAAQ/Q,MAAK,KACvBljB,KAAKkvB,WAAW1V,QAChBxZ,KAAK43B,WAAWpe,QAChBxZ,MAAK,EAAgBwZ,QACrBxZ,KAAKynB,cAAckD,UACnB3qB,KAAKg4B,gBAAgBiB,kBAAkB,IAAIxZ,EAA6CuV,eAAe,2BACnGh1B,KAAK+oB,iBACP/oB,KAAK+oB,eAAe4B,UACpB3qB,KAAK+oB,eAAiB,MAExB/oB,KAAK+3B,kBAAkB3O,SAAS,GAC/BppB,KAAK+3B,kBAAkBzN,QACnBtqB,KAAK+3B,kBAAkBpP,OAChC,CACA,mBAAAwP,GACE,MAAM,eACJpP,EAAc,YACduF,GACEtuB,KACJ+oB,EAAe4N,GAAG,aAAa,CAAC71B,EAAMo4B,MACpC,EAAGzZ,EAA6C0Z,QAAQn5B,KAAKg4B,eAAgB,mDAC7Eh4B,KAAKi4B,YAAcj4B,KAAKg4B,eAAeoB,gBACvCp5B,KAAKi4B,YAAYvN,WAAa1M,IAC5Bhe,KAAKk4B,cAAgB,CACnBtM,OAAQ5N,EAAI4N,OACZC,MAAO7N,EAAI6N,MACZ,EAEHqN,EAAKG,OAAS,KACZr5B,KAAKi4B,YAAYpE,OAAO3Q,MAAK,UAAU,MACrC7R,EAAK,KACLyiB,IAEIA,EACFoF,EAAKI,UAGP,EAAG7Z,EAA6C0Z,QAAQ9nB,aAAiBkoB,YAAa,wCACtFL,EAAKM,QAAQ,IAAI1U,WAAWzT,GAAQ,EAAG,CAACA,IAC1C,IAAG+Y,OAAM+H,IACP+G,EAAKpH,MAAMK,EAAO,GAClB,EAEJ+G,EAAKO,SAAWtH,IACdnyB,KAAKi4B,YAAY7D,OAAOjC,GACxB+G,EAAKQ,MAAMtP,OAAMuP,IACf,IAAI35B,KAAK4oB,UAGT,MAAM+Q,CAAW,GACjB,CACH,IAEH5Q,EAAe4N,GAAG,sBAAsB71B,IACtC,MAAM84B,EAAoB,IAAIna,EAA6C+K,kBACrEqP,EAAa75B,KAAKi4B,YAmBxB,OAlBA4B,EAAWC,aAAa5W,MAAK,KACtB2W,EAAWE,sBAAyBF,EAAWG,mBAC9Ch6B,KAAKk4B,eACP5J,EAAY5D,aAAa1qB,KAAKk4B,eAEhC2B,EAAWnP,WAAa1M,IACtBsQ,EAAY5D,aAAa,CACvBkB,OAAQ5N,EAAI4N,OACZC,MAAO7N,EAAI6N,OACX,GAGN+N,EAAkBxQ,QAAQ,CACxB2Q,qBAAsBF,EAAWE,qBACjCC,iBAAkBH,EAAWG,iBAC7BC,cAAeJ,EAAWI,eAC1B,GACDL,EAAkBtP,QACdsP,EAAkBjR,OAAO,IAElCI,EAAe4N,GAAG,kBAAkB,CAAC71B,EAAMo4B,MACzC,EAAGzZ,EAA6C0Z,QAAQn5B,KAAKg4B,eAAgB,wDAC7E,MAAMkC,EAAcl6B,KAAKg4B,eAAemC,eAAer5B,EAAK2qB,MAAO3qB,EAAKorB,KACnEgO,GAILhB,EAAKG,OAAS,KACZa,EAAYrG,OAAO3Q,MAAK,UAAU,MAChC7R,EAAK,KACLyiB,IAEIA,EACFoF,EAAKI,UAGP,EAAG7Z,EAA6C0Z,QAAQ9nB,aAAiBkoB,YAAa,6CACtFL,EAAKM,QAAQ,IAAI1U,WAAWzT,GAAQ,EAAG,CAACA,IAC1C,IAAG+Y,OAAM+H,IACP+G,EAAKpH,MAAMK,EAAO,GAClB,EAEJ+G,EAAKO,SAAWtH,IACd+H,EAAY9F,OAAOjC,GACnB+G,EAAKQ,MAAMtP,OAAMuP,IACf,IAAI35B,KAAK4oB,UAGT,MAAM+Q,CAAW,GACjB,GAzBFT,EAAKI,OA0BN,IAEHvQ,EAAe4N,GAAG,UAAU,EAC1BtK,cAEArsB,KAAKo6B,UAAY/N,EAAQE,SACzBvsB,KAAK0sB,YAAcL,EAAQgO,kBACpBhO,EAAQgO,WACf/L,EAAYjE,YAAYjB,QAAQ,IAAIgD,EAAiBC,EAASrsB,MAAM,IAEtE+oB,EAAe4N,GAAG,gBAAgB,SAAU9L,GAC1C,IAAIsH,EACJ,OAAQtH,EAAGvgB,MACT,IAAK,oBACH6nB,EAAS,IAAI1S,EAA6C6a,kBAAkBzP,EAAGoK,QAASpK,EAAG0P,MAC3F,MACF,IAAK,sBACHpI,EAAS,IAAI1S,EAA6C+a,oBAAoB3P,EAAGoK,SACjF,MACF,IAAK,sBACH9C,EAAS,IAAI1S,EAA6Cgb,oBAAoB5P,EAAGoK,SACjF,MACF,IAAK,8BACH9C,EAAS,IAAI1S,EAA6Cib,4BAA4B7P,EAAGoK,QAASpK,EAAG8P,QACrG,MACF,IAAK,wBACHxI,EAAS,IAAI1S,EAA6Cmb,sBAAsB/P,EAAGoK,QAASpK,EAAGgQ,SAC/F,MACF,SACE,EAAGpb,EAA6C/S,aAAa,0CAEjE4hB,EAAYjE,YAAYC,OAAO6H,EACjC,IACApJ,EAAe4N,GAAG,mBAAmBmE,IAEnC,GADA96B,MAAK,EAAsB,IAAIyf,EAA6C+K,kBACxE8D,EAAY7D,WAAY,CAC1B,MAAMsQ,EAAiBzV,IACjBA,aAAoBjB,MACtBrkB,MAAK,EAAoBsqB,OAAOhF,GAEhCtlB,MAAK,EAAoBopB,QAAQ,CAC/B9D,YAEJ,EAEF,IACEgJ,EAAY7D,WAAWsQ,EAAgBD,EAAUP,KACnD,CAAE,MAAO1P,GACP7qB,MAAK,EAAoBsqB,OAAOO,EAClC,CACF,MACE7qB,MAAK,EAAoBsqB,OAAO,IAAI7K,EAA6C6a,kBAAkBQ,EAAU7F,QAAS6F,EAAUP,OAElI,OAAOv6B,MAAK,EAAoB2oB,OAAO,IAEzCI,EAAe4N,GAAG,cAAc71B,IAC9BwtB,EAAY5D,aAAa,CACvBkB,OAAQ9qB,EAAKuK,OACbwgB,MAAO/qB,EAAKuK,SAEdrL,KAAKkuB,uBAAuB9E,QAAQtoB,EAAK,IAE3CioB,EAAe4N,GAAG,mBAAmB71B,IACnC,GAAId,KAAK4oB,UACP,OAEW5oB,MAAK,EAAWsQ,IAAIxP,EAAK6tB,WACjC6F,iBAAiB1zB,EAAK2xB,aAAc3xB,EAAKkwB,SAAS,IAEzDjI,EAAe4N,GAAG,aAAa,EAAEjxB,EAAI0L,EAAM4pB,MACzC,IAAIh7B,KAAK4oB,YAGL5oB,KAAKkvB,WAAW/hB,IAAIzH,GAGxB,OAAQ0L,GACN,IAAK,OACH,MAAMkN,EAASte,KAAK83B,QACpB,GAAI,UAAWkD,EAAc,CAC3B,MAAMC,EAAgBD,EAAalJ,OACnC,EAAGrS,EAA6ChY,MAAM,8BAA8BwzB,KACpFj7B,KAAKkvB,WAAW9F,QAAQ1jB,EAAIu1B,GAC5B,KACF,CACA,MAAMC,EAAc5c,EAAO4I,QAAUJ,WAAWqU,eAAeC,QAAU,CAACC,EAAMxsB,IAAQiY,WAAWqU,cAAcG,UAAUD,EAAMxsB,GAAO,KAClIwsB,EAAO,IAAIhZ,EAA6CkZ,eAAeP,EAAc,CACzFzU,gBAAiBjI,EAAOiI,gBACxBG,gBAAiBpI,EAAOoI,gBACxBN,aAAc9H,EAAO8H,aACrB8U,gBAEFl7B,KAAK43B,WAAWtd,KAAK+gB,GAAMjR,OAAM+H,GACxBpJ,EAAeC,gBAAgB,eAAgB,CACpDtjB,SAED81B,SAAQ,MACJld,EAAOqI,qBAAuB0U,EAAKv6B,OACtCu6B,EAAKv6B,KAAO,MAEdd,KAAKkvB,WAAW9F,QAAQ1jB,EAAI21B,EAAK,IAEnC,MACF,IAAK,WACL,IAAK,QACL,IAAK,UACHr7B,KAAKkvB,WAAW9F,QAAQ1jB,EAAIs1B,GAC5B,MACF,QACE,MAAM,IAAI3W,MAAM,kCAAkCjT,KACtD,IAEF2X,EAAe4N,GAAG,OAAO,EAAEjxB,EAAIipB,EAAWvd,EAAMqqB,MAC9C,GAAIz7B,KAAK4oB,UACP,OAEF,MAAM8S,EAAY17B,MAAK,EAAWsQ,IAAIqe,GACtC,IAAI+M,EAAUvM,KAAKhiB,IAAIzH,GAGvB,GAAqC,IAAjCg2B,EAAUpM,cAAcrX,KAI5B,OAAQ7G,GACN,IAAK,QAEH,GADAsqB,EAAUvM,KAAK/F,QAAQ1jB,EAAI+1B,GACvBA,EAAW,CACb,IAAIpwB,EACJ,GAAIowB,EAAUpa,OAAQ,CACpB,MAAM,MACJ5gB,EAAK,OACLC,GACE+6B,EACJpwB,EAAS5K,EAAQC,EAAS,CAC5B,MACE2K,EAASowB,EAAU36B,MAAMuK,QAAU,EAEjCA,EAASoU,EAA6Ckc,0BACxDD,EAAUrM,0BAA2B,EAEzC,CACA,MACF,IAAK,UACHqM,EAAUvM,KAAK/F,QAAQ1jB,EAAI+1B,GAC3B,MACF,QACE,MAAM,IAAIpX,MAAM,2BAA2BjT,UA1B7CqqB,GAAWpa,QAAQiY,OA2BrB,IAEFvQ,EAAe4N,GAAG,eAAe71B,IAC3Bd,KAAK4oB,WAGT0F,EAAY5D,aAAa,CACvBkB,OAAQ9qB,EAAK8qB,OACbC,MAAO/qB,EAAK+qB,OACZ,IAEJ9C,EAAe4N,GAAG,oBAAoB71B,GAChCd,KAAK4oB,UACAO,QAAQmB,OAAO,IAAIjG,MAAM,0BAE7BrkB,KAAK4nB,kBAGH5nB,KAAK4nB,kBAAkBgU,MAAM96B,GAF3BqoB,QAAQmB,OAAO,IAAIjG,MAAM,6EAIpC0E,EAAe4N,GAAG,yBAAyB71B,GACrCd,KAAK4oB,UACAO,QAAQmB,OAAO,IAAIjG,MAAM,0BAE7BrkB,KAAK+nB,wBAGH/nB,KAAK+nB,wBAAwB6T,MAAM96B,GAFjCqoB,QAAQmB,OAAO,IAAIjG,MAAM,kFAItC,CACA,OAAA0J,GACE,OAAO/tB,KAAK+oB,eAAeC,gBAAgB,UAAW,KACxD,CACA,YAAAgF,GACMhuB,KAAKsE,kBAAkB2T,MAAQ,IACjC,EAAGwH,EAA6ChY,MAAM,kGAExD,MAAM,IACJnI,EAAG,SACHwgB,GACE9f,KAAKsE,kBAAkByc,aAC3B,OAAO/gB,KAAK+oB,eAAeC,gBAAgB,eAAgB,CACzDyD,YAAazsB,KAAK0sB,YAClBH,SAAUvsB,KAAKo6B,UACf91B,kBAAmBhF,EACnB6Q,SAAUnQ,KAAKi4B,aAAa9nB,UAAY,MACvC2P,GAAU0b,SAAQ,KACnBx7B,KAAKsE,kBAAkB+b,eAAe,GAE1C,CACA,OAAAuM,CAAQC,GACN,IAAKpH,OAAOC,UAAUmH,IAAeA,GAAc,GAAKA,EAAa7sB,KAAKo6B,UACxE,OAAOjR,QAAQmB,OAAO,IAAIjG,MAAM,0BAElC,MAAMsK,EAAY9B,EAAa,EAC7BuL,EAAgBp4B,MAAK,EAAcsQ,IAAIqe,GACzC,GAAIyJ,EACF,OAAOA,EAET,MAAMzP,EAAU3oB,KAAK+oB,eAAeC,gBAAgB,UAAW,CAC7D2F,cACCzL,MAAK0L,IACN,GAAI5uB,KAAK4oB,UACP,MAAM,IAAIvE,MAAM,uBAElB,MAAMhf,EAAO,IAAIqpB,EAAaC,EAAWC,EAAU5uB,KAAMA,KAAK83B,QAAQ5Q,QAEtE,OADAlnB,MAAK,EAAW+e,IAAI4P,EAAWtpB,GACxBA,CAAI,IAGb,OADArF,MAAK,EAAc+e,IAAI4P,EAAWhG,GAC3BA,CACT,CACA,YAAAmE,CAAaC,GACX,MAAmB,iBAARA,GAA4B,OAARA,IAAiBtH,OAAOC,UAAUqH,EAAI8O,MAAQ9O,EAAI8O,IAAM,IAAMpW,OAAOC,UAAUqH,EAAI+O,MAAQ/O,EAAI+O,IAAM,EAC3H3S,QAAQmB,OAAO,IAAIjG,MAAM,+BAE3BrkB,KAAK+oB,eAAeC,gBAAgB,eAAgB,CACzD6S,IAAK9O,EAAI8O,IACTC,IAAK/O,EAAI+O,KAEb,CACA,cAAA9L,CAAerB,EAAW9S,GACxB,OAAO7b,KAAK+oB,eAAeC,gBAAgB,iBAAkB,CAC3D2F,YACA9S,UAEJ,CACA,eAAA2S,GACE,OAAOxuB,MAAK,GAAmB,kBACjC,CACA,YAAAwE,GACE,OAAOxE,MAAK,GAAmB,eACjC,CACA,sBAAAyuB,GACE,OAAOzuB,KAAK+oB,eAAeC,gBAAgB,yBAA0B,KACvE,CACA,eAAAgE,GACE,OAAOhtB,KAAK+oB,eAAeC,gBAAgB,kBAAmB,KAChE,CACA,cAAAiE,CAAevnB,GACb,MAAkB,iBAAPA,EACFyjB,QAAQmB,OAAO,IAAIjG,MAAM,iCAE3BrkB,KAAK+oB,eAAeC,gBAAgB,iBAAkB,CAC3DtjB,MAEJ,CACA,aAAAwnB,GACE,OAAOltB,KAAK+oB,eAAeC,gBAAgB,gBAAiB,KAC9D,CACA,aAAAmE,GACE,OAAOntB,KAAK+oB,eAAeC,gBAAgB,gBAAiB,KAC9D,CACA,WAAAoE,GACE,OAAOptB,KAAK+oB,eAAeC,gBAAgB,cAAe,KAC5D,CACA,oBAAAqE,GACE,OAAOrtB,KAAK+oB,eAAeC,gBAAgB,uBAAwB,KACrE,CACA,aAAAsE,GACE,OAAOttB,KAAK+oB,eAAeC,gBAAgB,gBAAiB,KAC9D,CACA,cAAAuE,GACE,OAAOvtB,KAAK+oB,eAAeC,gBAAgB,iBAAkB,KAC/D,CACA,eAAAyE,GACE,OAAOztB,MAAK,GAAmB,kBACjC,CACA,gBAAAowB,CAAiBzB,GACf,OAAO3uB,KAAK+oB,eAAeC,gBAAgB,mBAAoB,CAC7D2F,aAEJ,CACA,aAAAoF,CAAcpF,GACZ,OAAO3uB,KAAK+oB,eAAeC,gBAAgB,gBAAiB,CAC1D2F,aAEJ,CACA,UAAAjB,GACE,OAAO1tB,KAAK+oB,eAAeC,gBAAgB,aAAc,KAC3D,CACA,wBAAA2E,GACE,OAAO3tB,KAAK+oB,eAAeC,gBAAgB,2BAA4B,MAAM9F,MAAK6Y,GACzE,IAAIpZ,EAAyDqZ,sBAAsBD,IAE9F,CACA,cAAAnO,GACE,OAAO5tB,KAAK+oB,eAAeC,gBAAgB,iBAAkB,KAC/D,CACA,WAAA6E,GACE,MAAMvjB,EAAO,cACX8tB,EAAgBp4B,MAAK,EAAgBsQ,IAAIhG,GAC3C,GAAI8tB,EACF,OAAOA,EAET,MAAMzP,EAAU3oB,KAAK+oB,eAAeC,gBAAgB1e,EAAM,MAAM4Y,MAAK6Y,IAC5D,CACL7E,KAAM6E,EAAQ,GACdE,SAAUF,EAAQ,GAAK,IAAIrZ,EAA0CwZ,SAASH,EAAQ,IAAM,KAC5FtS,2BAA4BzpB,KAAKi4B,aAAa9nB,UAAY,KAC1D8pB,cAAej6B,KAAKi4B,aAAagC,eAAiB,SAItD,OADAj6B,MAAK,EAAgB+e,IAAIzU,EAAMqe,GACxBA,CACT,CACA,WAAAmF,GACE,OAAO9tB,KAAK+oB,eAAeC,gBAAgB,cAAe,KAC5D,CACA,kBAAMqF,CAAaD,GAAkB,GACnC,IAAIpuB,KAAK4oB,UAAT,OAGM5oB,KAAK+oB,eAAeC,gBAAgB,UAAW,MACrD,IAAK,MAAM3jB,KAAQrF,MAAK,EAAWgR,SAAU,CAE3C,IAD0B3L,EAAK8oB,UAE7B,MAAM,IAAI9J,MAAM,sBAAsBhf,EAAKwnB,qCAE/C,CACA7sB,KAAKkvB,WAAW1V,QACX4U,GACHpuB,KAAK43B,WAAWpe,QAElBxZ,MAAK,EAAgBwZ,QACrBxZ,KAAKynB,cAAckD,SAAQ,EAb3B,CAcF,CACA,iBAAI4D,GACF,MAAM,iBACJtH,EAAgB,UAChBL,GACE5mB,KAAK83B,QACT,OAAO,EAAGrY,EAA6C5W,QAAQ7I,KAAM,gBAAiB,CACpFinB,mBACAL,aAEJ,EAEF,MAAMwI,EACJ,IAAQ7kB,OAAO3J,OAAO,MACtB,IAAWu7B,GACT,OAAOn8B,MAAK,GAAMm8B,KAAW,CAC3BlK,WAAY,IAAIxS,EAA6C+K,kBAC7D1pB,KAAM,KAEV,CACA,GAAAwP,CAAI6rB,EAAO7J,EAAW,MACpB,GAAIA,EAAU,CACZ,MAAM/R,EAAMvgB,MAAK,GAAWm8B,GAE5B,OADA5b,EAAI0R,WAAWtJ,QAAQzF,MAAK,IAAMoP,EAAS/R,EAAIzf,QACxC,IACT,CACA,MAAMyf,EAAMvgB,MAAK,GAAMm8B,GACvB,IAAK5b,GAAK0R,WAAWmK,QACnB,MAAM,IAAI/X,MAAM,6CAA6C8X,MAE/D,OAAO5b,EAAIzf,IACb,CACA,GAAAqM,CAAIgvB,GACF,MAAM5b,EAAMvgB,MAAK,GAAMm8B,GACvB,OAAO5b,GAAK0R,WAAWmK,UAAW,CACpC,CACA,OAAAhT,CAAQ+S,EAAOr7B,EAAO,MACpB,MAAMyf,EAAMvgB,MAAK,GAAWm8B,GAC5B5b,EAAIzf,KAAOA,EACXyf,EAAI0R,WAAW7I,SACjB,CACA,KAAA5P,GACE,IAAK,MAAM2iB,KAASn8B,MAAK,GAAO,CAC9B,MAAM,KACJc,GACEd,MAAK,GAAMm8B,GACfr7B,GAAMugB,QAAQiY,OAChB,CACAt5B,MAAK,GAAQuK,OAAO3J,OAAO,KAC7B,EAEF,MAAMy7B,EACJ,IAAsB,KACtB,WAAAz4B,CAAYouB,GACVhyB,MAAK,GAAsBgyB,EAC3BhyB,KAAKs8B,WAAa,IACpB,CACA,WAAI3T,GACF,OAAO3oB,MAAK,GAAoBiyB,WAAWtJ,OAC7C,CACA,MAAAyL,CAAOW,EAAa,GAClB/0B,MAAK,GAAoBo0B,OAAO,KAAMW,EACxC,CACA,kBAAIpD,GACF,MAAM,eACJA,GACE3xB,MAAK,GAAoBuxB,aAC7B,IAAKI,EACH,OAAO,EAET,MAAM,oBACJzT,GACEle,MAAK,GACT,OAAO2xB,EAAe4K,MAAQ5K,EAAezS,QAAUhB,GAAqBjG,KAAO,CACrF,EAEF,MAAMoa,EACJ9H,UAAsB,IAAIjqB,QAC1B,WAAAsD,EAAY,SACV0uB,EAAQ,OACRhU,EAAM,KACN6Q,EAAI,WACJD,EAAU,oBACVhR,EAAmB,aACnBqT,EAAY,UACZ5C,EAAS,cACTnH,EAAa,cACbC,EAAa,yBACb8K,GAA2B,EAAK,OAChCrL,GAAS,EAAK,WACd2J,EAAa,OAEb7wB,KAAKsyB,SAAWA,EAChBtyB,KAAKse,OAASA,EACdte,KAAKmvB,KAAOA,EACZnvB,KAAKkvB,WAAaA,EAClBlvB,KAAKke,oBAAsBA,EAC3Ble,KAAKw8B,gBAAkB,KACvBx8B,KAAKuxB,aAAeA,EACpBvxB,KAAK6uB,WAAaF,EAClB3uB,KAAKwnB,cAAgBA,EACrBxnB,KAAKynB,cAAgBA,EACrBznB,KAAKivB,QAAU/H,EACflnB,KAAK6wB,WAAaA,EAClB7wB,KAAKy8B,SAAU,EACfz8B,KAAK08B,sBAAwB,KAC7B18B,KAAK28B,eAAgB,EACrB38B,KAAK48B,2BAAyD,IAA7BrK,GAAuD,oBAAX7N,OAC7E1kB,KAAK68B,WAAY,EACjB78B,KAAKiyB,WAAa,IAAIxS,EAA6C+K,kBACnExqB,KAAKukB,KAAO,IAAI8X,EAAWr8B,MAC3BA,KAAK88B,aAAe98B,KAAKo0B,OAAO9Z,KAAKta,MACrCA,KAAK+8B,eAAiB/8B,KAAKg9B,UAAU1iB,KAAKta,MAC1CA,KAAKi9B,mBAAqBj9B,KAAKk9B,cAAc5iB,KAAKta,MAClDA,KAAKm9B,WAAan9B,KAAKo9B,MAAM9iB,KAAKta,MAClCA,KAAKq9B,QAAU/e,EAAOgS,cAAcpR,MACtC,CACA,aAAIiV,GACF,OAAOn0B,KAAKiyB,WAAWtJ,QAAQyB,OAAM,WAAa,GACpD,CACA,kBAAAuI,EAAmB,aACjBF,GAAe,EAAK,sBACpBC,IAEA,GAAI1yB,KAAK68B,UACP,OAEF,GAAI78B,KAAKq9B,QAAS,CAChB,GAAIhL,GAAmB,GAAallB,IAAInN,KAAKq9B,SAC3C,MAAM,IAAIhZ,MAAM,mJAElBgO,GAAmB,GAAapsB,IAAIjG,KAAKq9B,QAC3C,CACIr9B,KAAKivB,SAAWnI,WAAWwW,gBAAgBlC,UAC7Cp7B,KAAKu9B,QAAUzW,WAAWwW,eAAe18B,OAAOZ,KAAK6uB,YACrD7uB,KAAKu9B,QAAQC,KAAKx9B,KAAKuxB,cACvBvxB,KAAKu9B,QAAQE,eAAiBz9B,KAAKu9B,QAAQG,qBAE7C,MAAM,cACJpN,EAAa,SACbhrB,EAAQ,UACRorB,EAAS,WACTC,GACE3wB,KAAKse,OACTte,KAAK29B,IAAM,IAAIpb,EAAwCqb,eAAetN,EAAetwB,KAAKkvB,WAAYlvB,KAAKmvB,KAAMnvB,KAAKwnB,cAAexnB,KAAKynB,cAAe,CACvJiL,yBACC1yB,KAAKke,oBAAqBle,KAAK6wB,YAClC7wB,KAAK29B,IAAIE,aAAa,CACpBnN,YACAprB,WACAmtB,eACA9B,eAEF3wB,KAAKw8B,gBAAkB,EACvBx8B,KAAK28B,eAAgB,EACrB38B,KAAK08B,yBACP,CACA,MAAAtI,CAAOtC,EAAQ,KAAMiD,EAAa,GAChC/0B,KAAKy8B,SAAU,EACfz8B,KAAK68B,WAAY,EACjB78B,KAAK29B,KAAKG,aACVzL,GAAmB,GAAajS,OAAOpgB,KAAKq9B,SAC5Cr9B,KAAKsyB,SAASR,GAAS,IAAI1P,EAA+CyS,4BAA4B,6BAA6B70B,KAAK6uB,WAAa,IAAKkG,GAC5J,CACA,mBAAAnC,GACO5yB,KAAK28B,eAIV38B,KAAKu9B,SAASQ,mBAAmB/9B,KAAKuxB,cAClCvxB,KAAKy8B,SAGTz8B,KAAKg9B,aAPHh9B,KAAK08B,wBAA0B18B,KAAK+8B,cAQxC,CACA,SAAAC,GACEh9B,KAAKy8B,SAAU,EACXz8B,KAAK68B,YAGL78B,KAAKukB,KAAK+X,WACZt8B,KAAKukB,KAAK+X,WAAWt8B,KAAKi9B,oBAE1Bj9B,KAAKk9B,gBAET,CACA,aAAAA,GACMl9B,KAAK48B,0BACPlY,OAAOsZ,uBAAsB,KAC3Bh+B,KAAKm9B,aAAa/S,MAAMpqB,KAAK88B,aAAa,IAG5C3T,QAAQC,UAAUlG,KAAKljB,KAAKm9B,YAAY/S,MAAMpqB,KAAK88B,aAEvD,CACA,WAAMM,GACAp9B,KAAK68B,YAGT78B,KAAKw8B,gBAAkBx8B,KAAK29B,IAAIM,oBAAoBj+B,KAAKuxB,aAAcvxB,KAAKw8B,gBAAiBx8B,KAAK+8B,eAAgB/8B,KAAKu9B,SACnHv9B,KAAKw8B,kBAAoBx8B,KAAKuxB,aAAaE,UAAUpmB,SACvDrL,KAAKy8B,SAAU,EACXz8B,KAAKuxB,aAAaG,YACpB1xB,KAAK29B,IAAIG,aACTzL,GAAmB,GAAajS,OAAOpgB,KAAKq9B,SAC5Cr9B,KAAKsyB,aAGX,EAEF,MAAMpQ,EAAU,UACVF,EAAQ,YAEdH,GACA,CAAE,MAAMlH,GAAKkH,EAAyBlH,EAAI,IAEnC,EAED,IACA,CAAEzd,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzC+gC,sBAAuB,IAAM,EAC7BC,kBAAmB,IAAM,EACzBC,kBAAmB,IAAM,EACzBC,eAAgB,IAAM,EACtBC,4BAA6B,IAAM,IAErC,IAAI7e,EAA+C,EAAoB,KAE5F,MAAM2e,EACJ,WAAAx6B,GACM5D,KAAK4D,cAAgBw6B,IACvB,EAAG3e,EAA6C/S,aAAa,uCAEjE,CACA,SAAA6xB,CAAUC,GACR,MAAO,MACT,CACA,YAAAC,CAAa10B,EAASF,GACpB,MAAO,MACT,CACA,qBAAA60B,CAAsB30B,EAASF,EAAS80B,EAAYC,GAClD,MAAO,MACT,CACA,OAAAjU,CAAQkU,GAAU,GAAQ,EAE5B,MAAMV,EACJ,WAAAv6B,GACM5D,KAAK4D,cAAgBu6B,IACvB,EAAG1e,EAA6C/S,aAAa,uCAEjE,CACA,MAAA9L,CAAOH,EAAOC,GACZ,GAAID,GAAS,GAAKC,GAAU,EAC1B,MAAM,IAAI2jB,MAAM,uBAElB,MAAMnF,EAASlf,KAAK8+B,cAAcr+B,EAAOC,GACzC,MAAO,CACLwe,SACA+B,QAAS/B,EAAO6f,WAAW,MAE/B,CACA,KAAAC,CAAMC,EAAkBx+B,EAAOC,GAC7B,IAAKu+B,EAAiB/f,OACpB,MAAM,IAAImF,MAAM,2BAElB,GAAI5jB,GAAS,GAAKC,GAAU,EAC1B,MAAM,IAAI2jB,MAAM,uBAElB4a,EAAiB/f,OAAOze,MAAQA,EAChCw+B,EAAiB/f,OAAOxe,OAASA,CACnC,CACA,OAAAiqB,CAAQsU,GACN,IAAKA,EAAiB/f,OACpB,MAAM,IAAImF,MAAM,2BAElB4a,EAAiB/f,OAAOze,MAAQ,EAChCw+B,EAAiB/f,OAAOxe,OAAS,EACjCu+B,EAAiB/f,OAAS,KAC1B+f,EAAiBhe,QAAU,IAC7B,CACA,aAAA6d,CAAcr+B,EAAOC,IACnB,EAAG+e,EAA6C/S,aAAa,0CAC/D,EAEF,MAAMwxB,EACJ,WAAAt6B,EAAY,QACVikB,EAAU,KAAI,aACdC,GAAe,IAEX9nB,KAAK4D,cAAgBs6B,IACvB,EAAGze,EAA6C/S,aAAa,4CAE/D1M,KAAK6nB,QAAUA,EACf7nB,KAAK8nB,aAAeA,CACtB,CACA,WAAM8T,EAAM,KACVtxB,IAEA,IAAKtK,KAAK6nB,QACR,MAAM,IAAIxD,MAAM,2HAElB,IAAK/Z,EACH,MAAM,IAAI+Z,MAAM,gCAElB,MAAMxV,EAAM7O,KAAK6nB,QAAUvd,GAAQtK,KAAK8nB,aAAe,SAAW,IAC5DoX,EAAkBl/B,KAAK8nB,aAAerI,EAA6C0f,oBAAoBC,OAAS3f,EAA6C0f,oBAAoBE,KACvL,OAAOr/B,KAAKs/B,WAAWzwB,EAAKqwB,GAAiB9U,OAAM+H,IACjD,MAAM,IAAI9N,MAAM,kBAAkBrkB,KAAK8nB,aAAe,UAAY,cAAcjZ,IAAM,GAE1F,CACA,UAAAywB,CAAWzwB,EAAKqwB,IACd,EAAGzf,EAA6C/S,aAAa,uCAC/D,EAEF,MAAM4xB,EACJ,WAAA16B,EAAY,QACVikB,EAAU,OAEN7nB,KAAK4D,cAAgB06B,IACvB,EAAG7e,EAA6C/S,aAAa,kDAE/D1M,KAAK6nB,QAAUA,CACjB,CACA,WAAM+T,EAAM,SACVzrB,IAEA,IAAKnQ,KAAK6nB,QACR,MAAM,IAAIxD,MAAM,6HAElB,IAAKlU,EACH,MAAM,IAAIkU,MAAM,oCAElB,MAAMxV,EAAM,GAAG7O,KAAK6nB,UAAU1X,IAC9B,OAAOnQ,KAAKs/B,WAAWzwB,GAAKub,OAAM+H,IAChC,MAAM,IAAI9N,MAAM,gCAAgCxV,IAAM,GAE1D,CACA,UAAAywB,CAAWzwB,IACT,EAAG4Q,EAA6C/S,aAAa,uCAC/D,EAEF,MAAM2xB,EACJ,WAAAz6B,GACM5D,KAAK4D,cAAgBy6B,IACvB,EAAG5e,EAA6C/S,aAAa,oCAEjE,CACA,MAAA9L,CAAOH,EAAOC,EAAQ6+B,GAAiB,GACrC,GAAI9+B,GAAS,GAAKC,GAAU,EAC1B,MAAM,IAAI2jB,MAAM,0BAElB,MAAM1Y,EAAM3L,KAAKw/B,WAAW,WAQ5B,OAPA7zB,EAAIlG,aAAa,UAAW,OACvB85B,IACH5zB,EAAIlG,aAAa,QAAS,GAAGhF,OAC7BkL,EAAIlG,aAAa,SAAU,GAAG/E,QAEhCiL,EAAIlG,aAAa,sBAAuB,QACxCkG,EAAIlG,aAAa,UAAW,OAAOhF,KAASC,KACrCiL,CACT,CACA,aAAAnG,CAAc4L,GACZ,GAAoB,iBAATA,EACT,MAAM,IAAIiT,MAAM,4BAElB,OAAOrkB,KAAKw/B,WAAWpuB,EACzB,CACA,UAAAouB,CAAWpuB,IACT,EAAGqO,EAA6C/S,aAAa,uCAC/D,EAIK,EAED,IACA,CAAExP,EAAqC,EAAqB,KAIlE,EAAoBC,EAAE,EAAqB,CACzCygC,eAAgB,IAAM,IAIxB,IAAIpgC,EAAO,EAAoB,KAE3BC,EAAgB,EAAoB,KAIxC,MAAMgiC,EACE,OADFA,EAEI,SAFJA,EAGK,UAEX,SAASC,EAAiBC,EAAKC,GAC7B,IAAKA,EACH,OAEF,MAAMn/B,EAAQm/B,EAAK,GAAKA,EAAK,GACvBl/B,EAASk/B,EAAK,GAAKA,EAAK,GACxBC,EAAS,IAAIC,OACnBD,EAAOr/B,KAAKo/B,EAAK,GAAIA,EAAK,GAAIn/B,EAAOC,GACrCi/B,EAAII,KAAKF,EACX,CACA,MAAMG,EACJ,WAAAp8B,GACM5D,KAAK4D,cAAgBo8B,IACvB,EAAGxiC,EAAKkP,aAAa,wCAEzB,CACA,UAAAuzB,IACE,EAAGziC,EAAKkP,aAAa,uCACvB,EAEF,MAAMwzB,UAAkCF,EACtC,WAAAp8B,CAAYu8B,GACV1xB,QACAzO,KAAK2gB,MAAQwf,EAAG,GAChBngC,KAAKogC,MAAQD,EAAG,GAChBngC,KAAKqgC,YAAcF,EAAG,GACtBngC,KAAKsgC,IAAMH,EAAG,GACdngC,KAAKugC,IAAMJ,EAAG,GACdngC,KAAKwgC,IAAML,EAAG,GACdngC,KAAKygC,IAAMN,EAAG,GACdngC,KAAK0gC,OAAS,IAChB,CACA,eAAAC,CAAgBhB,GACd,IAAIiB,EACe,UAAf5gC,KAAK2gB,MACPigB,EAAOjB,EAAIkB,qBAAqB7gC,KAAKsgC,IAAI,GAAItgC,KAAKsgC,IAAI,GAAItgC,KAAKugC,IAAI,GAAIvgC,KAAKugC,IAAI,IACxD,WAAfvgC,KAAK2gB,QACdigB,EAAOjB,EAAImB,qBAAqB9gC,KAAKsgC,IAAI,GAAItgC,KAAKsgC,IAAI,GAAItgC,KAAKwgC,IAAKxgC,KAAKugC,IAAI,GAAIvgC,KAAKugC,IAAI,GAAIvgC,KAAKygC,MAErG,IAAK,MAAMM,KAAa/gC,KAAKqgC,YAC3BO,EAAKI,aAAaD,EAAU,GAAIA,EAAU,IAE5C,OAAOH,CACT,CACA,UAAAX,CAAWN,EAAKsB,EAAOC,EAASC,GAC9B,IAAIC,EACJ,GAAID,IAAa1B,GAAmB0B,IAAa1B,EAAe,CAC9D,MAAM4B,EAAYJ,EAAMK,QAAQC,0BAA0BJ,GAAU,EAAG1jC,EAAc+jC,qBAAqB7B,KAAS,CAAC,EAAG,EAAG,EAAG,GACvHl/B,EAAQ5C,KAAK4jC,KAAKJ,EAAU,GAAKA,EAAU,KAAO,EAClD3gC,EAAS7C,KAAK4jC,KAAKJ,EAAU,GAAKA,EAAU,KAAO,EACnDK,EAAYT,EAAMU,eAAeC,UAAU,UAAWnhC,EAAOC,GAAQ,GACrEmhC,EAASH,EAAUzgB,QACzB4gB,EAAOC,UAAU,EAAG,EAAGD,EAAO3iB,OAAOze,MAAOohC,EAAO3iB,OAAOxe,QAC1DmhC,EAAOE,YACPF,EAAOrhC,KAAK,EAAG,EAAGqhC,EAAO3iB,OAAOze,MAAOohC,EAAO3iB,OAAOxe,QACrDmhC,EAAOG,WAAWX,EAAU,IAAKA,EAAU,IAC3CH,EAAU1jC,EAAKkJ,KAAKgqB,UAAUwQ,EAAS,CAAC,EAAG,EAAG,EAAG,EAAGG,EAAU,GAAIA,EAAU,KAC5EQ,EAAOnR,aAAauQ,EAAMgB,eACtBjiC,KAAK0gC,QACPmB,EAAOnR,aAAa1wB,KAAK0gC,QAE3BhB,EAAiBmC,EAAQ7hC,KAAKogC,OAC9ByB,EAAOK,UAAYliC,KAAK2gC,gBAAgBkB,GACxCA,EAAOM,OACPf,EAAUzB,EAAIyC,cAAcV,EAAUxiB,OAAQ,aAC9C,MAAMmjB,EAAY,IAAIC,UAAUpB,GAChCE,EAAQmB,aAAaF,EACvB,MACE3C,EAAiBC,EAAK3/B,KAAKogC,OAC3BgB,EAAUphC,KAAK2gC,gBAAgBhB,GAEjC,OAAOyB,CACT,EAEF,SAASoB,EAAa1hC,EAAMmgB,EAASwhB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GACvD,MAAMC,EAAS9hB,EAAQ8hB,OACrBC,EAAS/hB,EAAQ+hB,OACbC,EAAQniC,EAAKA,KACjBoiC,EAAuB,EAAbpiC,EAAKL,MACjB,IAAI0iC,EACAJ,EAAON,EAAK,GAAKM,EAAOL,EAAK,KAC/BS,EAAMV,EACNA,EAAKC,EACLA,EAAKS,EACLA,EAAMP,EACNA,EAAKC,EACLA,EAAKM,GAEHJ,EAAOL,EAAK,GAAKK,EAAOJ,EAAK,KAC/BQ,EAAMT,EACNA,EAAKC,EACLA,EAAKQ,EACLA,EAAMN,EACNA,EAAKC,EACLA,EAAKK,GAEHJ,EAAON,EAAK,GAAKM,EAAOL,EAAK,KAC/BS,EAAMV,EACNA,EAAKC,EACLA,EAAKS,EACLA,EAAMP,EACNA,EAAKC,EACLA,EAAKM,GAEP,MAAMC,GAAML,EAAON,GAAMxhB,EAAQ0O,SAAW1O,EAAQoiB,OAC9CC,GAAMP,EAAON,EAAK,GAAKxhB,EAAQ2O,SAAW3O,EAAQsiB,OAClDC,GAAMT,EAAOL,GAAMzhB,EAAQ0O,SAAW1O,EAAQoiB,OAC9CI,GAAMV,EAAOL,EAAK,GAAKzhB,EAAQ2O,SAAW3O,EAAQsiB,OAClDG,GAAMX,EAAOJ,GAAM1hB,EAAQ0O,SAAW1O,EAAQoiB,OAC9CM,GAAMZ,EAAOJ,EAAK,GAAK1hB,EAAQ2O,SAAW3O,EAAQsiB,OACxD,GAAID,GAAMK,EACR,OAEF,MAAMC,EAAMZ,EAAOJ,GACjBiB,EAAMb,EAAOJ,EAAK,GAClBkB,EAAMd,EAAOJ,EAAK,GACdmB,EAAMf,EAAOH,GACjBmB,EAAMhB,EAAOH,EAAK,GAClBoB,EAAMjB,EAAOH,EAAK,GACdqB,EAAMlB,EAAOF,GACjBqB,EAAMnB,EAAOF,EAAK,GAClBsB,EAAMpB,EAAOF,EAAK,GACduB,EAAOxmC,KAAKqW,MAAMovB,GACtBgB,EAAOzmC,KAAKqW,MAAMyvB,GACpB,IAAIY,EAAIC,EAAKC,EAAKC,EACdC,EAAIC,EAAKC,EAAKC,EAClB,IAAK,IAAItmC,EAAI6lC,EAAM7lC,GAAK8lC,EAAM9lC,IAAK,CACjC,GAAIA,EAAIilC,EAAI,CACV,MAAM/kC,EAAIF,EAAI8kC,EAAK,GAAKA,EAAK9kC,IAAM8kC,EAAKG,GACxCc,EAAKnB,GAAMA,EAAKI,GAAM9kC,EACtB8lC,EAAMZ,GAAOA,EAAMG,GAAOrlC,EAC1B+lC,EAAMZ,GAAOA,EAAMG,GAAOtlC,EAC1BgmC,EAAMZ,GAAOA,EAAMG,GAAOvlC,CAC5B,KAAO,CACL,IAAIA,EAEFA,EADEF,EAAImlC,EACF,EACKF,IAAOE,EACZ,GAECF,EAAKjlC,IAAMilC,EAAKE,GAEvBY,EAAKf,GAAMA,EAAKE,GAAMhlC,EACtB8lC,EAAMT,GAAOA,EAAMG,GAAOxlC,EAC1B+lC,EAAMT,GAAOA,EAAMG,GAAOzlC,EAC1BgmC,EAAMT,GAAOA,EAAMG,GAAO1lC,CAC5B,CACA,IAAIA,EAEFA,EADEF,EAAI8kC,EACF,EACK9kC,EAAImlC,EACT,GAECL,EAAK9kC,IAAM8kC,EAAKK,GAEvBgB,EAAKvB,GAAMA,EAAKM,GAAMhlC,EACtBkmC,EAAMhB,GAAOA,EAAMM,GAAOxlC,EAC1BmmC,EAAMhB,GAAOA,EAAMM,GAAOzlC,EAC1BomC,EAAMhB,GAAOA,EAAMM,GAAO1lC,EAC1B,MAAMqmC,EAAMlnC,KAAKqW,MAAMrW,KAAKG,IAAIumC,EAAII,IAC9BK,EAAMnnC,KAAKqW,MAAMrW,KAAKE,IAAIwmC,EAAII,IACpC,IAAIM,EAAI/B,EAAU1kC,EAAU,EAANumC,EACtB,IAAK,IAAI3mC,EAAI2mC,EAAK3mC,GAAK4mC,EAAK5mC,IAC1BM,GAAK6lC,EAAKnmC,IAAMmmC,EAAKI,GACjBjmC,EAAI,EACNA,EAAI,EACKA,EAAI,IACbA,EAAI,GAENukC,EAAMgC,KAAOT,GAAOA,EAAMI,GAAOlmC,EAAI,EACrCukC,EAAMgC,KAAOR,GAAOA,EAAMI,GAAOnmC,EAAI,EACrCukC,EAAMgC,KAAOP,GAAOA,EAAMI,GAAOpmC,EAAI,EACrCukC,EAAMgC,KAAO,GAEjB,CACF,CACA,SAASC,EAAWpkC,EAAMqkC,EAAQlkB,GAChC,MAAMmkB,EAAKD,EAAOpC,OACZsC,EAAKF,EAAOnC,OAClB,IAAIzmB,EAAGC,EACP,OAAQ2oB,EAAO/zB,MACb,IAAK,UACH,MAAMk0B,EAAiBH,EAAOG,eACxBC,EAAO1nC,KAAKC,MAAMsnC,EAAG/5B,OAASi6B,GAAkB,EAChDE,EAAOF,EAAiB,EAC9B,IAAK/oB,EAAI,EAAGA,EAAIgpB,EAAMhpB,IAAK,CACzB,IAAIkpB,EAAIlpB,EAAI+oB,EACZ,IAAK,IAAIL,EAAI,EAAGA,EAAIO,EAAMP,IAAKQ,IAC7BjD,EAAa1hC,EAAMmgB,EAASmkB,EAAGK,GAAIL,EAAGK,EAAI,GAAIL,EAAGK,EAAIH,GAAiBD,EAAGI,GAAIJ,EAAGI,EAAI,GAAIJ,EAAGI,EAAIH,IAC/F9C,EAAa1hC,EAAMmgB,EAASmkB,EAAGK,EAAIH,EAAiB,GAAIF,EAAGK,EAAI,GAAIL,EAAGK,EAAIH,GAAiBD,EAAGI,EAAIH,EAAiB,GAAID,EAAGI,EAAI,GAAIJ,EAAGI,EAAIH,GAE7I,CACA,MACF,IAAK,YACH,IAAK/oB,EAAI,EAAGC,EAAK4oB,EAAG/5B,OAAQkR,EAAIC,EAAID,GAAK,EACvCimB,EAAa1hC,EAAMmgB,EAASmkB,EAAG7oB,GAAI6oB,EAAG7oB,EAAI,GAAI6oB,EAAG7oB,EAAI,GAAI8oB,EAAG9oB,GAAI8oB,EAAG9oB,EAAI,GAAI8oB,EAAG9oB,EAAI,IAEpF,MACF,QACE,MAAM,IAAI8H,MAAM,kBAEtB,CACA,MAAMqhB,UAA2B1F,EAC/B,WAAAp8B,CAAYu8B,GACV1xB,QACAzO,KAAK2lC,QAAUxF,EAAG,GAClBngC,KAAK4lC,QAAUzF,EAAG,GAClBngC,KAAK6lC,SAAW1F,EAAG,GACnBngC,KAAK8lC,QAAU3F,EAAG,GAClBngC,KAAKogC,MAAQD,EAAG,GAChBngC,KAAK+lC,YAAc5F,EAAG,GACtBngC,KAAK0gC,OAAS,IAChB,CACA,iBAAAsF,CAAkBC,EAAevyB,EAAiBiuB,GAChD,MAGMhS,EAAU9xB,KAAKC,MAAMkC,KAAK8lC,QAAQ,IAClClW,EAAU/xB,KAAKC,MAAMkC,KAAK8lC,QAAQ,IAClCI,EAAcroC,KAAK4jC,KAAKzhC,KAAK8lC,QAAQ,IAAMnW,EAC3CwW,EAAetoC,KAAK4jC,KAAKzhC,KAAK8lC,QAAQ,IAAMlW,EAC5CnvB,EAAQ5C,KAAKG,IAAIH,KAAK4jC,KAAK5jC,KAAKuW,IAAI8xB,EAAcD,EAAc,GAP/C,MACE,KAOnBvlC,EAAS7C,KAAKG,IAAIH,KAAK4jC,KAAK5jC,KAAKuW,IAAI+xB,EAAeF,EAAc,GARjD,MACE,KAQnB5C,EAAS6C,EAAczlC,EACvB8iC,EAAS4C,EAAezlC,EACxBugB,EAAU,CACd8hB,OAAQ/iC,KAAK2lC,QACb3C,OAAQhjC,KAAK4lC,QACbjW,SAAUA,EACVC,SAAUA,EACVyT,OAAQ,EAAIA,EACZE,OAAQ,EAAIA,GAER6C,EAAc3lC,EAAQ4lC,EACtBC,EAAe5lC,EAAS2lC,EACxB3E,EAAYC,EAAeC,UAAU,OAAQwE,EAAaE,GAAc,GACxEzE,EAASH,EAAUzgB,QACnBngB,EAAO+gC,EAAO0E,gBAAgB9lC,EAAOC,GAC3C,GAAIgT,EAAiB,CACnB,MAAMuvB,EAAQniC,EAAKA,KACnB,IAAK,IAAIyb,EAAI,EAAGC,EAAKymB,EAAM53B,OAAQkR,EAAIC,EAAID,GAAK,EAC9C0mB,EAAM1mB,GAAK7I,EAAgB,GAC3BuvB,EAAM1mB,EAAI,GAAK7I,EAAgB,GAC/BuvB,EAAM1mB,EAAI,GAAK7I,EAAgB,GAC/BuvB,EAAM1mB,EAAI,GAAK,GAEnB,CACA,IAAK,MAAM4oB,KAAUnlC,KAAK6lC,SACxBX,EAAWpkC,EAAMqkC,EAAQlkB,GAE3B4gB,EAAO2E,aAAa1lC,EAlCA,KAoCpB,MAAO,CACLoe,OAFawiB,EAAUxiB,OAGvByQ,QAASA,EAtCS,EAsCe0T,EACjCzT,QAASA,EAvCS,EAuCe2T,EACjCF,SACAE,SAEJ,CACA,UAAAtD,CAAWN,EAAKsB,EAAOC,EAASC,GAE9B,IAAIzR,EACJ,GAFAgQ,EAAiBC,EAAK3/B,KAAKogC,OAEvBe,IAAa1B,EACf/P,EAAQlyB,EAAKkJ,KAAK+/B,+BAA8B,EAAGhpC,EAAc+jC,qBAAqB7B,SAGtF,GADAjQ,EAAQlyB,EAAKkJ,KAAK+/B,8BAA8BxF,EAAMgB,eAClDjiC,KAAK0gC,OAAQ,CACf,MAAMgG,EAAclpC,EAAKkJ,KAAK+/B,8BAA8BzmC,KAAK0gC,QACjEhR,EAAQ,CAACA,EAAM,GAAKgX,EAAY,GAAIhX,EAAM,GAAKgX,EAAY,GAC7D,CAEF,MAAMC,EAAyB3mC,KAAKgmC,kBAAkBtW,EAAOyR,IAAa1B,EAAmB,KAAOz/B,KAAK+lC,YAAa9E,EAAMU,gBAS5H,OARIR,IAAa1B,IACfE,EAAI4C,gBAAgBtB,EAAMgB,eACtBjiC,KAAK0gC,QACPf,EAAIjP,aAAa1wB,KAAK0gC,SAG1Bf,EAAIqC,UAAU2E,EAAuBhX,QAASgX,EAAuB/W,SACrE+P,EAAIjQ,MAAMiX,EAAuBtD,OAAQsD,EAAuBpD,QACzD5D,EAAIyC,cAAcuE,EAAuBznB,OAAQ,YAC1D,EAEF,MAAM0nB,UAA4B5G,EAChC,UAAAC,GACE,MAAO,SACT,EAaF,MAAM4G,EACK,EADLA,EAEO,EAEb,MAAMC,EACJvc,wBAA0B,IAC1B,WAAA3mB,CAAYu8B,EAAI9gC,EAAOsgC,EAAKoH,EAAuB9E,GACjDjiC,KAAKuxB,aAAe4O,EAAG,GACvBngC,KAAK0gC,OAASP,EAAG,IAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACvCngC,KAAK4/B,KAAOO,EAAG,GACfngC,KAAKgnC,MAAQ7G,EAAG,GAChBngC,KAAKinC,MAAQ9G,EAAG,GAChBngC,KAAKknC,UAAY/G,EAAG,GACpBngC,KAAKmnC,WAAahH,EAAG,GACrBngC,KAAKX,MAAQA,EACbW,KAAK2/B,IAAMA,EACX3/B,KAAK+mC,sBAAwBA,EAC7B/mC,KAAKiiC,cAAgBA,CACvB,CACA,mBAAAmF,CAAoBnG,GAClB,MAAM1P,EAAevxB,KAAKuxB,aACpBqO,EAAO5/B,KAAK4/B,KACZoH,EAAQhnC,KAAKgnC,MACbC,EAAQjnC,KAAKinC,MACbC,EAAYlnC,KAAKknC,UACjBC,EAAannC,KAAKmnC,WAClB9nC,EAAQW,KAAKX,MACb0nC,EAAwB/mC,KAAK+mC,uBACnC,EAAGvpC,EAAK05B,MAAM,eAAiBiQ,GAC/B,MAAME,EAAKzH,EAAK,GACd0H,EAAK1H,EAAK,GACVwD,EAAKxD,EAAK,GACV0D,EAAK1D,EAAK,GACN8G,EAAclpC,EAAKkJ,KAAK+/B,8BAA8BzmC,KAAK0gC,QAC3D6G,EAAiB/pC,EAAKkJ,KAAK+/B,8BAA8BzmC,KAAKiiC,eAC9DgE,EAAgB,CAACS,EAAY,GAAKa,EAAe,GAAIb,EAAY,GAAKa,EAAe,IACrFC,EAAOxnC,KAAKynC,gBAAgBT,EAAOhnC,KAAK2/B,IAAIzgB,OAAOze,MAAOwlC,EAAc,IACxEyB,EAAO1nC,KAAKynC,gBAAgBR,EAAOjnC,KAAK2/B,IAAIzgB,OAAOxe,OAAQulC,EAAc,IACzEvE,EAAYT,EAAMU,eAAeC,UAAU,UAAW4F,EAAKvvB,KAAMyvB,EAAKzvB,MAAM,GAC5E4pB,EAASH,EAAUzgB,QACnB0mB,EAAWZ,EAAsBa,qBAAqB/F,GAC5D8F,EAASE,WAAa5G,EAAM4G,WAC5B7nC,KAAK8nC,+BAA+BH,EAAUT,EAAW7nC,GACzD,IAAI0oC,EAAaV,EACbW,EAAaV,EACbW,EAAa7E,EACb8E,EAAa5E,EAgBjB,OAfI+D,EAAK,IACPU,EAAa,EACbE,GAAcpqC,KAAKuW,IAAIizB,IAErBC,EAAK,IACPU,EAAa,EACbE,GAAcrqC,KAAKuW,IAAIkzB,IAEzBzF,EAAOG,WAAYwF,EAAK9X,MAAQqY,GAAeL,EAAKhY,MAAQsY,GAC5DL,EAASjX,UAAU8W,EAAK9X,MAAO,EAAG,EAAGgY,EAAKhY,MAAO,EAAG,GACpDmS,EAAOsG,OACPnoC,KAAKooC,SAAST,EAAUI,EAAYC,EAAYC,EAAYC,GAC5DP,EAAS1F,eAAgB,EAAGxkC,EAAc+jC,qBAAqBmG,EAAShI,KACxEgI,EAAS1J,oBAAoB1M,GAC7BoW,EAAS7J,aACF,CACL5e,OAAQwiB,EAAUxiB,OAClBmkB,OAAQmE,EAAK9X,MACb6T,OAAQmE,EAAKhY,MACbC,QAASoY,EACTnY,QAASoY,EAEb,CACA,eAAAP,CAAgBY,EAAMC,EAAgB5Y,GACpC2Y,EAAOxqC,KAAKuW,IAAIi0B,GAChB,MAAME,EAAU1qC,KAAKE,IAAI+oC,EAAc0B,iBAAkBF,GACzD,IAAIrwB,EAAOpa,KAAK4jC,KAAK4G,EAAO3Y,GAM5B,OALIzX,GAAQswB,EACVtwB,EAAOswB,EAEP7Y,EAAQzX,EAAOowB,EAEV,CACL3Y,QACAzX,OAEJ,CACA,QAAAmwB,CAAST,EAAUN,EAAIC,EAAIlE,EAAIE,GAC7B,MAAMmF,EAAYrF,EAAKiE,EACjBqB,EAAapF,EAAKgE,EACxBK,EAAShI,IAAIn/B,KAAK6mC,EAAIC,EAAImB,EAAWC,GACrCf,EAASrG,QAAQqH,kBAAiB,EAAGlrC,EAAc+jC,qBAAqBmG,EAAShI,KAAM,CAAC0H,EAAIC,EAAIlE,EAAIE,IACpGqE,EAAS5H,OACT4H,EAASiB,SACX,CACA,8BAAAd,CAA+BH,EAAUT,EAAW7nC,GAClD,MAAM4hB,EAAU0mB,EAAShI,IACvB2B,EAAUqG,EAASrG,QACrB,OAAQ4F,GACN,KAAKL,EACH,MAAMlH,EAAM3/B,KAAK2/B,IACjB1e,EAAQihB,UAAYvC,EAAIuC,UACxBjhB,EAAQ4nB,YAAclJ,EAAIkJ,YAC1BvH,EAAQx3B,UAAY61B,EAAIuC,UACxBZ,EAAQr3B,YAAc01B,EAAIkJ,YAC1B,MACF,KAAKhC,EACH,MAAMiC,EAAWtrC,EAAKkJ,KAAKmB,aAAaxI,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAClE4hB,EAAQihB,UAAY4G,EACpB7nB,EAAQ4nB,YAAcC,EACtBxH,EAAQx3B,UAAYg/B,EACpBxH,EAAQr3B,YAAc6+B,EACtB,MACF,QACE,MAAM,IAAItrC,EAAKurC,YAAY,2BAA2B7B,KAE5D,CACA,UAAAjH,CAAWN,EAAKsB,EAAOC,EAASC,GAC9B,IAAIT,EAASQ,EACTC,IAAa1B,IACfiB,EAASljC,EAAKkJ,KAAKgqB,UAAUgQ,EAAQO,EAAMgB,eACvCjiC,KAAK0gC,SACPA,EAASljC,EAAKkJ,KAAKgqB,UAAUgQ,EAAQ1gC,KAAK0gC,UAG9C,MAAMiG,EAAyB3mC,KAAKonC,oBAAoBnG,GACxD,IAAIoB,EAAY,IAAIC,UAAU5B,GAC9B2B,EAAYA,EAAUL,UAAU2E,EAAuBhX,QAASgX,EAAuB/W,SACvFyS,EAAYA,EAAU3S,MAAM,EAAIiX,EAAuBtD,OAAQ,EAAIsD,EAAuBpD,QAC1F,MAAMnC,EAAUzB,EAAIyC,cAAcuE,EAAuBznB,OAAQ,UAEjE,OADAkiB,EAAQmB,aAAaF,GACdjB,CACT,EAcF,SAAS4H,GAA2B,IAClCr3B,EAAG,OACHs3B,EAAS,EAAC,KACV75B,EAAI,MACJ3O,EAAK,OACLC,EAAM,cACNwoC,EAAgB,WAAU,cAC1BC,GAAgB,IAEhB,MAAMC,EAAQ5rC,EAAK4U,YAAYi3B,eAAiB,WAAa,KACtDC,EAAaC,GAAcJ,EAAgB,CAACD,EAAeE,GAAS,CAACA,EAAOF,GAC7EM,EAAgB/oC,GAAS,EACzBgpC,EAAyB,EAARhpC,EACjBipC,EAAY/3B,EAAItG,OACtB+D,EAAO,IAAIu6B,YAAYv6B,EAAK4V,QAC5B,IAAI4kB,EAAU,EACd,IAAK,IAAIrtB,EAAI,EAAGA,EAAI7b,EAAQ6b,IAAK,CAC/B,IAAK,MAAMxe,EAAMkrC,EAASO,EAAeP,EAASlrC,EAAKkrC,IAAU,CAC/D,MAAMY,EAAOZ,EAASS,EAAY/3B,EAAIs3B,GAAU,IAChD75B,EAAKw6B,KAAoB,IAAPC,EAAoBN,EAAaD,EACnDl6B,EAAKw6B,KAAoB,GAAPC,EAAmBN,EAAaD,EAClDl6B,EAAKw6B,KAAoB,GAAPC,EAAkBN,EAAaD,EACjDl6B,EAAKw6B,KAAoB,GAAPC,EAAiBN,EAAaD,EAChDl6B,EAAKw6B,KAAoB,EAAPC,EAAgBN,EAAaD,EAC/Cl6B,EAAKw6B,KAAoB,EAAPC,EAAeN,EAAaD,EAC9Cl6B,EAAKw6B,KAAoB,EAAPC,EAAcN,EAAaD,EAC7Cl6B,EAAKw6B,KAAoB,EAAPC,EAAaN,EAAaD,CAC9C,CACA,GAAuB,IAAnBG,EACF,SAEF,MAAMI,EAAOZ,EAASS,EAAY/3B,EAAIs3B,KAAY,IAClD,IAAK,IAAIhE,EAAI,EAAGA,EAAIwE,EAAgBxE,IAClC71B,EAAKw6B,KAAaC,EAAO,GAAK,EAAI5E,EAAIsE,EAAaD,CAEvD,CACA,MAAO,CACLL,SACAW,UAEJ,CA6DA,MAEME,EAAiB,KAIjBC,EAAoB,GAmG1B,MAAMC,EACJ,WAAApmC,CAAY4jB,GACVxnB,KAAKwnB,cAAgBA,EACrBxnB,KAAKiqC,MAAQ1/B,OAAO3J,OAAO,KAC7B,CACA,SAAAghC,CAAUl8B,EAAIjF,EAAOC,GACnB,IAAIwpC,EAQJ,YAPuBnqB,IAAnB/f,KAAKiqC,MAAMvkC,IACbwkC,EAAclqC,KAAKiqC,MAAMvkC,GACzB1F,KAAKwnB,cAAcwX,MAAMkL,EAAazpC,EAAOC,KAE7CwpC,EAAclqC,KAAKwnB,cAAc5mB,OAAOH,EAAOC,GAC/CV,KAAKiqC,MAAMvkC,GAAMwkC,GAEZA,CACT,CACA,OAAOxkC,UACE1F,KAAKiqC,MAAMvkC,EACpB,CACA,KAAA8T,GACE,IAAK,MAAM9T,KAAM1F,KAAKiqC,MAAO,CAC3B,MAAMC,EAAclqC,KAAKiqC,MAAMvkC,GAC/B1F,KAAKwnB,cAAcmD,QAAQuf,UACpBlqC,KAAKiqC,MAAMvkC,EACpB,CACF,EAEF,SAASykC,EAAyBxK,EAAKyK,EAAQC,EAAMC,EAAMC,EAAMC,EAAMC,EAAOC,EAAOC,EAAOC,GAC1F,MAAOlpB,EAAGviB,EAAGZ,EAAGpB,EAAG0tC,EAAIC,IAAM,EAAGrtC,EAAc+jC,qBAAqB7B,GACnE,GAAU,IAANxgC,GAAiB,IAANZ,EAAS,CACtB,MAAMwsC,EAAMN,EAAQ/oB,EAAImpB,EAClBG,EAAOntC,KAAKqW,MAAM62B,GAClBE,EAAMP,EAAQvtC,EAAI2tC,EAClBI,EAAOrtC,KAAKqW,MAAM+2B,GAClBE,GAAOV,EAAQE,GAASjpB,EAAImpB,EAC5BO,EAASvtC,KAAKuW,IAAIvW,KAAKqW,MAAMi3B,GAAOH,IAAS,EAC7CK,GAAOX,EAAQE,GAASztC,EAAI2tC,EAC5BQ,EAAUztC,KAAKuW,IAAIvW,KAAKqW,MAAMm3B,GAAOH,IAAS,EAIpD,OAHAvL,EAAI4C,aAAa1kC,KAAK0tC,KAAK7pB,GAAI,EAAG,EAAG7jB,KAAK0tC,KAAKpuC,GAAI6tC,EAAME,GACzDvL,EAAI6L,UAAUpB,EAAQC,EAAMC,EAAMC,EAAMC,EAAM,EAAG,EAAGY,EAAQE,GAC5D3L,EAAI4C,aAAa7gB,EAAGviB,EAAGZ,EAAGpB,EAAG0tC,EAAIC,GAC1B,CAACM,EAAQE,EAClB,CACA,GAAU,IAAN5pB,GAAiB,IAANvkB,EAAS,CACtB,MAAM4tC,EAAML,EAAQnsC,EAAIssC,EAClBG,EAAOntC,KAAKqW,MAAM62B,GAClBE,EAAMR,EAAQtrC,EAAI2rC,EAClBI,EAAOrtC,KAAKqW,MAAM+2B,GAClBE,GAAOT,EAAQE,GAASrsC,EAAIssC,EAC5BO,EAASvtC,KAAKuW,IAAIvW,KAAKqW,MAAMi3B,GAAOH,IAAS,EAC7CK,GAAOZ,EAAQE,GAASxrC,EAAI2rC,EAC5BQ,EAAUztC,KAAKuW,IAAIvW,KAAKqW,MAAMm3B,GAAOH,IAAS,EAIpD,OAHAvL,EAAI4C,aAAa,EAAG1kC,KAAK0tC,KAAKpsC,GAAItB,KAAK0tC,KAAKhtC,GAAI,EAAGysC,EAAME,GACzDvL,EAAI6L,UAAUpB,EAAQC,EAAMC,EAAMC,EAAMC,EAAM,EAAG,EAAGc,EAASF,GAC7DzL,EAAI4C,aAAa7gB,EAAGviB,EAAGZ,EAAGpB,EAAG0tC,EAAIC,GAC1B,CAACQ,EAASF,EACnB,CACAzL,EAAI6L,UAAUpB,EAAQC,EAAMC,EAAMC,EAAMC,EAAMC,EAAOC,EAAOC,EAAOC,GAGnE,MAAO,CAFQ/sC,KAAK4tC,MAAM/pB,EAAGviB,GAEZwrC,EADF9sC,KAAK4tC,MAAMltC,EAAGpB,GACIytC,EACnC,CAmIA,MAAMc,EACJ,WAAA9nC,CAAYnD,EAAOC,GACjBV,KAAK2rC,cAAe,EACpB3rC,KAAK+T,SAAW,EAChB/T,KAAK4rC,cAAgB,EACrB5rC,KAAK6rC,WAAaruC,EAAKsuC,gBACvB9rC,KAAK+rC,gBAAkB,EACvB/rC,KAAKgsC,WAAaxuC,EAAKyuC,qBACvBjsC,KAAKksC,QAAU,EACflsC,KAAK5B,EAAI,EACT4B,KAAKxB,EAAI,EACTwB,KAAKmsC,MAAQ,EACbnsC,KAAKosC,MAAQ,EACbpsC,KAAKqsC,YAAc,EACnBrsC,KAAKssC,YAAc,EACnBtsC,KAAKusC,WAAa,EAClBvsC,KAAKwsC,kBAAoBhvC,EAAKivC,kBAAkBC,KAChD1sC,KAAK2sC,SAAW,EAChB3sC,KAAK8J,UAAY,UACjB9J,KAAKiK,YAAc,UACnBjK,KAAK4sC,aAAc,EACnB5sC,KAAK8d,UAAY,EACjB9d,KAAK6sC,YAAc,EACnB7sC,KAAK8sC,UAAY,EACjB9sC,KAAK+sC,YAAc,KACnB/sC,KAAKgtC,aAAe,OACpBhtC,KAAKitC,uBAAuB,CAAC,EAAG,EAAGxsC,EAAOC,GAC5C,CACA,KAAA6gB,GACE,MAAMA,EAAQhX,OAAO3J,OAAOZ,MAE5B,OADAuhB,EAAM2rB,QAAUltC,KAAKktC,QAAQjtC,QACtBshB,CACT,CACA,eAAA4rB,CAAgB/uC,EAAGI,GACjBwB,KAAK5B,EAAIA,EACT4B,KAAKxB,EAAIA,CACX,CACA,gBAAA4uC,CAAiB1c,EAAWtyB,EAAGI,IAC5BJ,EAAGI,GAAKhB,EAAKkJ,KAAK2mC,eAAe,CAACjvC,EAAGI,GAAIkyB,GAC1C1wB,KAAKstC,KAAOzvC,KAAKG,IAAIgC,KAAKstC,KAAMlvC,GAChC4B,KAAKqkC,KAAOxmC,KAAKG,IAAIgC,KAAKqkC,KAAM7lC,GAChCwB,KAAKutC,KAAO1vC,KAAKE,IAAIiC,KAAKutC,KAAMnvC,GAChC4B,KAAKskC,KAAOzmC,KAAKE,IAAIiC,KAAKskC,KAAM9lC,EAClC,CACA,gBAAAmqC,CAAiBjY,EAAWlwB,GAC1B,MAAMiiC,EAAKjlC,EAAKkJ,KAAK2mC,eAAe7sC,EAAMkwB,GACpCgS,EAAKllC,EAAKkJ,KAAK2mC,eAAe7sC,EAAKP,MAAM,GAAIywB,GAC7CiS,EAAKnlC,EAAKkJ,KAAK2mC,eAAe,CAAC7sC,EAAK,GAAIA,EAAK,IAAKkwB,GAClD8c,EAAKhwC,EAAKkJ,KAAK2mC,eAAe,CAAC7sC,EAAK,GAAIA,EAAK,IAAKkwB,GACxD1wB,KAAKstC,KAAOzvC,KAAKG,IAAIgC,KAAKstC,KAAM7K,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAI6K,EAAG,IACxDxtC,KAAKqkC,KAAOxmC,KAAKG,IAAIgC,KAAKqkC,KAAM5B,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAI6K,EAAG,IACxDxtC,KAAKutC,KAAO1vC,KAAKE,IAAIiC,KAAKutC,KAAM9K,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAI6K,EAAG,IACxDxtC,KAAKskC,KAAOzmC,KAAKE,IAAIiC,KAAKskC,KAAM7B,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAI6K,EAAG,GAC1D,CACA,uBAAAC,CAAwB/c,EAAWgd,GACjClwC,EAAKkJ,KAAKinC,YAAYjd,EAAWgd,GACjC1tC,KAAKstC,KAAOzvC,KAAKG,IAAIgC,KAAKstC,KAAMI,EAAO,IACvC1tC,KAAKutC,KAAO1vC,KAAKE,IAAIiC,KAAKutC,KAAMG,EAAO,IACvC1tC,KAAKqkC,KAAOxmC,KAAKG,IAAIgC,KAAKqkC,KAAMqJ,EAAO,IACvC1tC,KAAKskC,KAAOzmC,KAAKE,IAAIiC,KAAKskC,KAAMoJ,EAAO,GACzC,CACA,qBAAAE,CAAsBld,EAAW2W,EAAIC,EAAIlE,EAAIE,EAAIE,EAAIC,EAAIC,EAAIC,EAAI+J,GAC/D,MAAMG,EAAMrwC,EAAKkJ,KAAKonC,kBAAkBzG,EAAIC,EAAIlE,EAAIE,EAAIE,EAAIC,EAAIC,EAAIC,GACpE,GAAI+J,EAKF,OAJAA,EAAO,GAAK7vC,KAAKG,IAAI0vC,EAAO,GAAIG,EAAI,GAAIA,EAAI,IAC5CH,EAAO,GAAK7vC,KAAKE,IAAI2vC,EAAO,GAAIG,EAAI,GAAIA,EAAI,IAC5CH,EAAO,GAAK7vC,KAAKG,IAAI0vC,EAAO,GAAIG,EAAI,GAAIA,EAAI,SAC5CH,EAAO,GAAK7vC,KAAKE,IAAI2vC,EAAO,GAAIG,EAAI,GAAIA,EAAI,KAG9C7tC,KAAK2oC,iBAAiBjY,EAAWmd,EACnC,CACA,kBAAAE,CAAmB5M,EAAW1B,EAAe/O,EAAY,MACvD,MAAMmd,EAAM,CAAC7tC,KAAKstC,KAAMttC,KAAKqkC,KAAMrkC,KAAKutC,KAAMvtC,KAAKskC,MACnD,GAAInD,IAAa1B,EAAiB,CAC3B/O,IACH,EAAGlzB,EAAKkP,aAAa,+CAEvB,MAAMgjB,EAAQlyB,EAAKkJ,KAAK+/B,8BAA8B/V,GAChDsd,EAAate,EAAM,GAAK1vB,KAAK8sC,UAAY,EACzCmB,EAAave,EAAM,GAAK1vB,KAAK8sC,UAAY,EAC/Ce,EAAI,IAAMG,EACVH,EAAI,IAAMI,EACVJ,EAAI,IAAMG,EACVH,EAAI,IAAMI,CACZ,CACA,OAAOJ,CACT,CACA,kBAAAK,GACE,MAAMnyB,EAAYve,EAAKkJ,KAAKqV,UAAU/b,KAAKktC,QAASltC,KAAK+tC,sBACzD/tC,KAAKitC,uBAAuBlxB,GAAa,CAAC,EAAG,EAAG,EAAG,GACrD,CACA,WAAAoyB,GACE,OAAOnuC,KAAKstC,OAASc,GACvB,CACA,sBAAAnB,CAAuBY,GACrB7tC,KAAKktC,QAAUW,EACf7tC,KAAKstC,KAAOc,IACZpuC,KAAKqkC,KAAO+J,IACZpuC,KAAKutC,KAAO,EACZvtC,KAAKskC,KAAO,CACd,CACA,yBAAA/C,CAA0BJ,EAAW1B,EAAe/O,EAAY,MAC9D,OAAOlzB,EAAKkJ,KAAKqV,UAAU/b,KAAKktC,QAASltC,KAAK+tC,mBAAmB5M,EAAUzQ,GAC7E,EAEF,SAAS2d,EAAmB1O,EAAK2O,GAC/B,GAAyB,oBAAdC,WAA6BD,aAAmBC,UAEzD,YADA5O,EAAI6G,aAAa8H,EAAS,EAAG,GAG/B,MAAM5tC,EAAS4tC,EAAQ5tC,OACrBD,EAAQ6tC,EAAQ7tC,MACZ+tC,EAAqB9tC,EAASqpC,EAC9B0E,GAAc/tC,EAAS8tC,GAAsBzE,EAC7C2E,EAAqC,IAAvBF,EAA2BC,EAAaA,EAAa,EACnEE,EAAehP,EAAI4G,gBAAgB9lC,EAAOspC,GAChD,IACEH,EADEX,EAAS,EAEb,MAAMt3B,EAAM28B,EAAQxtC,KACdsO,EAAOu/B,EAAa7tC,KAC1B,IAAIyb,EAAG0oB,EAAG2J,EAAiBC,EAC3B,GAAIP,EAAQQ,OAAStxC,EAAKuxC,UAAUC,eAAgB,CAClD,MAAMtF,EAAY/3B,EAAIoT,WAChBkqB,EAAS,IAAItF,YAAYv6B,EAAK4V,OAAQ,EAAG5V,EAAK2V,YAAc,GAC5DmqB,EAAmBD,EAAO5jC,OAC1B8jC,EAAc1uC,EAAQ,GAAK,EAC3B2uC,EAAQ,WACRhG,EAAQ5rC,EAAK4U,YAAYi3B,eAAiB,WAAa,IAC7D,IAAK9sB,EAAI,EAAGA,EAAImyB,EAAanyB,IAAK,CAGhC,IAFAqyB,EAAkBryB,EAAIkyB,EAAa1E,EAAoByE,EACvD5E,EAAU,EACL3E,EAAI,EAAGA,EAAI2J,EAAiB3J,IAAK,CACpC,MAAMoK,EAAU3F,EAAYT,EAC5B,IAAIvqC,EAAI,EACR,MAAM4wC,EAAOD,EAAUF,EAAc1uC,EAAkB,EAAV4uC,EAAc,EACrDE,GAAsB,EAAPD,EACrB,IAAIE,EAAO,EACPC,EAAU,EACd,KAAO/wC,EAAI6wC,EAAc7wC,GAAK,EAC5B+wC,EAAU99B,EAAIs3B,KACdgG,EAAOrF,KAAuB,IAAV6F,EAAgBL,EAAQhG,EAC5C6F,EAAOrF,KAAuB,GAAV6F,EAAeL,EAAQhG,EAC3C6F,EAAOrF,KAAuB,GAAV6F,EAAeL,EAAQhG,EAC3C6F,EAAOrF,KAAuB,GAAV6F,EAAeL,EAAQhG,EAC3C6F,EAAOrF,KAAuB,EAAV6F,EAAcL,EAAQhG,EAC1C6F,EAAOrF,KAAuB,EAAV6F,EAAcL,EAAQhG,EAC1C6F,EAAOrF,KAAuB,EAAV6F,EAAcL,EAAQhG,EAC1C6F,EAAOrF,KAAuB,EAAV6F,EAAcL,EAAQhG,EAE5C,KAAO1qC,EAAI4wC,EAAM5wC,IACF,IAAT8wC,IACFC,EAAU99B,EAAIs3B,KACduG,EAAO,KAETP,EAAOrF,KAAa6F,EAAUD,EAAOJ,EAAQhG,EAC7CoG,IAAS,CAEb,CACA,KAAO5F,EAAUsF,GACfD,EAAOrF,KAAa,EAEtBjK,EAAI6G,aAAamI,EAAc,EAAGpyB,EAAIwtB,EACxC,CACF,MAAO,GAAIuE,EAAQQ,OAAStxC,EAAKuxC,UAAUW,WAAY,CAGrD,IAFAzK,EAAI,EACJ4J,EAAmBpuC,EAAQspC,EAAoB,EAC1CxtB,EAAI,EAAGA,EAAIkyB,EAAYlyB,IAC1BnN,EAAK2P,IAAIpN,EAAIg+B,SAAS1G,EAAQA,EAAS4F,IACvC5F,GAAU4F,EACVlP,EAAI6G,aAAamI,EAAc,EAAG1J,GAClCA,GAAK8E,EAEHxtB,EAAImyB,IACNG,EAAmBpuC,EAAQ+tC,EAAqB,EAChDp/B,EAAK2P,IAAIpN,EAAIg+B,SAAS1G,EAAQA,EAAS4F,IACvClP,EAAI6G,aAAamI,EAAc,EAAG1J,GAEtC,KAAO,IAAIqJ,EAAQQ,OAAStxC,EAAKuxC,UAAUa,UAkBzC,MAAM,IAAIvrB,MAAM,mBAAmBiqB,EAAQQ,QAf3C,IAFAF,EAAkB7E,EAClB8E,EAAmBpuC,EAAQmuC,EACtBryB,EAAI,EAAGA,EAAImyB,EAAanyB,IAAK,CAMhC,IALIA,GAAKkyB,IACPG,EAAkBJ,EAClBK,EAAmBpuC,EAAQmuC,GAE7BhF,EAAU,EACL3E,EAAI4J,EAAkB5J,KACzB71B,EAAKw6B,KAAaj4B,EAAIs3B,KACtB75B,EAAKw6B,KAAaj4B,EAAIs3B,KACtB75B,EAAKw6B,KAAaj4B,EAAIs3B,KACtB75B,EAAKw6B,KAAa,IAEpBjK,EAAI6G,aAAamI,EAAc,EAAGpyB,EAAIwtB,EACxC,CAGF,CACF,CACA,SAAS8F,EAAmBlQ,EAAK2O,GAC/B,GAAIA,EAAQjtB,OAEV,YADAse,EAAI6L,UAAU8C,EAAQjtB,OAAQ,EAAG,GAGnC,MAAM3gB,EAAS4tC,EAAQ5tC,OACrBD,EAAQ6tC,EAAQ7tC,MACZ+tC,EAAqB9tC,EAASqpC,EAC9B0E,GAAc/tC,EAAS8tC,GAAsBzE,EAC7C2E,EAAqC,IAAvBF,EAA2BC,EAAaA,EAAa,EACnEE,EAAehP,EAAI4G,gBAAgB9lC,EAAOspC,GAChD,IAAId,EAAS,EACb,MAAMt3B,EAAM28B,EAAQxtC,KACdsO,EAAOu/B,EAAa7tC,KAC1B,IAAK,IAAIyb,EAAI,EAAGA,EAAImyB,EAAanyB,IAAK,CACpC,MAAMqyB,EAAkBryB,EAAIkyB,EAAa1E,EAAoByE,IAE3DvF,UACED,EAA2B,CAC7Br3B,MACAs3B,SACA75B,OACA3O,QACAC,OAAQkuC,EACR1F,cAAe,KAEjBvJ,EAAI6G,aAAamI,EAAc,EAAGpyB,EAAIwtB,EACxC,CACF,CACA,SAAS+F,EAAaC,EAAWC,GAC/B,MAAMC,EAAa,CAAC,cAAe,YAAa,WAAY,cAAe,YAAa,UAAW,WAAY,aAAc,2BAA4B,OAAQ,UACjK,IAAK,MAAMC,KAAYD,OACOlwB,IAAxBgwB,EAAUG,KACZF,EAAQE,GAAYH,EAAUG,SAGJnwB,IAA1BgwB,EAAUI,cACZH,EAAQG,YAAYJ,EAAUK,eAC9BJ,EAAQK,eAAiBN,EAAUM,eAEvC,CACA,SAASC,EAAkB3Q,GAczB,GAbAA,EAAIkJ,YAAclJ,EAAIuC,UAAY,UAClCvC,EAAI4Q,SAAW,UACf5Q,EAAI6Q,YAAc,EAClB7Q,EAAImN,UAAY,EAChBnN,EAAI8Q,QAAU,OACd9Q,EAAI+Q,SAAW,QACf/Q,EAAIgR,WAAa,GACjBhR,EAAIiR,yBAA2B,cAC/BjR,EAAItE,KAAO,uBACatb,IAApB4f,EAAIwQ,cACNxQ,EAAIwQ,YAAY,IAChBxQ,EAAI0Q,eAAiB,IAElB7yC,EAAK+lB,SAAU,CAClB,MAAM,OACJxK,GACE4mB,EACW,SAAX5mB,GAAgC,KAAXA,IACvB4mB,EAAI5mB,OAAS,OAEjB,CACF,CACA,SAAS83B,EAAqB5N,EAAO6N,EAAIC,EAAIC,GAC3C,MAAM3lC,EAAS43B,EAAM53B,OACrB,IAAK,IAAIkR,EAAI,EAAGA,EAAIlR,EAAQkR,GAAK,EAAG,CAClC,MAAM00B,EAAQhO,EAAM1mB,GACpB,GAAc,IAAV00B,EACFhO,EAAM1mB,EAAI,GAAKu0B,EACf7N,EAAM1mB,EAAI,GAAKw0B,EACf9N,EAAM1mB,EAAI,GAAKy0B,OACV,GAAIC,EAAQ,IAAK,CACtB,MAAMC,EAAS,IAAMD,EACrBhO,EAAM1mB,EAAI,GAAK0mB,EAAM1mB,EAAI,GAAK00B,EAAQH,EAAKI,GAAU,EACrDjO,EAAM1mB,EAAI,GAAK0mB,EAAM1mB,EAAI,GAAK00B,EAAQF,EAAKG,GAAU,EACrDjO,EAAM1mB,EAAI,GAAK0mB,EAAM1mB,EAAI,GAAK00B,EAAQD,EAAKE,GAAU,CACvD,CACF,CACF,CACA,SAASC,EAAkBC,EAAUC,EAAWC,GAC9C,MAAMjmC,EAAS+lC,EAAS/lC,OAExB,IAAK,IAAIkR,EAAI,EAAGA,EAAIlR,EAAQkR,GAAK,EAAG,CAClC,MAAM00B,EAAQK,EAAcA,EAAYF,EAAS70B,IAAM60B,EAAS70B,GAChE80B,EAAU90B,GAAK80B,EAAU90B,GAAK00B,EAHlB,mBAGkC,CAChD,CACF,CACA,SAASM,EAAuBH,EAAUC,EAAWC,GACnD,MAAMjmC,EAAS+lC,EAAS/lC,OACxB,IAAK,IAAIkR,EAAI,EAAGA,EAAIlR,EAAQkR,GAAK,EAAG,CAClC,MAAM/d,EAAsB,GAAlB4yC,EAAS70B,EAAI,GAA4B,IAAlB60B,EAAS70B,EAAI,GAA6B,GAAlB60B,EAAS70B,EAAI,GACtE80B,EAAU90B,GAAK+0B,EAAcD,EAAU90B,GAAK+0B,EAAY9yC,GAAK,IAAM,EAAI6yC,EAAU90B,GAAK/d,GAAK,EAC7F,CACF,CAoBA,SAASgzC,EAAa7R,EAAK8R,EAAOC,EAAUC,GAC1C,MAAMC,EAAeD,EAAS,GACxBE,EAAeF,EAAS,GACxBG,EAAaH,EAAS,GAAKC,EAC3BG,EAAcJ,EAAS,GAAKE,EACf,IAAfC,GAAoC,IAAhBC,KAxB1B,SAA6BC,EAASN,EAAUjxC,EAAOC,EAAQuxC,EAASC,EAAUZ,EAAaM,EAAcC,EAAcM,EAAaC,GACtI,MAAMC,IAAgBH,EAChBpB,EAAKuB,EAAcH,EAAS,GAAK,EACjCnB,EAAKsB,EAAcH,EAAS,GAAK,EACjClB,EAAKqB,EAAcH,EAAS,GAAK,EACjCI,EAAwB,eAAZL,EAA2BV,EAAyBJ,EAEhEoB,EAAY10C,KAAKG,IAAI0C,EAAQ7C,KAAK4jC,KADd,QACuChhC,IACjE,IAAK,IAAI+xC,EAAM,EAAGA,EAAM9xC,EAAQ8xC,GAAOD,EAAW,CAChD,MAAME,EAAc50C,KAAKG,IAAIu0C,EAAW7xC,EAAS8xC,GAC3CpB,EAAWY,EAAQU,aAAad,EAAeO,EAAaK,GAAOX,EAAeO,GAAc3xC,EAAOgyC,GACvGpB,EAAYK,EAASgB,aAAad,EAAcY,EAAMX,EAAcpxC,EAAOgyC,GAC7EJ,GACFxB,EAAqBO,EAAStwC,KAAMgwC,EAAIC,EAAIC,GAE9CsB,EAAUlB,EAAStwC,KAAMuwC,EAAUvwC,KAAMwwC,GACzCI,EAASlL,aAAa6K,EAAWO,EAAcY,EAAMX,EACvD,CACF,CASEc,CAAoBlB,EAAMxwB,QAASywB,EAAUI,EAAYC,EAAaN,EAAMQ,QAASR,EAAMS,SAAUT,EAAMH,YAAaM,EAAcC,EAAcJ,EAAM9hB,QAAS8hB,EAAM7hB,SACzK+P,EAAIwI,OACJxI,EAAI6Q,YAAc,EAClB7Q,EAAIiR,yBAA2B,cAC/BjR,EAAI4C,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GAChC5C,EAAI6L,UAAUkG,EAASxyB,OAAQ,EAAG,GAClCygB,EAAIiT,UACN,CACA,SAASC,EAAyBniB,EAAWoiB,GAC3C,MAAMpjB,EAAQlyB,EAAKkJ,KAAK+/B,8BAA8B/V,GACtDhB,EAAM,GAAK7xB,KAAKk1C,OAAOrjB,EAAM,IAC7BA,EAAM,GAAK7xB,KAAKk1C,OAAOrjB,EAAM,IAC7B,MAAMsjB,EAAcn1C,KAAKk1C,QAAQjsB,WAAWmsB,kBAAoB,GAAKx1C,EAAcy1C,cAAcC,kBACjG,YAAoBpzB,IAAhB+yB,EACKA,EACEpjB,EAAM,IAAMsjB,GAAetjB,EAAM,IAAMsjB,CAIpD,CACA,MAAMI,EAAkB,CAAC,OAAQ,QAAS,UACpCC,EAAmB,CAAC,QAAS,QAAS,SACtCC,EAAc,CAAC,EACfC,EAAU,CAAC,EACjB,MAAM3V,EACJ,WAAAh6B,CAAY4vC,EAAWtkB,EAAYC,EAAM3H,EAAeC,GAAe,sBACrEiL,EAAqB,mBACrB+gB,EAAqB,MACpBv1B,EAAqB2S,GACtB7wB,KAAK2/B,IAAM6T,EACXxzC,KAAKshC,QAAU,IAAIoK,EAAiB1rC,KAAK2/B,IAAIzgB,OAAOze,MAAOT,KAAK2/B,IAAIzgB,OAAOxe,QAC3EV,KAAK0zC,WAAa,GAClB1zC,KAAK2zC,YAAc,KACnB3zC,KAAK4zC,eAAgB,EACrB5zC,KAAK6zC,IAAM,KACX7zC,KAAK8zC,MAAQ,KACb9zC,KAAKkvB,WAAaA,EAClBlvB,KAAKmvB,KAAOA,EACZnvB,KAAKwnB,cAAgBA,EACrBxnB,KAAKynB,cAAgBA,EACrBznB,KAAK+zC,WAAa,GAClB/zC,KAAKg0C,gBAAkB,KACvBh0C,KAAKiiC,cAAgB,KACrBjiC,KAAKi0C,mBAAqB,GAC1Bj0C,KAAK6nC,WAAa,EAClB7nC,KAAKk0C,WAAa,GAClBl0C,KAAKm0C,aAAe,EACpBn0C,KAAKo0C,UAAY,KACjBp0C,KAAKq0C,aAAe,KACpBr0C,KAAKs0C,gBAAiB,EACtBt0C,KAAKyzC,mBAAqBA,GAAsB,GAChDzzC,KAAK0yB,sBAAwBA,EAC7B1yB,KAAK2hC,eAAiB,IAAIqI,EAAehqC,KAAKwnB,eAC9CxnB,KAAKu0C,eAAiB,IAAIlkC,IAC1BrQ,KAAKke,oBAAsBA,EAC3Ble,KAAKw0C,cAAgB,EACrBx0C,KAAKy0C,aAAe,EACpBz0C,KAAK00C,aAAe,EACpB10C,KAAK6wB,WAAaA,EAClB7wB,KAAK20C,wBAA0B,EAAE,EAAG,GACpC30C,KAAK40C,2BAA6B,KAClC50C,KAAK60C,kBAAoB,IAAIxkC,GAC/B,CACA,SAAAykC,CAAUh0C,EAAMi0C,EAAW,MACzB,MAAoB,iBAATj0C,EACFA,EAAKk0C,WAAW,MAAQh1C,KAAKkvB,WAAW5e,IAAIxP,GAAQd,KAAKmvB,KAAK7e,IAAIxP,GAEpEi0C,CACT,CACA,YAAAlX,EAAa,UACXnN,EAAS,SACTprB,EAAQ,aACRmtB,GAAe,EAAK,WACpB9B,EAAa,OAEb,MAAMlwB,EAAQT,KAAK2/B,IAAIzgB,OAAOze,MACxBC,EAASV,KAAK2/B,IAAIzgB,OAAOxe,OACzBu0C,EAAiBj1C,KAAK2/B,IAAIuC,UAIhC,GAHAliC,KAAK2/B,IAAIuC,UAAYvR,GAAc,UACnC3wB,KAAK2/B,IAAIuV,SAAS,EAAG,EAAGz0C,EAAOC,GAC/BV,KAAK2/B,IAAIuC,UAAY+S,EACjBxiB,EAAc,CAChB,MAAM0iB,EAAoBn1C,KAAK2hC,eAAeC,UAAU,cAAenhC,EAAOC,GAC9EV,KAAKo1C,aAAep1C,KAAK2/B,IACzB3/B,KAAKm1C,kBAAoBA,EAAkBj2B,OAC3Clf,KAAK2/B,IAAMwV,EAAkBl0B,QAC7BjhB,KAAK2/B,IAAIwI,OACTnoC,KAAK2/B,IAAIjP,cAAa,EAAGjzB,EAAc+jC,qBAAqBxhC,KAAKo1C,cACnE,CACAp1C,KAAK2/B,IAAIwI,OACTmI,EAAkBtwC,KAAK2/B,KACnBjP,IACF1wB,KAAK2/B,IAAIjP,aAAaA,GACtB1wB,KAAKy0C,aAAe/jB,EAAU,GAC9B1wB,KAAK00C,aAAehkB,EAAU,IAEhC1wB,KAAK2/B,IAAIjP,aAAaprB,EAASorB,WAC/B1wB,KAAKw0C,cAAgBlvC,EAASoqB,MAC9B1vB,KAAKiiC,eAAgB,EAAGxkC,EAAc+jC,qBAAqBxhC,KAAK2/B,IAClE,CACA,mBAAA1B,CAAoB1M,EAAc8jB,EAAmBC,EAAkB/X,GACrE,MAAM9L,EAAYF,EAAaE,UACzBD,EAAUD,EAAaC,QAC7B,IAAIjV,EAAI84B,GAAqB,EAC7B,MAAME,EAAe9jB,EAAUpmB,OAC/B,GAAIkqC,IAAiBh5B,EACnB,OAAOA,EAET,MAAMi5B,EAAkBD,EAAeh5B,EAltBnB,IAktBsE,mBAArB+4B,EAC/DG,EAAUD,EAAkBE,KAAKC,MAptBpB,GAotB6C,EAChE,IAAIC,EAAQ,EACZ,MAAM1mB,EAAalvB,KAAKkvB,WAClBC,EAAOnvB,KAAKmvB,KAClB,IAAI0mB,EACJ,OAAa,CACX,QAAgB91B,IAAZwd,GAAyBhhB,IAAMghB,EAAQE,eAEzC,OADAF,EAAQuY,QAAQv5B,EAAG+4B,GACZ/4B,EAGT,GADAs5B,EAAOrkB,EAAQjV,GACXs5B,IAASr4C,EAAKu4C,IAAIC,WACpBh2C,KAAK61C,GAAMI,MAAMj2C,KAAMyxB,EAAUlV,SAEjC,IAAK,MAAM25B,KAAYzkB,EAAUlV,GAAI,CACnC,MAAM45B,EAAWD,EAASlB,WAAW,MAAQ9lB,EAAaC,EAC1D,IAAKgnB,EAAShpC,IAAI+oC,GAEhB,OADAC,EAAS7lC,IAAI4lC,EAAUZ,GAChB/4B,CAEX,CAGF,GADAA,IACIA,IAAMg5B,EACR,OAAOh5B,EAET,GAAIi5B,KAAqBI,EA7uBP,GA6uBgC,CAChD,GAAIF,KAAKC,MAAQF,EAEf,OADAH,IACO/4B,EAETq5B,EAAQ,CACV,CACF,CACF,CACA,MACE,KAAO51C,KAAK0zC,WAAWroC,QAAUrL,KAAKo2C,aACpCp2C,KAAK4yC,UAEP5yC,KAAK2/B,IAAIiT,UACL5yC,KAAKm1C,oBACPn1C,KAAK2/B,IAAM3/B,KAAKo1C,aAChBp1C,KAAK2/B,IAAIwI,OACTnoC,KAAK2/B,IAAI4C,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GACrCviC,KAAK2/B,IAAI6L,UAAUxrC,KAAKm1C,kBAAmB,EAAG,GAC9Cn1C,KAAK2/B,IAAIiT,UACT5yC,KAAKm1C,kBAAoB,KAE7B,CACA,UAAArX,GACE99B,MAAK,KACLA,KAAK2hC,eAAenoB,QACpBxZ,KAAKu0C,eAAe/6B,QACpB,IAAK,MAAMywB,KAASjqC,KAAK60C,kBAAkB7jC,SAAU,CACnD,IAAK,MAAMkO,KAAU+qB,EAAMj5B,SACQ,oBAAtBqlC,mBAAqCn3B,aAAkBm3B,oBAChEn3B,EAAOze,MAAQye,EAAOxe,OAAS,GAGnCupC,EAAMzwB,OACR,CACAxZ,KAAK60C,kBAAkBr7B,QACvBxZ,MAAK,IACP,CACA,MACE,GAAIA,KAAK6wB,WAAY,CACnB,MAAMylB,EAAct2C,KAAKynB,cAAcgX,aAAaz+B,KAAK6wB,WAAW0lB,WAAYv2C,KAAK6wB,WAAWF,YAChG,GAAoB,SAAhB2lB,EAAwB,CAC1B,MAAME,EAAcx2C,KAAK2/B,IAAI5mB,OAC7B/Y,KAAK2/B,IAAI5mB,OAASu9B,EAClBt2C,KAAK2/B,IAAI6L,UAAUxrC,KAAK2/B,IAAIzgB,OAAQ,EAAG,GACvClf,KAAK2/B,IAAI5mB,OAASy9B,CACpB,CACF,CACF,CACA,WAAAC,CAAYC,EAAKC,GACf,MAAMl2C,EAAQi2C,EAAIj2C,MACZC,EAASg2C,EAAIh2C,OACnB,IAKIghC,EAAWG,EALX+U,EAAa/4C,KAAKE,IAAIF,KAAK4tC,MAAMkL,EAAiB,GAAIA,EAAiB,IAAK,GAC5EE,EAAch5C,KAAKE,IAAIF,KAAK4tC,MAAMkL,EAAiB,GAAIA,EAAiB,IAAK,GAC7EG,EAAar2C,EACfs2C,EAAcr2C,EACZs2C,EAAc,YAElB,KAAOJ,EAAa,GAAKE,EAAa,GAAKD,EAAc,GAAKE,EAAc,GAAG,CAC7E,IAAIE,EAAWH,EACbI,EAAYH,EACVH,EAAa,GAAKE,EAAa,IACjCG,EAAWH,GAAc,MAAQj5C,KAAKC,MAAMg5C,EAAa,GAAK,GAAK,EAAIj5C,KAAK4jC,KAAKqV,EAAa,GAC9FF,GAAcE,EAAaG,GAEzBJ,EAAc,GAAKE,EAAc,IACnCG,EAAYH,GAAe,MAAQl5C,KAAKC,MAAMi5C,EAAc,GAAK,GAAK,EAAIl5C,KAAK4jC,KAAKsV,GAAe,EACnGF,GAAeE,EAAcG,GAE/BxV,EAAY1hC,KAAK2hC,eAAeC,UAAUoV,EAAaC,EAAUC,GACjErV,EAASH,EAAUzgB,QACnB4gB,EAAOC,UAAU,EAAG,EAAGmV,EAAUC,GACjCrV,EAAO2J,UAAUkL,EAAK,EAAG,EAAGI,EAAYC,EAAa,EAAG,EAAGE,EAAUC,GACrER,EAAMhV,EAAUxiB,OAChB43B,EAAaG,EACbF,EAAcG,EACdF,EAA8B,cAAhBA,EAA8B,YAAc,WAC5D,CACA,MAAO,CACLN,MACAI,aACAC,cAEJ,CACA,iBAAAI,CAAkBT,GAChB,MAAM/W,EAAM3/B,KAAK2/B,KACX,MACJl/B,EAAK,OACLC,GACEg2C,EACE5sC,EAAY9J,KAAKshC,QAAQx3B,UACzBstC,EAAgBp3C,KAAKshC,QAAQsL,YAC7ByK,GAAmB,EAAG55C,EAAc+jC,qBAAqB7B,GAC/D,IAAIsK,EAAOjZ,EAAUsmB,EAAQC,EAC7B,IAAKb,EAAIr1B,QAAUq1B,EAAI51C,OAAS41C,EAAIc,MAAQ,EAAG,CAC7C,MAAMC,EAAUf,EAAIr1B,QAAUq1B,EAAI51C,KAAKkkB,OACvCgM,EAAWnf,KAAKC,UAAUslC,EAAgBC,EAAmB,CAACA,EAAiBp3C,MAAM,EAAG,GAAI6J,IAC5FmgC,EAAQjqC,KAAK60C,kBAAkBvkC,IAAImnC,GAC9BxN,IACHA,EAAQ,IAAI55B,IACZrQ,KAAK60C,kBAAkB91B,IAAI04B,EAASxN,IAEtC,MAAMyN,EAAczN,EAAM35B,IAAI0gB,GAC9B,GAAI0mB,IAAgBN,EAAe,CAGjC,MAAO,CACLl4B,OAAQw4B,EACR/nB,QAJc9xB,KAAKqW,MAAMrW,KAAKG,IAAIq5C,EAAiB,GAAIA,EAAiB,IAAMA,EAAiB,IAK/FznB,QAJc/xB,KAAKqW,MAAMrW,KAAKG,IAAIq5C,EAAiB,GAAIA,EAAiB,IAAMA,EAAiB,IAMnG,CACAC,EAASI,CACX,CACKJ,IACHC,EAAav3C,KAAK2hC,eAAeC,UAAU,aAAcnhC,EAAOC,GAChEmvC,EAAmB0H,EAAWt2B,QAASy1B,IAEzC,IAAIiB,EAAen6C,EAAKkJ,KAAKgqB,UAAU2mB,EAAkB,CAAC,EAAI52C,EAAO,EAAG,GAAI,EAAIC,EAAQ,EAAG,IAC3Fi3C,EAAen6C,EAAKkJ,KAAKgqB,UAAUinB,EAAc,CAAC,EAAG,EAAG,EAAG,EAAG,GAAIj3C,IAClE,MAAO4sC,EAAMjJ,EAAMkJ,EAAMjJ,GAAQ9mC,EAAKkJ,KAAKkxC,2BAA2B,CAAC,EAAG,EAAGn3C,EAAOC,GAASi3C,GACvFE,EAAah6C,KAAKqW,MAAMq5B,EAAOD,IAAS,EACxCwK,EAAcj6C,KAAKqW,MAAMowB,EAAOD,IAAS,EACzC0T,EAAa/3C,KAAK2hC,eAAeC,UAAU,aAAciW,EAAYC,GACrEE,EAAUD,EAAW92B,QACrB0O,EAAU2d,EACV1d,EAAUyU,EAChB2T,EAAQhW,WAAWrS,GAAUC,GAC7BooB,EAAQtnB,aAAainB,GAChBL,IACHA,EAASt3C,KAAKy2C,YAAYc,EAAWr4B,QAAQ,EAAGzhB,EAAcw6C,4BAA4BD,IAC1FV,EAASA,EAAOZ,IACZzM,GAASmN,GACXnN,EAAMlrB,IAAIiS,EAAUsmB,IAGxBU,EAAQE,sBAAwBrF,GAAyB,EAAGp1C,EAAc+jC,qBAAqBwW,GAAUtB,EAAI5D,aAC7G3I,EAAyB6N,EAASV,EAAQ,EAAG,EAAGA,EAAO72C,MAAO62C,EAAO52C,OAAQ,EAAG,EAAGD,EAAOC,GAC1Fs3C,EAAQpH,yBAA2B,YACnC,MAAM1P,EAAU1jC,EAAKkJ,KAAKgqB,WAAU,EAAGjzB,EAAcw6C,4BAA4BD,GAAU,CAAC,EAAG,EAAG,EAAG,GAAIroB,GAAUC,IAOnH,OANAooB,EAAQ9V,UAAYkV,EAAgBttC,EAAUm2B,WAAWN,EAAK3/B,KAAMkhC,EAASzB,GAAiB31B,EAC9FkuC,EAAQ9C,SAAS,EAAG,EAAGz0C,EAAOC,GAC1BupC,IAAUmN,IACZp3C,KAAK2hC,eAAevhB,OAAO,cAC3B6pB,EAAMlrB,IAAIiS,EAAU+mB,EAAW74B,SAE1B,CACLA,OAAQ64B,EAAW74B,OACnByQ,QAAS9xB,KAAKqW,MAAMyb,GACpBC,QAAS/xB,KAAKqW,MAAM0b,GAExB,CACA,YAAAuoB,CAAa13C,GACPA,IAAUT,KAAKshC,QAAQwL,YACzB9sC,KAAK20C,wBAAwB,IAAM,GAErC30C,KAAKshC,QAAQwL,UAAYrsC,EACzBT,KAAK2/B,IAAImN,UAAYrsC,CACvB,CACA,UAAA23C,CAAWxyC,GACT5F,KAAK2/B,IAAI8Q,QAAU2C,EAAgBxtC,EACrC,CACA,WAAAyyC,CAAYzyC,GACV5F,KAAK2/B,IAAI+Q,SAAW2C,EAAiBztC,EACvC,CACA,aAAA0yC,CAAcC,GACZv4C,KAAK2/B,IAAIgR,WAAa4H,CACxB,CACA,OAAAC,CAAQC,EAAWC,GACjB,MAAM/Y,EAAM3/B,KAAK2/B,SACO5f,IAApB4f,EAAIwQ,cACNxQ,EAAIwQ,YAAYsI,GAChB9Y,EAAI0Q,eAAiBqI,EAEzB,CACA,kBAAAC,CAAmB98B,GAAS,CAC5B,WAAA+8B,CAAYC,GAAW,CACvB,SAAAC,CAAUC,GACR,IAAK,MAAOhkC,EAAK1D,KAAU0nC,EACzB,OAAQhkC,GACN,IAAK,KACH/U,KAAKm4C,aAAa9mC,GAClB,MACF,IAAK,KACHrR,KAAKo4C,WAAW/mC,GAChB,MACF,IAAK,KACHrR,KAAKq4C,YAAYhnC,GACjB,MACF,IAAK,KACHrR,KAAKs4C,cAAcjnC,GACnB,MACF,IAAK,IACHrR,KAAKw4C,QAAQnnC,EAAM,GAAIA,EAAM,IAC7B,MACF,IAAK,KACHrR,KAAK24C,mBAAmBtnC,GACxB,MACF,IAAK,KACHrR,KAAK44C,YAAYvnC,GACjB,MACF,IAAK,OACHrR,KAAKg5C,QAAQ3nC,EAAM,GAAIA,EAAM,IAC7B,MACF,IAAK,KACHrR,KAAKshC,QAAQuL,YAAcx7B,EAC3B,MACF,IAAK,KACHrR,KAAKshC,QAAQxjB,UAAYzM,EACzBrR,KAAK2/B,IAAI6Q,YAAcn/B,EACvB,MACF,IAAK,KACHrR,KAAK2/B,IAAIiR,yBAA2Bv/B,EACpC,MACF,IAAK,QACHrR,KAAKshC,QAAQyL,YAAc17B,EAAQrR,KAAKo0C,UAAY,KACpDp0C,KAAKo0C,UAAY,KACjBp0C,KAAKi5C,kBACL,MACF,IAAK,KACHj5C,KAAK2/B,IAAI5mB,OAAS/Y,KAAKshC,QAAQ0L,aAAehtC,KAAKynB,cAAc8W,UAAUltB,GAInF,CACA,eAAI+kC,GACF,QAASp2C,KAAKq0C,YAChB,CACA,eAAA4E,GACE,MAAM7C,EAAcp2C,KAAKo2C,YACrBp2C,KAAKshC,QAAQyL,cAAgBqJ,EAC/Bp2C,KAAKk5C,kBACKl5C,KAAKshC,QAAQyL,aAAeqJ,GACtCp2C,KAAKm5C,cAET,CACA,cAAAD,GACE,GAAIl5C,KAAKo2C,YACP,MAAM,IAAI/xB,MAAM,qDAElB,MAAMwzB,EAAa73C,KAAK2/B,IAAIzgB,OAAOze,MAC7Bq3C,EAAc93C,KAAK2/B,IAAIzgB,OAAOxe,OAC9B04C,EAAU,eAAiBp5C,KAAK6nC,WAChCwR,EAAgBr5C,KAAK2hC,eAAeC,UAAUwX,EAASvB,EAAYC,GACzE93C,KAAKq0C,aAAer0C,KAAK2/B,IACzB3/B,KAAK2/B,IAAM0Z,EAAcp4B,QACzB,MAAM0e,EAAM3/B,KAAK2/B,IACjBA,EAAI4C,iBAAgB,EAAG9kC,EAAc+jC,qBAAqBxhC,KAAKq0C,eAC/DvE,EAAa9vC,KAAKq0C,aAAc1U,GAl+BpC,SAAiCA,EAAKqQ,GACpC,GAAIrQ,EAAI2Z,iBACN,MAAM,IAAIj1B,MAAM,6CAElBsb,EAAI4Z,eAAiB5Z,EAAIwI,KACzBxI,EAAI6Z,kBAAoB7Z,EAAIiT,QAC5BjT,EAAI8Z,iBAAmB9Z,EAAIpQ,OAC3BoQ,EAAI+Z,gBAAkB/Z,EAAIjQ,MAC1BiQ,EAAIga,oBAAsBha,EAAIqC,UAC9BrC,EAAIia,oBAAsBja,EAAIjP,UAC9BiP,EAAIka,uBAAyBla,EAAI4C,aACjC5C,EAAIma,yBAA2Bna,EAAIoa,eACnCpa,EAAIqa,eAAiBra,EAAII,KACzBJ,EAAIsa,iBAAmBta,EAAIua,OAC3Bva,EAAIwa,iBAAmBxa,EAAIya,OAC3Bza,EAAI0a,wBAA0B1a,EAAI2a,cAClC3a,EAAI4a,eAAiB5a,EAAIn/B,KACzBm/B,EAAI6a,oBAAsB7a,EAAI8a,UAC9B9a,EAAI+a,oBAAsB/a,EAAIoC,UAC9BpC,EAAI2Z,iBAAmB,KACrB3Z,EAAIwI,KAAOxI,EAAI4Z,eACf5Z,EAAIiT,QAAUjT,EAAI6Z,kBAClB7Z,EAAIpQ,OAASoQ,EAAI8Z,iBACjB9Z,EAAIjQ,MAAQiQ,EAAI+Z,gBAChB/Z,EAAIqC,UAAYrC,EAAIga,oBACpBha,EAAIjP,UAAYiP,EAAIia,oBACpBja,EAAI4C,aAAe5C,EAAIka,uBACvBla,EAAIoa,eAAiBpa,EAAIma,yBACzBna,EAAII,KAAOJ,EAAIqa,eACfra,EAAIua,OAASva,EAAIsa,iBACjBta,EAAIya,OAASza,EAAIwa,iBACjBxa,EAAI2a,cAAgB3a,EAAI0a,wBACxB1a,EAAIn/B,KAAOm/B,EAAI4a,eACf5a,EAAI8a,UAAY9a,EAAI6a,oBACpB7a,EAAIoC,UAAYpC,EAAI+a,2BACb/a,EAAI2Z,gBAAgB,EAE7B3Z,EAAIwI,KAAO,WACT6H,EAAQ7H,OACRnoC,KAAKu5C,gBACP,EACA5Z,EAAIiT,QAAU,WACZ5C,EAAQ4C,UACR5yC,KAAKw5C,mBACP,EACA7Z,EAAIqC,UAAY,SAAsB5jC,EAAGI,GACvCwxC,EAAQhO,UAAU5jC,EAAGI,GACrBwB,KAAK25C,oBAAoBv7C,EAAGI,EAC9B,EACAmhC,EAAIjQ,MAAQ,SAAkBtxB,EAAGI,GAC/BwxC,EAAQtgB,MAAMtxB,EAAGI,GACjBwB,KAAK05C,gBAAgBt7C,EAAGI,EAC1B,EACAmhC,EAAIjP,UAAY,SAAsBhP,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,GACnD3K,EAAQtf,UAAUhP,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,GACjC36C,KAAK45C,oBAAoBl4B,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,EAC1C,EACAhb,EAAI4C,aAAe,SAAyB7gB,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,GACzD3K,EAAQzN,aAAa7gB,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,GACpC36C,KAAK65C,uBAAuBn4B,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,EAC7C,EACAhb,EAAIoa,eAAiB,WACnB/J,EAAQ+J,iBACR/5C,KAAK85C,0BACP,EACAna,EAAIpQ,OAAS,SAAmBvnB,GAC9BgoC,EAAQzgB,OAAOvnB,GACfhI,KAAKy5C,iBAAiBzxC,EACxB,EACA23B,EAAII,KAAO,SAAmB6a,GAC5B5K,EAAQjQ,KAAK6a,GACb56C,KAAKg6C,eAAeY,EACtB,EACAjb,EAAIua,OAAS,SAAU97C,EAAGI,GACxBwxC,EAAQkK,OAAO97C,EAAGI,GAClBwB,KAAKi6C,iBAAiB77C,EAAGI,EAC3B,EACAmhC,EAAIya,OAAS,SAAUh8C,EAAGI,GACxBwxC,EAAQoK,OAAOh8C,EAAGI,GAClBwB,KAAKm6C,iBAAiB/7C,EAAGI,EAC3B,EACAmhC,EAAI2a,cAAgB,SAAUO,EAAMC,EAAMC,EAAMC,EAAM58C,EAAGI,GACvDwxC,EAAQsK,cAAcO,EAAMC,EAAMC,EAAMC,EAAM58C,EAAGI,GACjDwB,KAAKq6C,wBAAwBQ,EAAMC,EAAMC,EAAMC,EAAM58C,EAAGI,EAC1D,EACAmhC,EAAIn/B,KAAO,SAAUpC,EAAGI,EAAGiC,EAAOC,GAChCsvC,EAAQxvC,KAAKpC,EAAGI,EAAGiC,EAAOC,GAC1BV,KAAKu6C,eAAen8C,EAAGI,EAAGiC,EAAOC,EACnC,EACAi/B,EAAI8a,UAAY,WACdzK,EAAQyK,YACRz6C,KAAKw6C,qBACP,EACA7a,EAAIoC,UAAY,WACdiO,EAAQjO,YACR/hC,KAAK06C,qBACP,CACF,CAk4BIO,CAAwBtb,EAAK3/B,KAAKq0C,cAClCr0C,KAAK84C,UAAU,CAAC,CAAC,KAAM,eAAgB,CAAC,KAAM,GAAI,CAAC,KAAM,IAC3D,CACA,YAAAK,GACE,IAAKn5C,KAAKo2C,YACR,MAAM,IAAI/xB,MAAM,+CAElBrkB,KAAK2/B,IAAI2Z,mBACTxJ,EAAa9vC,KAAK2/B,IAAK3/B,KAAKq0C,cAC5Br0C,KAAK2/B,IAAM3/B,KAAKq0C,aAChBr0C,KAAKq0C,aAAe,IACtB,CACA,OAAA6G,CAAQC,GACN,IAAKn7C,KAAKshC,QAAQyL,YAChB,OAEGoO,GAGHA,EAAS,GAAKt9C,KAAKC,MAAMq9C,EAAS,IAClCA,EAAS,GAAKt9C,KAAKC,MAAMq9C,EAAS,IAClCA,EAAS,GAAKt9C,KAAK4jC,KAAK0Z,EAAS,IACjCA,EAAS,GAAKt9C,KAAK4jC,KAAK0Z,EAAS,KALjCA,EAAW,CAAC,EAAG,EAAGn7C,KAAK2/B,IAAIzgB,OAAOze,MAAOT,KAAK2/B,IAAIzgB,OAAOxe,QAO3D,MAAM+wC,EAAQzxC,KAAKshC,QAAQyL,YAE3ByE,EADqBxxC,KAAKq0C,aACC5C,EAAOzxC,KAAK2/B,IAAKwb,GAC5Cn7C,KAAK2/B,IAAIwI,OACTnoC,KAAK2/B,IAAI4C,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GACrCviC,KAAK2/B,IAAImC,UAAU,EAAG,EAAG9hC,KAAK2/B,IAAIzgB,OAAOze,MAAOT,KAAK2/B,IAAIzgB,OAAOxe,QAChEV,KAAK2/B,IAAIiT,SACX,CACA,IAAAzK,GACMnoC,KAAKo2C,aACPtG,EAAa9vC,KAAK2/B,IAAK3/B,KAAKq0C,cAC5Br0C,KAAKq0C,aAAalM,QAElBnoC,KAAK2/B,IAAIwI,OAEX,MAAMiT,EAAMp7C,KAAKshC,QACjBthC,KAAK0zC,WAAWznC,KAAKmvC,GACrBp7C,KAAKshC,QAAU8Z,EAAI75B,OACrB,CACA,OAAAqxB,GACiC,IAA3B5yC,KAAK0zC,WAAWroC,QAAgBrL,KAAKo2C,aACvCp2C,KAAKm5C,eAEwB,IAA3Bn5C,KAAK0zC,WAAWroC,SAClBrL,KAAKshC,QAAUthC,KAAK0zC,WAAW2H,MAC3Br7C,KAAKo2C,aACPp2C,KAAKq0C,aAAazB,UAClB9C,EAAa9vC,KAAKq0C,aAAcr0C,KAAK2/B,MAErC3/B,KAAK2/B,IAAIiT,UAEX5yC,KAAKi5C,kBACLj5C,KAAK2zC,YAAc,KACnB3zC,KAAK20C,wBAAwB,IAAM,EACnC30C,KAAK40C,2BAA6B,KAEtC,CACA,SAAAlkB,CAAUhP,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,GACvB36C,KAAK2/B,IAAIjP,UAAUhP,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,GAClC36C,KAAK20C,wBAAwB,IAAM,EACnC30C,KAAK40C,2BAA6B,IACpC,CACA,aAAA0G,CAAcC,EAAKC,EAAM9N,GACvB,MAAM/N,EAAM3/B,KAAK2/B,IACX2B,EAAUthC,KAAKshC,QACrB,IAEIma,EAAQC,EAFRt9C,EAAIkjC,EAAQljC,EACdI,EAAI8iC,EAAQ9iC,EAEd,MAAM64C,GAAmB,EAAG55C,EAAc+jC,qBAAqB7B,GACzDgc,EAA0C,IAAxBtE,EAAiB,IAAoC,IAAxBA,EAAiB,IAAoC,IAAxBA,EAAiB,IAAoC,IAAxBA,EAAiB,GAC1HuE,EAAkBD,EAAkBjO,EAAOztC,MAAM,GAAK,KAC5D,IAAK,IAAIsc,EAAI,EAAG0oB,EAAI,EAAGzoB,EAAK++B,EAAIlwC,OAAQkR,EAAIC,EAAID,IAC9C,OAAiB,EAATg/B,EAAIh/B,IACV,KAAK/e,EAAKu4C,IAAI8F,UACZz9C,EAAIo9C,EAAKvW,KACTzmC,EAAIg9C,EAAKvW,KACT,MAAMxkC,EAAQ+6C,EAAKvW,KACbvkC,EAAS86C,EAAKvW,KACd6W,EAAK19C,EAAIqC,EACTs7C,EAAKv9C,EAAIkC,EACfi/B,EAAIua,OAAO97C,EAAGI,GACA,IAAViC,GAA0B,IAAXC,EACjBi/B,EAAIya,OAAO0B,EAAIC,IAEfpc,EAAIya,OAAO0B,EAAIt9C,GACfmhC,EAAIya,OAAO0B,EAAIC,GACfpc,EAAIya,OAAOh8C,EAAG29C,IAEXJ,GACHra,EAAQqH,iBAAiB0O,EAAkB,CAACj5C,EAAGI,EAAGs9C,EAAIC,IAExDpc,EAAI8a,YACJ,MACF,KAAKj9C,EAAKu4C,IAAImE,OACZ97C,EAAIo9C,EAAKvW,KACTzmC,EAAIg9C,EAAKvW,KACTtF,EAAIua,OAAO97C,EAAGI,GACTm9C,GACHra,EAAQ8L,iBAAiBiK,EAAkBj5C,EAAGI,GAEhD,MACF,KAAKhB,EAAKu4C,IAAIqE,OACZh8C,EAAIo9C,EAAKvW,KACTzmC,EAAIg9C,EAAKvW,KACTtF,EAAIya,OAAOh8C,EAAGI,GACTm9C,GACHra,EAAQ8L,iBAAiBiK,EAAkBj5C,EAAGI,GAEhD,MACF,KAAKhB,EAAKu4C,IAAIiG,QACZP,EAASr9C,EACTs9C,EAASl9C,EACTJ,EAAIo9C,EAAKvW,EAAI,GACbzmC,EAAIg9C,EAAKvW,EAAI,GACbtF,EAAI2a,cAAckB,EAAKvW,GAAIuW,EAAKvW,EAAI,GAAIuW,EAAKvW,EAAI,GAAIuW,EAAKvW,EAAI,GAAI7mC,EAAGI,GACrE8iC,EAAQsM,sBAAsByJ,EAAkBoE,EAAQC,EAAQF,EAAKvW,GAAIuW,EAAKvW,EAAI,GAAIuW,EAAKvW,EAAI,GAAIuW,EAAKvW,EAAI,GAAI7mC,EAAGI,EAAGo9C,GACtH3W,GAAK,EACL,MACF,KAAKznC,EAAKu4C,IAAIkG,SACZR,EAASr9C,EACTs9C,EAASl9C,EACTmhC,EAAI2a,cAAcl8C,EAAGI,EAAGg9C,EAAKvW,GAAIuW,EAAKvW,EAAI,GAAIuW,EAAKvW,EAAI,GAAIuW,EAAKvW,EAAI,IACpE3D,EAAQsM,sBAAsByJ,EAAkBoE,EAAQC,EAAQt9C,EAAGI,EAAGg9C,EAAKvW,GAAIuW,EAAKvW,EAAI,GAAIuW,EAAKvW,EAAI,GAAIuW,EAAKvW,EAAI,GAAI2W,GACtHx9C,EAAIo9C,EAAKvW,EAAI,GACbzmC,EAAIg9C,EAAKvW,EAAI,GACbA,GAAK,EACL,MACF,KAAKznC,EAAKu4C,IAAImG,SACZT,EAASr9C,EACTs9C,EAASl9C,EACTJ,EAAIo9C,EAAKvW,EAAI,GACbzmC,EAAIg9C,EAAKvW,EAAI,GACbtF,EAAI2a,cAAckB,EAAKvW,GAAIuW,EAAKvW,EAAI,GAAI7mC,EAAGI,EAAGJ,EAAGI,GACjD8iC,EAAQsM,sBAAsByJ,EAAkBoE,EAAQC,EAAQF,EAAKvW,GAAIuW,EAAKvW,EAAI,GAAI7mC,EAAGI,EAAGJ,EAAGI,EAAGo9C,GAClG3W,GAAK,EACL,MACF,KAAKznC,EAAKu4C,IAAI0E,UACZ9a,EAAI8a,YAINkB,GACFra,EAAQmM,wBAAwB4J,EAAkBuE,GAEpDta,EAAQ6L,gBAAgB/uC,EAAGI,EAC7B,CACA,SAAAi8C,GACEz6C,KAAK2/B,IAAI8a,WACX,CACA,MAAA0B,CAAOC,GAAc,GACnB,MAAMzc,EAAM3/B,KAAK2/B,IACX11B,EAAcjK,KAAKshC,QAAQr3B,YACjC01B,EAAI6Q,YAAcxwC,KAAKshC,QAAQuL,YAC3B7sC,KAAKs0C,iBACoB,iBAAhBrqC,GAA4BA,GAAag2B,YAClDN,EAAIwI,OACJxI,EAAIkJ,YAAc5+B,EAAYg2B,WAAWN,EAAK3/B,MAAM,EAAGvC,EAAcw6C,4BAA4BtY,GAAMF,GACvGz/B,KAAKq8C,kBAAiB,GACtB1c,EAAIiT,WAEJ5yC,KAAKq8C,kBAAiB,IAGtBD,GACFp8C,KAAKo8C,YAAYp8C,KAAKshC,QAAQC,6BAEhC5B,EAAI6Q,YAAcxwC,KAAKshC,QAAQxjB,SACjC,CACA,WAAAw+B,GACEt8C,KAAKy6C,YACLz6C,KAAKm8C,QACP,CACA,IAAAha,CAAKia,GAAc,GACjB,MAAMzc,EAAM3/B,KAAK2/B,IACX71B,EAAY9J,KAAKshC,QAAQx3B,UAE/B,IAAIyyC,GAAc,EADIv8C,KAAKshC,QAAQsL,cAGjCjN,EAAIwI,OACJxI,EAAIuC,UAAYp4B,EAAUm2B,WAAWN,EAAK3/B,MAAM,EAAGvC,EAAcw6C,4BAA4BtY,GAAMF,GACnG8c,GAAc,GAEhB,MAAMxgC,EAAY/b,KAAKshC,QAAQC,4BAC3BvhC,KAAKs0C,gBAAgC,OAAdv4B,IACrB/b,KAAK4zC,eACPjU,EAAIwC,KAAK,WACTniC,KAAK4zC,eAAgB,GAErBjU,EAAIwC,QAGJoa,GACF5c,EAAIiT,UAEFwJ,GACFp8C,KAAKo8C,YAAYrgC,EAErB,CACA,MAAAygC,GACEx8C,KAAK4zC,eAAgB,EACrB5zC,KAAKmiC,MACP,CACA,UAAAsa,GACEz8C,KAAKmiC,MAAK,GACVniC,KAAKm8C,QAAO,GACZn8C,KAAKo8C,aACP,CACA,YAAAM,GACE18C,KAAK4zC,eAAgB,EACrB5zC,KAAKy8C,YACP,CACA,eAAAE,GACE38C,KAAKy6C,YACLz6C,KAAKy8C,YACP,CACA,iBAAAG,GACE58C,KAAK4zC,eAAgB,EACrB5zC,KAAKy6C,YACLz6C,KAAKy8C,YACP,CACA,OAAA7T,GACE5oC,KAAKo8C,aACP,CACA,IAAArc,GACE//B,KAAK2zC,YAAcL,CACrB,CACA,MAAAuJ,GACE78C,KAAK2zC,YAAcJ,CACrB,CACA,SAAAuJ,GACE98C,KAAKshC,QAAQuK,WAAaruC,EAAKsuC,gBAC/B9rC,KAAKshC,QAAQyK,gBAAkB,EAC/B/rC,KAAKshC,QAAQljC,EAAI4B,KAAKshC,QAAQ6K,MAAQ,EACtCnsC,KAAKshC,QAAQ9iC,EAAIwB,KAAKshC,QAAQ8K,MAAQ,CACxC,CACA,OAAA2Q,GACE,MAAMC,EAAQh9C,KAAKi9C,iBACbtd,EAAM3/B,KAAK2/B,IACjB,QAAc5f,IAAVi9B,EAAJ,CAIArd,EAAIwI,OACJxI,EAAIoC,YACJ,IAAK,MAAMmb,KAAQF,EACjBrd,EAAI4C,gBAAgB2a,EAAKxsB,WACzBiP,EAAIqC,UAAUkb,EAAK9+C,EAAG8+C,EAAK1+C,GAC3B0+C,EAAKC,UAAUxd,EAAKud,EAAKnpC,UAE3B4rB,EAAIiT,UACJjT,EAAII,OACJJ,EAAIoC,mBACG/hC,KAAKi9C,gBAXZ,MAFEtd,EAAIoC,WAcR,CACA,cAAAqb,CAAeC,GACbr9C,KAAKshC,QAAQ+K,YAAcgR,CAC7B,CACA,cAAAC,CAAeD,GACbr9C,KAAKshC,QAAQgL,YAAc+Q,CAC7B,CACA,SAAAE,CAAU7tB,GACR1vB,KAAKshC,QAAQiL,WAAa7c,EAAQ,GACpC,CACA,UAAA8tB,CAAWtR,GACTlsC,KAAKshC,QAAQ4K,SAAWA,CAC1B,CACA,OAAA8M,CAAQyE,EAAaxlC,GACnB,MAAMylC,EAAU19C,KAAKkvB,WAAW5e,IAAImtC,GAC9Bnc,EAAUthC,KAAKshC,QACrB,IAAKoc,EACH,MAAM,IAAIr5B,MAAM,uBAAuBo5B,KAczC,GAZAnc,EAAQ0K,WAAa0R,EAAQ1R,YAAcxuC,EAAKyuC,qBAClB,IAA1B3K,EAAQ0K,WAAW,IAAsC,IAA1B1K,EAAQ0K,WAAW,KACpD,EAAGxuC,EAAKiK,MAAM,gCAAkCg2C,GAE9CxlC,EAAO,GACTA,GAAQA,EACRqpB,EAAQqc,eAAiB,GAEzBrc,EAAQqc,cAAgB,EAE1B39C,KAAKshC,QAAQjG,KAAOqiB,EACpB19C,KAAKshC,QAAQvtB,SAAWkE,EACpBylC,EAAQE,YACV,OAEF,MAAMtzC,EAAOozC,EAAQG,YAAc,aAC7BC,EAAWJ,EAAQK,gBAAgBC,KAAO,IAAI1zC,OAAUozC,EAAQO,eACtE,IAAIC,EAAO,SACPR,EAAQtU,MACV8U,EAAO,MACER,EAAQQ,OACjBA,EAAO,QAET,MAAMC,EAAST,EAAQS,OAAS,SAAW,SAC3C,IAAIC,EAAkBnmC,EAClBA,EAvxCc,GAwxChBmmC,EAxxCgB,GAyxCPnmC,EAxxCO,MAyxChBmmC,EAzxCgB,KA2xClBp+C,KAAKshC,QAAQsK,cAAgB3zB,EAAOmmC,EACpCp+C,KAAK2/B,IAAItE,KAAO,GAAG8iB,KAAUD,KAAQE,OAAqBN,GAC5D,CACA,oBAAAO,CAAqBnwC,GACnBlO,KAAKshC,QAAQkL,kBAAoBt+B,CACnC,CACA,WAAAowC,CAAYC,GACVv+C,KAAKshC,QAAQqL,SAAW4R,CAC1B,CACA,QAAAC,CAASpgD,EAAGI,GACVwB,KAAKshC,QAAQljC,EAAI4B,KAAKshC,QAAQ6K,OAAS/tC,EACvC4B,KAAKshC,QAAQ9iC,EAAIwB,KAAKshC,QAAQ8K,OAAS5tC,CACzC,CACA,kBAAAigD,CAAmBrgD,EAAGI,GACpBwB,KAAKw9C,YAAYh/C,GACjBwB,KAAKw+C,SAASpgD,EAAGI,EACnB,CACA,aAAAkgD,CAAch9B,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,GAC3B36C,KAAKshC,QAAQuK,WAAa,CAACnqB,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,GAC1C36C,KAAKshC,QAAQyK,gBAAkBluC,KAAK4tC,MAAM/pB,EAAGviB,GAC7Ca,KAAKshC,QAAQljC,EAAI4B,KAAKshC,QAAQ6K,MAAQ,EACtCnsC,KAAKshC,QAAQ9iC,EAAIwB,KAAKshC,QAAQ8K,MAAQ,CACxC,CACA,QAAAuS,GACE3+C,KAAKw+C,SAAS,EAAGx+C,KAAKshC,QAAQ4K,QAChC,CACA,SAAA0S,CAAUC,EAAWzgD,EAAGI,EAAGsgD,GACzB,MAAMnf,EAAM3/B,KAAK2/B,IACX2B,EAAUthC,KAAKshC,QACfjG,EAAOiG,EAAQjG,KACfmR,EAAoBlL,EAAQkL,kBAC5Bz4B,EAAWutB,EAAQvtB,SAAWutB,EAAQsK,cACtCmT,EAAiBvS,EAAoBhvC,EAAKivC,kBAAkBuS,iBAC5DC,KAAoBzS,EAAoBhvC,EAAKivC,kBAAkByS,kBAC/DtS,EAActL,EAAQsL,cAAgBvR,EAAK8jB,YACjD,IAAIhC,EA2BJ,IA1BI9hB,EAAK3U,iBAAmBu4B,GAAkBrS,KAC5CuQ,EAAY9hB,EAAK+jB,iBAAiBp/C,KAAKkvB,WAAY2vB,IAEjDxjB,EAAK3U,iBAAmBkmB,GAC1BjN,EAAIwI,OACJxI,EAAIqC,UAAU5jC,EAAGI,GACjBmhC,EAAIoC,YACJob,EAAUxd,EAAK5rB,GACX+qC,GACFnf,EAAI4C,gBAAgBuc,GAElBC,IAAmBvhD,EAAKivC,kBAAkBC,MAAQqS,IAAmBvhD,EAAKivC,kBAAkB4S,aAC9F1f,EAAIwC,OAEF4c,IAAmBvhD,EAAKivC,kBAAkB6S,QAAUP,IAAmBvhD,EAAKivC,kBAAkB4S,aAChG1f,EAAIwc,SAENxc,EAAIiT,YAEAmM,IAAmBvhD,EAAKivC,kBAAkBC,MAAQqS,IAAmBvhD,EAAKivC,kBAAkB4S,aAC9F1f,EAAI4f,SAASV,EAAWzgD,EAAGI,GAEzBugD,IAAmBvhD,EAAKivC,kBAAkB6S,QAAUP,IAAmBvhD,EAAKivC,kBAAkB4S,aAChG1f,EAAI6f,WAAWX,EAAWzgD,EAAGI,IAG7BygD,EAAgB,EACJj/C,KAAKi9C,mBAAqB,IAClChxC,KAAK,CACTykB,WAAW,EAAGjzB,EAAc+jC,qBAAqB7B,GACjDvhC,IACAI,IACAuV,WACAopC,aAEJ,CACF,CACA,2BAAIsC,GACF,MACEx+B,QAAS0e,GACP3/B,KAAK2hC,eAAeC,UAAU,0BAA2B,GAAI,IACjEjC,EAAIjQ,MAAM,IAAK,GACfiQ,EAAI4f,SAAS,IAAK,EAAG,IACrB,MAAMz+C,EAAO6+B,EAAI+S,aAAa,EAAG,EAAG,GAAI,IAAI5xC,KAC5C,IAAIs6B,GAAU,EACd,IAAK,IAAI7e,EAAI,EAAGA,EAAIzb,EAAKuK,OAAQkR,GAAK,EACpC,GAAIzb,EAAKyb,GAAK,GAAKzb,EAAKyb,GAAK,IAAK,CAChC6e,GAAU,EACV,KACF,CAEF,OAAO,EAAG59B,EAAKqL,QAAQ7I,KAAM,0BAA2Bo7B,EAC1D,CACA,QAAAskB,CAASC,GACP,MAAMre,EAAUthC,KAAKshC,QACfjG,EAAOiG,EAAQjG,KACrB,GAAIA,EAAKuiB,YACP,OAAO59C,KAAK4/C,cAAcD,GAE5B,MAAM5rC,EAAWutB,EAAQvtB,SACzB,GAAiB,IAAbA,EACF,OAEF,MAAM4rB,EAAM3/B,KAAK2/B,IACXiM,EAAgBtK,EAAQsK,cACxBS,EAAc/K,EAAQ+K,YACtBC,EAAchL,EAAQgL,YACtBqR,EAAgBrc,EAAQqc,cACxBpR,EAAajL,EAAQiL,WAAaoR,EAClCkC,EAAeF,EAAOt0C,OACtBy0C,EAAWzkB,EAAKykB,SAChBC,EAAaD,EAAW,GAAK,EAC7BE,EAAkB3kB,EAAK2kB,gBACvBC,EAAoBlsC,EAAWutB,EAAQ0K,WAAW,GAClDkU,EAAiB5e,EAAQkL,oBAAsBhvC,EAAKivC,kBAAkBC,OAASrR,EAAK3U,kBAAoB4a,EAAQsL,YAStH,IAAIkS,EACJ,GATAnf,EAAIwI,OACJxI,EAAIjP,aAAa4Q,EAAQuK,YACzBlM,EAAIqC,UAAUV,EAAQljC,EAAGkjC,EAAQ9iC,EAAI8iC,EAAQqL,UACzCgR,EAAgB,EAClBhe,EAAIjQ,MAAM6c,GAAa,GAEvB5M,EAAIjQ,MAAM6c,EAAY,GAGpBjL,EAAQsL,YAAa,CACvBjN,EAAIwI,OACJ,MAAM/G,EAAUE,EAAQx3B,UAAUm2B,WAAWN,EAAK3/B,MAAM,EAAGvC,EAAcw6C,4BAA4BtY,GAAMF,GAC3Gqf,GAAmB,EAAGrhD,EAAc+jC,qBAAqB7B,GACzDA,EAAIiT,UACJjT,EAAIuC,UAAYd,CAClB,CACA,IAAI0L,EAAYxL,EAAQwL,UACxB,MAAMpd,EAAQ4R,EAAQyK,gBACtB,GAAc,IAAVrc,GAA6B,IAAdod,EAAiB,CAClC,MAAMiS,EAAiBzd,EAAQkL,kBAAoBhvC,EAAKivC,kBAAkBuS,iBACtED,IAAmBvhD,EAAKivC,kBAAkB6S,QAAUP,IAAmBvhD,EAAKivC,kBAAkB4S,cAChGvS,EAAY9sC,KAAKmgD,sBAErB,MACErT,GAAapd,EAOf,GALsB,IAAlBkc,IACFjM,EAAIjQ,MAAMkc,EAAeA,GACzBkB,GAAalB,GAEfjM,EAAImN,UAAYA,EACZzR,EAAK+kB,mBAAoB,CAC3B,MAAMC,EAAQ,GACd,IAAI5/C,EAAQ,EACZ,IAAK,MAAM6/C,KAASX,EAClBU,EAAMp0C,KAAKq0C,EAAMC,SACjB9/C,GAAS6/C,EAAM7/C,MAMjB,OAJAk/B,EAAI4f,SAASc,EAAM7gD,KAAK,IAAK,EAAG,GAChC8hC,EAAQljC,GAAKqC,EAAQw/C,EAAoB1T,EACzC5M,EAAIiT,eACJ5yC,KAAKk7C,SAEP,CACA,IACE3+B,EADEne,EAAI,EAER,IAAKme,EAAI,EAAGA,EAAIsjC,IAAgBtjC,EAAG,CACjC,MAAM+jC,EAAQX,EAAOpjC,GACrB,GAAqB,iBAAV+jC,EAAoB,CAC7BliD,GAAK2hD,EAAaO,EAAQvsC,EAAW,IACrC,QACF,CACA,IAAIysC,GAAgB,EACpB,MAAMnD,GAAWiD,EAAMG,QAAUnU,EAAc,GAAKD,EAC9CwS,EAAYyB,EAAMI,SAClBC,EAASL,EAAMK,OACrB,IAAIC,EAASC,EACTpgD,EAAQ6/C,EAAM7/C,MAClB,GAAIq/C,EAAU,CACZ,MAAMgB,EAAUR,EAAMQ,SAAWd,EAC3Be,IAAOT,EAAMQ,QAAUA,EAAQ,GAAa,GAARrgD,GAAew/C,EACnDe,EAAKF,EAAQ,GAAKb,EACxBx/C,EAAQqgD,GAAWA,EAAQ,GAAKrgD,EAChCmgD,EAAUG,EAAKnV,EACfiV,GAAWziD,EAAI4iD,GAAMpV,CACvB,MACEgV,EAAUxiD,EAAIwtC,EACdiV,EAAU,EAEZ,GAAIxlB,EAAK4lB,WAAaxgD,EAAQ,EAAG,CAC/B,MAAMygD,EAAmD,IAAnCvhB,EAAIwhB,YAAYtC,GAAWp+C,MAAesT,EAAW63B,EAC3E,GAAInrC,EAAQygD,GAAiBlhD,KAAKy/C,wBAAyB,CACzD,MAAM2B,EAAkB3gD,EAAQygD,EAChCV,GAAgB,EAChB7gB,EAAIwI,OACJxI,EAAIjQ,MAAM0xB,EAAiB,GAC3BR,GAAWQ,CACb,MAAW3gD,IAAUygD,IACnBN,IAAYngD,EAAQygD,GAAiB,IAAOntC,EAAW63B,EAE3D,CACA,GAAI5rC,KAAKs0C,iBAAmBgM,EAAMe,UAAYhmB,EAAK8jB,aACjD,GAAIe,IAAmBS,EACrBhhB,EAAI4f,SAASV,EAAW+B,EAASC,QAGjC,GADA7gD,KAAK4+C,UAAUC,EAAW+B,EAASC,EAAS/B,GACxC6B,EAAQ,CACV,MAAMW,EAAgBV,EAAU7sC,EAAW4sC,EAAOY,OAAOnjD,EAAIwtC,EACvD4V,EAAgBX,EAAU9sC,EAAW4sC,EAAOY,OAAO/iD,EAAIotC,EAC7D5rC,KAAK4+C,UAAU+B,EAAOD,SAAUY,EAAeE,EAAe1C,EAChE,CAIJ1gD,GADkB0hD,EAAWr/C,EAAQw/C,EAAoB5C,EAAUM,EAAgBl9C,EAAQw/C,EAAoB5C,EAAUM,EAErH6C,GACF7gB,EAAIiT,SAER,CACIkN,EACFxe,EAAQ9iC,GAAKJ,EAEbkjC,EAAQljC,GAAKA,EAAImuC,EAEnB5M,EAAIiT,UACJ5yC,KAAKk7C,SAEP,CACA,aAAA0E,CAAcD,GACZ,MAAMhgB,EAAM3/B,KAAK2/B,IACX2B,EAAUthC,KAAKshC,QACfjG,EAAOiG,EAAQjG,KACftnB,EAAWutB,EAAQvtB,SACnB4pC,EAAgBrc,EAAQqc,cACxBoC,EAAa1kB,EAAKykB,SAAW,GAAK,EAClCzT,EAAc/K,EAAQ+K,YACtBC,EAAchL,EAAQgL,YACtBC,EAAajL,EAAQiL,WAAaoR,EAClC3R,EAAa1K,EAAQ0K,YAAcxuC,EAAKyuC,qBACxC4T,EAAeF,EAAOt0C,OAE5B,IAAIkR,EAAG+jC,EAAO7/C,EAAOghD,EACrB,KAFwBngB,EAAQkL,oBAAsBhvC,EAAKivC,kBAAkBiV,YAEzC,IAAb3tC,EAAvB,CASA,IANA/T,KAAK20C,wBAAwB,IAAM,EACnC30C,KAAK40C,2BAA6B,KAClCjV,EAAIwI,OACJxI,EAAIjP,aAAa4Q,EAAQuK,YACzBlM,EAAIqC,UAAUV,EAAQljC,EAAGkjC,EAAQ9iC,GACjCmhC,EAAIjQ,MAAM6c,EAAYoR,GACjBphC,EAAI,EAAGA,EAAIsjC,IAAgBtjC,EAAG,CAEjC,GADA+jC,EAAQX,EAAOpjC,GACM,iBAAV+jC,EAAoB,CAC7BmB,EAAgB1B,EAAaO,EAAQvsC,EAAW,IAChD/T,KAAK2/B,IAAIqC,UAAUyf,EAAe,GAClCngB,EAAQljC,GAAKqjD,EAAgBlV,EAC7B,QACF,CACA,MAAM8Q,GAAWiD,EAAMG,QAAUnU,EAAc,GAAKD,EAC9C9a,EAAe8J,EAAKsmB,qBAAqBrB,EAAMsB,gBACrD,IAAKrwB,EAAc,EACjB,EAAG/zB,EAAKiK,MAAM,oBAAoB64C,EAAMsB,qCACxC,QACF,CACI5hD,KAAKs0C,iBACPt0C,KAAKg0C,gBAAkBsM,EACvBtgD,KAAKmoC,OACLxI,EAAIjQ,MAAM3b,EAAUA,GACpB4rB,EAAIjP,aAAasb,GACjBhsC,KAAKi+B,oBAAoB1M,GACzBvxB,KAAK4yC,WAGPnyC,EADoBjD,EAAKkJ,KAAK2mC,eAAe,CAACiT,EAAM7/C,MAAO,GAAIurC,GAC3C,GAAKj4B,EAAWspC,EACpC1d,EAAIqC,UAAUvhC,EAAO,GACrB6gC,EAAQljC,GAAKqC,EAAQ8rC,CACvB,CACA5M,EAAIiT,UACJ5yC,KAAKg0C,gBAAkB,IAnCvB,CAoCF,CACA,YAAA6N,CAAaC,EAAQC,GAAS,CAC9B,qBAAAC,CAAsBF,EAAQC,EAAQE,EAAKC,EAAKC,EAAKC,GACnDpiD,KAAK2/B,IAAIn/B,KAAKyhD,EAAKC,EAAKC,EAAMF,EAAKG,EAAMF,GACzCliD,KAAK2/B,IAAII,OACT//B,KAAK4oC,SACP,CACA,iBAAAyZ,CAAkBliB,GAChB,IAAIiB,EACJ,GAAc,kBAAVjB,EAAG,GAAwB,CAC7B,MAAM9gC,EAAQ8gC,EAAG,GACX8B,EAAgBjiC,KAAKiiC,gBAAiB,EAAGxkC,EAAc+jC,qBAAqBxhC,KAAK2/B,KACjFoH,EAAwB,CAC5Ba,qBAAsBjI,GACb,IAAI/B,EAAe+B,EAAK3/B,KAAKkvB,WAAYlvB,KAAKmvB,KAAMnvB,KAAKwnB,cAAexnB,KAAKynB,cAAe,CACjGiL,sBAAuB1yB,KAAK0yB,sBAC5B+gB,mBAAoBzzC,KAAKyzC,sBAI/BrS,EAAU,IAAI0F,EAAc3G,EAAI9gC,EAAOW,KAAK2/B,IAAKoH,EAAuB9E,EAC1E,MACEb,EAAUphC,KAAKsiD,YAAYniB,EAAG,GAAIA,EAAG,IAEvC,OAAOiB,CACT,CACA,eAAAmhB,GACEviD,KAAKshC,QAAQr3B,YAAcjK,KAAKqiD,kBAAkBG,UACpD,CACA,aAAAC,GACEziD,KAAKshC,QAAQx3B,UAAY9J,KAAKqiD,kBAAkBG,WAChDxiD,KAAKshC,QAAQsL,aAAc,CAC7B,CACA,iBAAA8V,CAAkBxjD,EAAGN,EAAGO,GACtB,MAAME,EAAQ7B,EAAKkJ,KAAKmB,aAAa3I,EAAGN,EAAGO,GAC3Ca,KAAK2/B,IAAIkJ,YAAcxpC,EACvBW,KAAKshC,QAAQr3B,YAAc5K,CAC7B,CACA,eAAAsjD,CAAgBzjD,EAAGN,EAAGO,GACpB,MAAME,EAAQ7B,EAAKkJ,KAAKmB,aAAa3I,EAAGN,EAAGO,GAC3Ca,KAAK2/B,IAAIuC,UAAY7iC,EACrBW,KAAKshC,QAAQx3B,UAAYzK,EACzBW,KAAKshC,QAAQsL,aAAc,CAC7B,CACA,WAAA0V,CAAYnmB,EAAOuE,EAAS,MAC1B,IAAIU,EAUJ,OATIphC,KAAKu0C,eAAepnC,IAAIgvB,GAC1BiF,EAAUphC,KAAKu0C,eAAejkC,IAAI6rB,IAElCiF,EA31DN,SAA2BjB,GACzB,OAAQA,EAAG,IACT,IAAK,cACH,OAAO,IAAID,EAA0BC,GACvC,IAAK,OACH,OAAO,IAAIuF,EAAmBvF,GAChC,IAAK,QACH,OAAO,IAAIyG,EAEf,MAAM,IAAIviB,MAAM,oBAAoB8b,EAAG,KACzC,CAi1DgByiB,CAAkB5iD,KAAK80C,UAAU3Y,IAC3Cn8B,KAAKu0C,eAAex1B,IAAIod,EAAOiF,IAE7BV,IACFU,EAAQV,OAASA,GAEZU,CACT,CACA,WAAAyhB,CAAY1mB,GACV,IAAKn8B,KAAKs0C,eACR,OAEF,MAAM3U,EAAM3/B,KAAK2/B,IACjB3/B,KAAKmoC,OACL,MAAM/G,EAAUphC,KAAKsiD,YAAYnmB,GACjCwD,EAAIuC,UAAYd,EAAQnB,WAAWN,EAAK3/B,MAAM,EAAGvC,EAAcw6C,4BAA4BtY,GAAMF,GACjG,MAAMqjB,GAAM,EAAGrlD,EAAcw6C,4BAA4BtY,GACzD,GAAImjB,EAAK,CACP,MAAM,MACJriD,EAAK,OACLC,GACEi/B,EAAIzgB,QACDmoB,EAAIC,EAAIlE,EAAIE,GAAM9lC,EAAKkJ,KAAKkxC,2BAA2B,CAAC,EAAG,EAAGn3C,EAAOC,GAASoiD,GACrF9iD,KAAK2/B,IAAIuV,SAAS7N,EAAIC,EAAIlE,EAAKiE,EAAI/D,EAAKgE,EAC1C,MACEtnC,KAAK2/B,IAAIuV,UAAU,MAAO,KAAM,KAAM,MAExCl1C,KAAKk7C,QAAQl7C,KAAKshC,QAAQC,6BAC1BvhC,KAAK4yC,SACP,CACA,gBAAAmQ,IACE,EAAGvlD,EAAKkP,aAAa,mCACvB,CACA,cAAAs2C,IACE,EAAGxlD,EAAKkP,aAAa,iCACvB,CACA,qBAAAu2C,CAAsBviB,EAAQd,GAC5B,GAAK5/B,KAAKs0C,iBAGVt0C,KAAKmoC,OACLnoC,KAAKi0C,mBAAmBhoC,KAAKjM,KAAKiiC,eAC9Bp0B,MAAMC,QAAQ4yB,IAA6B,IAAlBA,EAAOr1B,QAClCrL,KAAK0wB,aAAagQ,GAEpB1gC,KAAKiiC,eAAgB,EAAGxkC,EAAc+jC,qBAAqBxhC,KAAK2/B,KAC5DC,GAAM,CACR,MAAMn/B,EAAQm/B,EAAK,GAAKA,EAAK,GACvBl/B,EAASk/B,EAAK,GAAKA,EAAK,GAC9B5/B,KAAK2/B,IAAIn/B,KAAKo/B,EAAK,GAAIA,EAAK,GAAIn/B,EAAOC,GACvCV,KAAKshC,QAAQqH,kBAAiB,EAAGlrC,EAAc+jC,qBAAqBxhC,KAAK2/B,KAAMC,GAC/E5/B,KAAK+/B,OACL//B,KAAK4oC,SACP,CACF,CACA,mBAAAsa,GACOljD,KAAKs0C,iBAGVt0C,KAAK4yC,UACL5yC,KAAKiiC,cAAgBjiC,KAAKi0C,mBAAmBoH,MAC/C,CACA,UAAA8H,CAAWC,GACT,IAAKpjD,KAAKs0C,eACR,OAEFt0C,KAAKmoC,OACDnoC,KAAKo2C,cACPp2C,KAAKm5C,eACLn5C,KAAKshC,QAAQyL,YAAc,MAE7B,MAAMsW,EAAarjD,KAAK2/B,IACnByjB,EAAME,WACT,EAAG9lD,EAAK05B,MAAM,sCAEZksB,EAAMG,WACR,EAAG/lD,EAAKiK,MAAM,kCAEhB,MAAM4vC,GAAmB,EAAG55C,EAAc+jC,qBAAqB6hB,GAI/D,GAHID,EAAM1iB,QACR2iB,EAAW3yB,aAAa0yB,EAAM1iB,SAE3B0iB,EAAMxjB,KACT,MAAM,IAAIvb,MAAM,6BAElB,IAAIm/B,EAAShmD,EAAKkJ,KAAKkxC,2BAA2BwL,EAAMxjB,MAAM,EAAGniC,EAAc+jC,qBAAqB6hB,IACpG,MAAMI,EAAe,CAAC,EAAG,EAAGJ,EAAWnkC,OAAOze,MAAO4iD,EAAWnkC,OAAOxe,QACvE8iD,EAAShmD,EAAKkJ,KAAKqV,UAAUynC,EAAQC,IAAiB,CAAC,EAAG,EAAG,EAAG,GAChE,MAAM9zB,EAAU9xB,KAAKC,MAAM0lD,EAAO,IAC5B5zB,EAAU/xB,KAAKC,MAAM0lD,EAAO,IAClC,IAAI3L,EAAah6C,KAAKE,IAAIF,KAAK4jC,KAAK+hB,EAAO,IAAM7zB,EAAS,GACtDmoB,EAAcj6C,KAAKE,IAAIF,KAAK4jC,KAAK+hB,EAAO,IAAM5zB,EAAS,GACvDyT,EAAS,EACXE,EAAS,EACPsU,EAAa/N,IACfzG,EAASwU,EAAa/N,EACtB+N,EAAa/N,GAEXgO,EAAchO,IAChBvG,EAASuU,EAAchO,EACvBgO,EAAchO,GAEhB9pC,KAAKshC,QAAQ2L,uBAAuB,CAAC,EAAG,EAAG4K,EAAYC,IACvD,IAAIsB,EAAU,UAAYp5C,KAAK6nC,WAC3Bub,EAAM3R,QACR2H,GAAW,UAAYp5C,KAAKm0C,eAAiB,GAE/C,MAAMkF,EAAgBr5C,KAAK2hC,eAAeC,UAAUwX,EAASvB,EAAYC,GACnE4L,EAAWrK,EAAcp4B,QAC/ByiC,EAASh0B,MAAM,EAAI2T,EAAQ,EAAIE,GAC/BmgB,EAAS1hB,WAAWrS,GAAUC,GAC9B8zB,EAAShzB,aAAa2mB,GAClB+L,EAAM3R,MACRzxC,KAAKk0C,WAAWjoC,KAAK,CACnBiT,OAAQm6B,EAAcn6B,OACtB+B,QAASyiC,EACT/zB,UACAC,UACAyT,SACAE,SACA0O,QAASmR,EAAM3R,MAAMQ,QACrBC,SAAUkR,EAAM3R,MAAMS,SACtBZ,YAAa8R,EAAM3R,MAAMH,aAAe,KACxCqS,sBAAuB,QAGzBN,EAAW9gB,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GACvC8gB,EAAWrhB,UAAUrS,EAASC,GAC9ByzB,EAAW3zB,MAAM2T,EAAQE,GACzB8f,EAAWlb,QAEb2H,EAAauT,EAAYK,GACzB1jD,KAAK2/B,IAAM+jB,EACX1jD,KAAK84C,UAAU,CAAC,CAAC,KAAM,eAAgB,CAAC,KAAM,GAAI,CAAC,KAAM,KACzD94C,KAAK+zC,WAAW9nC,KAAKo3C,GACrBrjD,KAAK6nC,YACP,CACA,QAAA+b,CAASR,GACP,IAAKpjD,KAAKs0C,eACR,OAEFt0C,KAAK6nC,aACL,MAAM6b,EAAW1jD,KAAK2/B,IAChBA,EAAM3/B,KAAK+zC,WAAWsH,MAG5B,GAFAr7C,KAAK2/B,IAAMA,EACX3/B,KAAK2/B,IAAIuY,uBAAwB,EAC7BkL,EAAM3R,MACRzxC,KAAKo0C,UAAYp0C,KAAKk0C,WAAWmH,MACjCr7C,KAAK4yC,cACA,CACL5yC,KAAK2/B,IAAIiT,UACT,MAAMiR,GAAa,EAAGpmD,EAAc+jC,qBAAqBxhC,KAAK2/B,KAC9D3/B,KAAK4yC,UACL5yC,KAAK2/B,IAAIwI,OACTnoC,KAAK2/B,IAAI4C,gBAAgBshB,GACzB,MAAM1I,EAAW39C,EAAKkJ,KAAKkxC,2BAA2B,CAAC,EAAG,EAAG8L,EAASxkC,OAAOze,MAAOijD,EAASxkC,OAAOxe,QAASmjD,GAC7G7jD,KAAK2/B,IAAI6L,UAAUkY,EAASxkC,OAAQ,EAAG,GACvClf,KAAK2/B,IAAIiT,UACT5yC,KAAKk7C,QAAQC,EACf,CACF,CACA,eAAA2I,CAAgBp+C,EAAIlF,EAAMkwB,EAAWgQ,EAAQl6B,GAQ3C,GAPAxG,MAAK,KACLswC,EAAkBtwC,KAAK2/B,KACvB3/B,KAAK2/B,IAAIwI,OACTnoC,KAAKmoC,OACDnoC,KAAKiiC,eACPjiC,KAAK2/B,IAAI4C,gBAAgBviC,KAAKiiC,eAE5Bp0B,MAAMC,QAAQtN,IAAyB,IAAhBA,EAAK6K,OAAc,CAC5C,MAAM5K,EAAQD,EAAK,GAAKA,EAAK,GACvBE,EAASF,EAAK,GAAKA,EAAK,GAC9B,GAAIgG,GAAgBxG,KAAKke,oBAAqB,EAC5CwS,EAAYA,EAAUzwB,SACZ,IAAMO,EAAK,GACrBkwB,EAAU,IAAMlwB,EAAK,IACrBA,EAAOA,EAAKP,SACP,GAAKO,EAAK,GAAK,EACpBA,EAAK,GAAKC,EACVD,EAAK,GAAKE,EACV,MAAO2iC,EAAQE,GAAU/lC,EAAKkJ,KAAK+/B,+BAA8B,EAAGhpC,EAAc+jC,qBAAqBxhC,KAAK2/B,OACtG,cACJ6U,GACEx0C,KACE+jD,EAAclmD,KAAK4jC,KAAKhhC,EAAQT,KAAKy0C,aAAeD,GACpDwP,EAAenmD,KAAK4jC,KAAK/gC,EAASV,KAAK00C,aAAeF,GAC5Dx0C,KAAKikD,iBAAmBjkD,KAAKwnB,cAAc5mB,OAAOmjD,EAAaC,GAC/D,MAAM,OACJ9kC,EAAM,QACN+B,GACEjhB,KAAKikD,iBACTjkD,KAAKke,oBAAoBa,IAAIrZ,EAAIwZ,GACjClf,KAAKikD,iBAAiBC,SAAWlkD,KAAK2/B,IACtC3/B,KAAK2/B,IAAM1e,EACXjhB,KAAK2/B,IAAIwI,OACTnoC,KAAK2/B,IAAI4C,aAAac,EAAQ,EAAG,GAAIE,EAAQ,EAAG7iC,EAAS6iC,GACzD+M,EAAkBtwC,KAAK2/B,IACzB,MACE2Q,EAAkBtwC,KAAK2/B,KACvB3/B,KAAK2/B,IAAIn/B,KAAKA,EAAK,GAAIA,EAAK,GAAIC,EAAOC,GACvCV,KAAK2/B,IAAII,OACT//B,KAAK4oC,SAET,CACA5oC,KAAKshC,QAAU,IAAIoK,EAAiB1rC,KAAK2/B,IAAIzgB,OAAOze,MAAOT,KAAK2/B,IAAIzgB,OAAOxe,QAC3EV,KAAK0wB,aAAaA,GAClB1wB,KAAK0wB,aAAagQ,EACpB,CACA,aAAAyjB,GACMnkD,KAAKikD,mBACPjkD,KAAK2/B,IAAIiT,UACT5yC,MAAK,KACLA,KAAK2/B,IAAM3/B,KAAKikD,iBAAiBC,gBAC1BlkD,KAAKikD,iBAAiBC,gBACtBlkD,KAAKikD,iBAEhB,CACA,qBAAAG,CAAsB1N,GACpB,IAAK12C,KAAKs0C,eACR,OAEF,MAAMkD,EAAQd,EAAIc,OAClBd,EAAM12C,KAAK80C,UAAU4B,EAAI51C,KAAM41C,IAC3Bc,MAAQA,EACZ,MAAM7X,EAAM3/B,KAAK2/B,IACX2gB,EAAQtgD,KAAKg0C,gBACnB,GAAIsM,SACqBvgC,IAAnBugC,EAAM+D,WACR/D,EAAM+D,SAzpDd,SAA2B/V,GACzB,MAAM,MACJ7tC,EAAK,OACLC,GACE4tC,EACJ,GAAI7tC,EAvKsB,KAuKSC,EAvKT,IAwKxB,OAAO,KAET,MACM4jD,EAAc,IAAIx/B,WAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,IAC5Ey/B,EAAS9jD,EAAQ,EACvB,IACI8b,EAAG0oB,EAAGuf,EADNlnC,EAAS,IAAIwH,WAAWy/B,GAAU7jD,EAAS,IAE/C,MAAM+jD,EAAWhkD,EAAQ,GAAI,EAC7B,IAAIK,EAAO,IAAIgkB,WAAW2/B,EAAW/jD,GACnCgkD,EAAM,EACR,IAAK,MAAM7a,KAAQyE,EAAQxtC,KAAM,CAC/B,IAAI0uC,EAAO,IACX,KAAOA,EAAO,GACZ1uC,EAAK4jD,KAAS7a,EAAO2F,EAAO,EAAI,IAChCA,IAAS,CAEb,CACA,IAAIgI,EAAQ,EAMZ,IALAkN,EAAM,EACY,IAAd5jD,EAAK4jD,KACPpnC,EAAO,GAAK,IACVk6B,GAECvS,EAAI,EAAGA,EAAIxkC,EAAOwkC,IACjBnkC,EAAK4jD,KAAS5jD,EAAK4jD,EAAM,KAC3BpnC,EAAO2nB,GAAKnkC,EAAK4jD,GAAO,EAAI,IAC1BlN,GAEJkN,IAMF,IAJkB,IAAd5jD,EAAK4jD,KACPpnC,EAAO2nB,GAAK,IACVuS,GAECj7B,EAAI,EAAGA,EAAI7b,EAAQ6b,IAAK,CAC3BmoC,EAAMnoC,EAAIkoC,EACVD,EAAKjoC,EAAIgoC,EACLzjD,EAAK4jD,EAAMD,KAAc3jD,EAAK4jD,KAChCpnC,EAAOknC,GAAM1jD,EAAK4jD,GAAO,EAAI,IAC3BlN,GAEJ,IAAImN,GAAO7jD,EAAK4jD,GAAO,EAAI,IAAM5jD,EAAK4jD,EAAMD,GAAY,EAAI,GAC5D,IAAKxf,EAAI,EAAGA,EAAIxkC,EAAOwkC,IACrB0f,GAAOA,GAAO,IAAM7jD,EAAK4jD,EAAM,GAAK,EAAI,IAAM5jD,EAAK4jD,EAAMD,EAAW,GAAK,EAAI,GACzEH,EAAYK,KACdrnC,EAAOknC,EAAKvf,GAAKqf,EAAYK,KAC3BnN,GAEJkN,IAMF,GAJI5jD,EAAK4jD,EAAMD,KAAc3jD,EAAK4jD,KAChCpnC,EAAOknC,EAAKvf,GAAKnkC,EAAK4jD,GAAO,EAAI,IAC/BlN,GAEAA,EApDyB,IAqD3B,OAAO,IAEX,CAOA,IANAkN,EAAMD,GAAY/jD,EAAS,GAC3B8jD,EAAKjoC,EAAIgoC,EACS,IAAdzjD,EAAK4jD,KACPpnC,EAAOknC,GAAM,IACXhN,GAECvS,EAAI,EAAGA,EAAIxkC,EAAOwkC,IACjBnkC,EAAK4jD,KAAS5jD,EAAK4jD,EAAM,KAC3BpnC,EAAOknC,EAAKvf,GAAKnkC,EAAK4jD,GAAO,EAAI,IAC/BlN,GAEJkN,IAMF,GAJkB,IAAd5jD,EAAK4jD,KACPpnC,EAAOknC,EAAKvf,GAAK,IACfuS,GAEAA,EAzE2B,IA0E7B,OAAO,KAET,MAAM5B,EAAQ,IAAIgP,WAAW,CAAC,EAAGL,GAAS,EAAG,GAAIA,EAAQ,EAAG,EAAG,EAAG,IAC5DrH,EAAO,IAAIpd,OACjB,IAAKvjB,EAAI,EAAGi7B,GAASj7B,GAAK7b,EAAQ6b,IAAK,CACrC,IAAIH,EAAIG,EAAIgoC,EACZ,MAAMr4B,EAAM9P,EAAI3b,EAChB,KAAO2b,EAAI8P,IAAQ5O,EAAOlB,IACxBA,IAEF,GAAIA,IAAM8P,EACR,SAEFgxB,EAAKhD,OAAO99B,EAAImoC,EAAQhoC,GACxB,MAAMsoC,EAAKzoC,EACX,IAAIhL,EAAOkM,EAAOlB,GAClB,EAAG,CACD,MAAMisB,EAAOuN,EAAMxkC,GACnB,GACEgL,GAAKisB,SACG/qB,EAAOlB,IACjB,MAAM0oC,EAAKxnC,EAAOlB,GACP,IAAP0oC,GAAmB,KAAPA,GACd1zC,EAAO0zC,EACPxnC,EAAOlB,GAAK,IAEZhL,EAAO0zC,EAAK,GAAO1zC,GAAQ,EAC3BkM,EAAOlB,IAAMhL,GAAQ,EAAIA,GAAQ,GAEnC8rC,EAAK9C,OAAOh+B,EAAImoC,EAAQnoC,EAAImoC,EAAS,GAChCjnC,EAAOlB,MACRo7B,CAEN,OAASqN,IAAOzoC,KACdG,CACJ,CAWA,OAVAzb,EAAO,KACPwc,EAAS,KACW,SAAU/e,GAC5BA,EAAE4pC,OACF5pC,EAAEmxB,MAAM,EAAIjvB,GAAQ,EAAIC,GACxBnC,EAAEyjC,UAAU,GAAIthC,GAChBnC,EAAE4jC,KAAK+a,GACP3+C,EAAEwjC,YACFxjC,EAAEq0C,SACJ,CAEF,CAwhDyBmS,CAAkBrO,IAEjC4J,EAAM+D,UAER,YADA/D,EAAM+D,SAAS1kB,GAInB,MAAM6P,EAAOxvC,KAAKm3C,kBAAkBT,GAC9Ba,EAAa/H,EAAKtwB,OACxBygB,EAAIwI,OACJxI,EAAI4C,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GAChC5C,EAAI6L,UAAU+L,EAAY/H,EAAK7f,QAAS6f,EAAK5f,SAC7C+P,EAAIiT,UACJ5yC,KAAKk7C,SACP,CACA,2BAAA8J,CAA4BtO,EAAKrT,EAAQ4hB,EAAQ,EAAGC,EAAQ,EAAG3hB,EAAQ4hB,GACrE,IAAKnlD,KAAKs0C,eACR,OAEFoC,EAAM12C,KAAK80C,UAAU4B,EAAI51C,KAAM41C,GAC/B,MAAM/W,EAAM3/B,KAAK2/B,IACjBA,EAAIwI,OACJ,MAAMkP,GAAmB,EAAG55C,EAAc+jC,qBAAqB7B,GAC/DA,EAAIjP,UAAU2S,EAAQ4hB,EAAOC,EAAO3hB,EAAQ,EAAG,GAC/C,MAAMiM,EAAOxvC,KAAKm3C,kBAAkBT,GACpC/W,EAAI4C,aAAa,EAAG,EAAG,EAAG,EAAGiN,EAAK7f,QAAU0nB,EAAiB,GAAI7H,EAAK5f,QAAUynB,EAAiB,IACjG,IAAK,IAAI96B,EAAI,EAAGC,EAAK2oC,EAAU95C,OAAQkR,EAAIC,EAAID,GAAK,EAAG,CACrD,MAAM6oC,EAAQ5nD,EAAKkJ,KAAKgqB,UAAU2mB,EAAkB,CAAChU,EAAQ4hB,EAAOC,EAAO3hB,EAAQ4hB,EAAU5oC,GAAI4oC,EAAU5oC,EAAI,MACxGne,EAAGI,GAAKhB,EAAKkJ,KAAK2mC,eAAe,CAAC,EAAG,GAAI+X,GAChDzlB,EAAI6L,UAAUgE,EAAKtwB,OAAQ9gB,EAAGI,EAChC,CACAmhC,EAAIiT,UACJ5yC,KAAKk7C,SACP,CACA,0BAAAmK,CAA2BC,GACzB,IAAKtlD,KAAKs0C,eACR,OAEF,MAAM3U,EAAM3/B,KAAK2/B,IACX71B,EAAY9J,KAAKshC,QAAQx3B,UACzBstC,EAAgBp3C,KAAKshC,QAAQsL,YACnC,IAAK,MAAMl7B,KAAS4zC,EAAQ,CAC1B,MAAM,KACJxkD,EAAI,MACJL,EAAK,OACLC,EAAM,UACNgwB,GACEhf,EACE6lC,EAAav3C,KAAK2hC,eAAeC,UAAU,aAAcnhC,EAAOC,GAChEsxC,EAAUuF,EAAWt2B,QAC3B+wB,EAAQ7J,OAER0H,EAAmBmC,EADPhyC,KAAK80C,UAAUh0C,EAAM4Q,IAEjCsgC,EAAQpB,yBAA2B,YACnCoB,EAAQ9P,UAAYkV,EAAgBttC,EAAUm2B,WAAW+R,EAAShyC,MAAM,EAAGvC,EAAcw6C,4BAA4BtY,GAAMF,GAAiB31B,EAC5IkoC,EAAQkD,SAAS,EAAG,EAAGz0C,EAAOC,GAC9BsxC,EAAQY,UACRjT,EAAIwI,OACJxI,EAAIjP,aAAaA,GACjBiP,EAAIjQ,MAAM,GAAI,GACdya,EAAyBxK,EAAK4X,EAAWr4B,OAAQ,EAAG,EAAGze,EAAOC,EAAQ,GAAI,EAAG,EAAG,GAChFi/B,EAAIiT,SACN,CACA5yC,KAAKk7C,SACP,CACA,iBAAAqK,CAAkBppB,GAChB,IAAKn8B,KAAKs0C,eACR,OAEF,MAAMhG,EAAUtuC,KAAK80C,UAAU3Y,GAC1BmS,EAILtuC,KAAKwlD,wBAAwBlX,IAH3B,EAAG9wC,EAAKiK,MAAM,kCAIlB,CACA,uBAAAg+C,CAAwBtpB,EAAOkH,EAAQE,EAAQ4hB,GAC7C,IAAKnlD,KAAKs0C,eACR,OAEF,MAAMhG,EAAUtuC,KAAK80C,UAAU3Y,GAC/B,IAAKmS,EAEH,YADA,EAAG9wC,EAAKiK,MAAM,mCAGhB,MAAMhH,EAAQ6tC,EAAQ7tC,MAChBC,EAAS4tC,EAAQ5tC,OACjBpB,EAAM,GACZ,IAAK,IAAIid,EAAI,EAAGC,EAAK2oC,EAAU95C,OAAQkR,EAAIC,EAAID,GAAK,EAClDjd,EAAI2M,KAAK,CACPykB,UAAW,CAAC2S,EAAQ,EAAG,EAAGE,EAAQ4hB,EAAU5oC,GAAI4oC,EAAU5oC,EAAI,IAC9Dne,EAAG,EACHI,EAAG,EACHknD,EAAGjlD,EACHklD,EAAGjlD,IAGPV,KAAK4lD,6BAA6BtX,EAAShvC,EAC7C,CACA,yBAAAumD,CAA0BlmB,GAMxB,MALkC,SAA9B3/B,KAAKshC,QAAQ0L,eACfrN,EAAI5mB,OAAS/Y,KAAKshC,QAAQ0L,aAC1BrN,EAAI6L,UAAU7L,EAAIzgB,OAAQ,EAAG,GAC7BygB,EAAI5mB,OAAS,QAER4mB,EAAIzgB,MACb,CACA,yBAAA4mC,CAA0BxX,GACxB,GAAkC,SAA9BtuC,KAAKshC,QAAQ0L,aACf,OAAOsB,EAAQjtB,OAEjB,MAAM,OACJA,EAAM,MACN5gB,EAAK,OACLC,GACE4tC,EACE5M,EAAY1hC,KAAK2hC,eAAeC,UAAU,cAAenhC,EAAOC,GAChEmhC,EAASH,EAAUzgB,QAIzB,OAHA4gB,EAAO9oB,OAAS/Y,KAAKshC,QAAQ0L,aAC7BnL,EAAO2J,UAAUnqB,EAAQ,EAAG,GAC5BwgB,EAAO9oB,OAAS,OACT2oB,EAAUxiB,MACnB,CACA,uBAAAsmC,CAAwBlX,GACtB,IAAKtuC,KAAKs0C,eACR,OAEF,MAAM7zC,EAAQ6tC,EAAQ7tC,MAChBC,EAAS4tC,EAAQ5tC,OACjBi/B,EAAM3/B,KAAK2/B,IAEjB,GADA3/B,KAAKmoC,QACA3qC,EAAK+lB,SAAU,CAClB,MAAM,OACJxK,GACE4mB,EACW,SAAX5mB,GAAgC,KAAXA,IACvB4mB,EAAI5mB,OAAS,OAEjB,CAEA,IAAIgtC,EACJ,GAFApmB,EAAIjQ,MAAM,EAAIjvB,GAAQ,EAAIC,GAEtB4tC,EAAQjtB,OACV0kC,EAAa/lD,KAAK8lD,0BAA0BxX,QACvC,GAA2B,mBAAhB0X,aAA8B1X,aAAmB0X,cAAgB1X,EAAQxtC,KACzFilD,EAAazX,MACR,CACL,MACMzM,EADY7hC,KAAK2hC,eAAeC,UAAU,cAAenhC,EAAOC,GAC7CugB,QACzBotB,EAAmBxM,EAAQyM,GAC3ByX,EAAa/lD,KAAK6lD,0BAA0BhkB,EAC9C,CACA,MAAMyV,EAASt3C,KAAKy2C,YAAYsP,GAAY,EAAGtoD,EAAcw6C,4BAA4BtY,IACzFA,EAAIuY,sBAAwBrF,GAAyB,EAAGp1C,EAAc+jC,qBAAqB7B,GAAM2O,EAAQwE,aACzG3I,EAAyBxK,EAAK2X,EAAOZ,IAAK,EAAG,EAAGY,EAAOR,WAAYQ,EAAOP,YAAa,GAAIr2C,EAAQD,EAAOC,GAC1GV,KAAKk7C,UACLl7C,KAAK4yC,SACP,CACA,4BAAAgT,CAA6BtX,EAAShvC,GACpC,IAAKU,KAAKs0C,eACR,OAEF,MAAM3U,EAAM3/B,KAAK2/B,IACjB,IAAIomB,EACJ,GAAIzX,EAAQjtB,OACV0kC,EAAazX,EAAQjtB,WAChB,CACL,MAAMqkC,EAAIpX,EAAQ7tC,MACZklD,EAAIrX,EAAQ5tC,OAEZmhC,EADY7hC,KAAK2hC,eAAeC,UAAU,cAAe8jB,EAAGC,GACzC1kC,QACzBotB,EAAmBxM,EAAQyM,GAC3ByX,EAAa/lD,KAAK6lD,0BAA0BhkB,EAC9C,CACA,IAAK,MAAMphB,KAASnhB,EAClBqgC,EAAIwI,OACJxI,EAAIjP,aAAajQ,EAAMiQ,WACvBiP,EAAIjQ,MAAM,GAAI,GACdya,EAAyBxK,EAAKomB,EAAYtlC,EAAMriB,EAAGqiB,EAAMjiB,EAAGiiB,EAAMilC,EAAGjlC,EAAMklC,EAAG,GAAI,EAAG,EAAG,GACxFhmB,EAAIiT,UAEN5yC,KAAKk7C,SACP,CACA,wBAAA+K,GACOjmD,KAAKs0C,iBAGVt0C,KAAK2/B,IAAIuV,SAAS,EAAG,EAAG,EAAG,GAC3Bl1C,KAAKk7C,UACP,CACA,SAAAgL,CAAUC,GAAM,CAChB,cAAAC,CAAeD,EAAKlW,GAAa,CACjC,kBAAAoW,CAAmBF,GACjBnmD,KAAKyzC,mBAAmBxnC,KAAK,CAC3Bq6C,SAAS,GAEb,CACA,uBAAAC,CAAwBJ,EAAKlW,GACf,OAARkW,EACFnmD,KAAKyzC,mBAAmBxnC,KAAK,CAC3Bq6C,QAAStmD,KAAK0yB,sBAAsB9V,UAAUqzB,KAGhDjwC,KAAKyzC,mBAAmBxnC,KAAK,CAC3Bq6C,SAAS,IAGbtmD,KAAKs0C,eAAiBt0C,KAAKwmD,kBAC7B,CACA,gBAAAC,GACEzmD,KAAKyzC,mBAAmB4H,MACxBr7C,KAAKs0C,eAAiBt0C,KAAKwmD,kBAC7B,CACA,WAAAE,GAAe,CACf,SAAAC,GAAa,CACb,WAAAvK,CAAYlP,GACV,MAAM0Z,EAAU5mD,KAAKshC,QAAQ6M,cACzBnuC,KAAK2zC,aACP3zC,KAAKshC,QAAQ4M,qBAEVluC,KAAK2zC,aACR3zC,KAAKk7C,QAAQhO,GAEf,MAAMvN,EAAM3/B,KAAK2/B,IACb3/B,KAAK2zC,cACFiT,IACC5mD,KAAK2zC,cAAgBJ,EACvB5T,EAAII,KAAK,WAETJ,EAAII,QAGR//B,KAAK2zC,YAAc,MAErB3zC,KAAKshC,QAAQ2L,uBAAuBjtC,KAAKshC,QAAQ4L,SACjDvN,EAAIoC,WACN,CACA,mBAAAoe,GACE,IAAKngD,KAAK40C,2BAA4B,CACpC,MAAMn2C,GAAI,EAAGhB,EAAc+jC,qBAAqBxhC,KAAK2/B,KACrD,GAAa,IAATlhC,EAAE,IAAqB,IAATA,EAAE,GAClBuB,KAAK40C,2BAA6B,EAAI/2C,KAAKG,IAAIH,KAAKuW,IAAI3V,EAAE,IAAKZ,KAAKuW,IAAI3V,EAAE,SACrE,CACL,MAAMooD,EAAShpD,KAAKuW,IAAI3V,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IACzCqoD,EAAQjpD,KAAK4tC,MAAMhtC,EAAE,GAAIA,EAAE,IAC3BsoD,EAAQlpD,KAAK4tC,MAAMhtC,EAAE,GAAIA,EAAE,IACjCuB,KAAK40C,2BAA6B/2C,KAAKE,IAAI+oD,EAAOC,GAASF,CAC7D,CACF,CACA,OAAO7mD,KAAK40C,0BACd,CACA,mBAAAoS,GACE,IAAyC,IAArChnD,KAAK20C,wBAAwB,GAAW,CAC1C,MAAM,UACJ7H,GACE9sC,KAAKshC,SACH,EACJ5f,EAAC,EACDviB,EAAC,EACDZ,EAAC,EACDpB,GACE6C,KAAK2/B,IAAIsnB,eACb,IAAI5jB,EAAQE,EACZ,GAAU,IAANpkC,GAAiB,IAANZ,EAAS,CACtB,MAAMuoD,EAAQjpD,KAAKuW,IAAIsN,GACjBqlC,EAAQlpD,KAAKuW,IAAIjX,GACvB,GAAI2pD,IAAUC,EACZ,GAAkB,IAAdja,EACFzJ,EAASE,EAAS,EAAIujB,MACjB,CACL,MAAMI,EAAkBJ,EAAQha,EAChCzJ,EAASE,EAAS2jB,EAAkB,EAAI,EAAIA,EAAkB,CAChE,MACK,GAAkB,IAAdpa,EACTzJ,EAAS,EAAIyjB,EACbvjB,EAAS,EAAIwjB,MACR,CACL,MAAMI,EAAmBL,EAAQha,EAC3Bsa,EAAmBL,EAAQja,EACjCzJ,EAAS8jB,EAAmB,EAAI,EAAIA,EAAmB,EACvD5jB,EAAS6jB,EAAmB,EAAI,EAAIA,EAAmB,CACzD,CACF,KAAO,CACL,MAAMP,EAAShpD,KAAKuW,IAAIsN,EAAIvkB,EAAIgC,EAAIZ,GAC9BuoD,EAAQjpD,KAAK4tC,MAAM/pB,EAAGviB,GACtB4nD,EAAQlpD,KAAK4tC,MAAMltC,EAAGpB,GAC5B,GAAkB,IAAd2vC,EACFzJ,EAAS0jB,EAAQF,EACjBtjB,EAASujB,EAAQD,MACZ,CACL,MAAMQ,EAAWva,EAAY+Z,EAC7BxjB,EAAS0jB,EAAQM,EAAWN,EAAQM,EAAW,EAC/C9jB,EAASujB,EAAQO,EAAWP,EAAQO,EAAW,CACjD,CACF,CACArnD,KAAK20C,wBAAwB,GAAKtR,EAClCrjC,KAAK20C,wBAAwB,GAAKpR,CACpC,CACA,OAAOvjC,KAAK20C,uBACd,CACA,gBAAA0H,CAAiBiL,GACf,MAAM,IACJ3nB,GACE3/B,MACE,UACJ8sC,GACE9sC,KAAKshC,SACF+B,EAAQE,GAAUvjC,KAAKgnD,sBAE9B,GADArnB,EAAImN,UAAYA,GAAa,EACd,IAAXzJ,GAA2B,IAAXE,EAElB,YADA5D,EAAIwc,SAGN,MAAMoL,EAAS5nB,EAAIyQ,cAKnB,GAJIkX,GACF3nB,EAAIwI,OAENxI,EAAIjQ,MAAM2T,EAAQE,GACdgkB,EAAOl8C,OAAS,EAAG,CACrB,MAAMqkB,EAAQ7xB,KAAKE,IAAIslC,EAAQE,GAC/B5D,EAAIwQ,YAAYoX,EAAOjoD,KAAIlB,GAAKA,EAAIsxB,KACpCiQ,EAAI0Q,gBAAkB3gB,CACxB,CACAiQ,EAAIwc,SACAmL,GACF3nB,EAAIiT,SAER,CACA,gBAAA4T,GACE,IAAK,IAAIjqC,EAAIvc,KAAKyzC,mBAAmBpoC,OAAS,EAAGkR,GAAK,EAAGA,IACvD,IAAKvc,KAAKyzC,mBAAmBl3B,GAAG+pC,QAC9B,OAAO,EAGX,OAAO,CACT,EAEF,IAAK,MAAMkB,KAAMhqD,EAAKu4C,SACiBh2B,IAAjC6d,EAAe9kB,UAAU0uC,KAC3B5pB,EAAe9kB,UAAUtb,EAAKu4C,IAAIyR,IAAO5pB,EAAe9kB,UAAU0uC,GAK/D,EAED,IACA,CAAEtqD,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzCymB,qBAAsB,IAAM,EAC5BH,iBAAkB,IAAM,EACxBM,iBAAkB,IAAM,EACxBpF,cAAe,IAAM,EACrBuF,2BAA4B,IAAM,EAClC3J,cAAe,IAAM,EACrBuV,aAAc,IAAM,EACpBojB,cAAe,IAAM,EACrBre,4BAA6B,IAAM,EACnC7F,UAAW,IAAM,EACjBy4B,eAAgB,IAAM,EACtBjmB,oBAAqB,IAAM,EAC3ByW,2BAA4B,IAAM,EAClCp6B,mBAAoB,IAAM,EAC1B6pC,sBAAuB,IAAM,EAC7BC,OAAQ,IAAM,EACdC,mBAAoB,IAAM,EAC1B9hC,aAAc,IAAM,EACpB+hC,UAAW,IAAM,EACjBvgC,gBAAiB,IAAM,EACvBwgC,cAAe,IAAM,EACrBtpC,mBAAoB,IAAM,IAG5B,IAAIupC,EAAgD,EAAoB,KACpEC,EAA+C,EAAoB,KAG5F,MAAMC,EAAS,6BACf,MAAM/U,EACJ3oB,WAAa,GACbA,WAAa,GACbA,wBAA0BvqB,KAAK+a,IAAM/a,KAAKkoD,IAE5C,MAAMnkC,UAAyBgkC,EAA8C3pB,kBAC3E,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IAAM,EACN,WAAAx6B,EAAY,MACV6gB,EAAK,cACLoC,EAAgBC,WAAWvhB,UACzB,CAAC,GACHkJ,QACAzO,MAAK,EAASykB,EACdzkB,MAAK,GAAY6mB,CACnB,CACA,MAAI,GACF,OAAO7mB,MAAK,KAAY,IAAIqQ,GAC9B,CACA,MAAI,GACF,IAAKrQ,MAAK,GAAQ,CAChB,MAAMwM,EAAMxM,MAAK,GAAUwF,cAAc,QACnC,MACJI,GACE4G,EACJ5G,EAAMoD,WAAa,SACnBpD,EAAMuiD,QAAU,SAChBviD,EAAMnF,MAAQmF,EAAMlF,OAAS,EAC7BkF,EAAMwiD,SAAW,WACjBxiD,EAAMmC,IAAMnC,EAAMkC,KAAO,EACzBlC,EAAMC,QAAU,EAChB,MAAM8F,EAAM3L,MAAK,GAAUqoD,gBAAgBJ,EAAQ,OACnDt8C,EAAIlG,aAAa,QAAS,GAC1BkG,EAAIlG,aAAa,SAAU,GAC3BzF,MAAK,GAASA,MAAK,GAAUqoD,gBAAgBJ,EAAQ,QACrDz7C,EAAIX,OAAOF,GACXA,EAAIE,OAAO7L,MAAK,IAChBA,MAAK,GAAUsoD,KAAKz8C,OAAOW,EAC7B,CACA,OAAOxM,MAAK,EACd,CACA,SAAAu+B,CAAUC,GACR,IAAKA,EACH,MAAO,OAET,IAII+pB,EAAQC,EAAQC,EAAQ1zC,EAJxB1D,EAAQrR,MAAK,GAAOsQ,IAAIkuB,GAC5B,GAAIntB,EACF,OAAOA,EAGT,GAAoB,IAAhBmtB,EAAKnzB,OAAc,CACrB,MAAMq9C,EAAOlqB,EAAK,GACZxZ,EAAS,IAAInX,MAAM,KACzB,IAAK,IAAI0O,EAAI,EAAGA,EAAI,IAAKA,IACvByI,EAAOzI,GAAKmsC,EAAKnsC,GAAK,IAExBxH,EAAMwzC,EAASC,EAASC,EAASzjC,EAAOxlB,KAAK,IAC/C,KAAO,CACL,MAAOkpD,EAAMC,EAAMC,GAAQpqB,EACrBqqB,EAAU,IAAIh7C,MAAM,KACpBi7C,EAAU,IAAIj7C,MAAM,KACpBk7C,EAAU,IAAIl7C,MAAM,KAC1B,IAAK,IAAI0O,EAAI,EAAGA,EAAI,IAAKA,IACvBssC,EAAQtsC,GAAKmsC,EAAKnsC,GAAK,IACvBusC,EAAQvsC,GAAKosC,EAAKpsC,GAAK,IACvBwsC,EAAQxsC,GAAKqsC,EAAKrsC,GAAK,IAEzBgsC,EAASM,EAAQrpD,KAAK,KACtBgpD,EAASM,EAAQtpD,KAAK,KACtBipD,EAASM,EAAQvpD,KAAK,KACtBuV,EAAM,GAAGwzC,IAASC,IAASC,GAC7B,CAEA,GADAp3C,EAAQrR,MAAK,GAAOsQ,IAAIyE,GACpB1D,EAEF,OADArR,MAAK,GAAO+e,IAAIyf,EAAMntB,GACfA,EAET,MAAM3L,EAAK,KAAK1F,MAAK,kBAAuBA,MAAK,OAC3C6O,EAAM,QAAQnJ,KACpB1F,MAAK,GAAO+e,IAAIyf,EAAM3vB,GACtB7O,MAAK,GAAO+e,IAAIhK,EAAKlG,GACrB,MAAMkK,EAAS/Y,MAAK,GAAc0F,GAElC,OADA1F,MAAK,GAA0BuoD,EAAQC,EAAQC,EAAQ1vC,GAChDlK,CACT,CACA,YAAA4vB,CAAa10B,EAASF,GACpB,MAAMkL,EAAM,GAAGhL,KAAWF,IAC1B,GAAI7J,MAAK,KAAY+U,EACnB,OAAO/U,MAAK,GAKd,GAHAA,MAAK,GAAU+U,EACf/U,MAAK,GAAU,OACfA,MAAK,IAAY2Y,UACZ5O,IAAYF,EACf,OAAO7J,MAAK,GAEd,MAAMgpD,EAAQhpD,MAAK,GAAQ+J,GAC3BA,EAAUi+C,EAA6CthD,KAAKmB,gBAAgBmhD,GAC5E,MAAMC,EAAQjpD,MAAK,GAAQ6J,GAG3B,GAFAA,EAAUm+C,EAA6CthD,KAAKmB,gBAAgBohD,GAC5EjpD,MAAK,GAAM4F,MAAMvG,MAAQ,GACT,YAAZ0K,GAAqC,YAAZF,GAAyBE,IAAYF,EAChE,OAAO7J,MAAK,GAEd,MAAMV,EAAM,IAAIuO,MAAM,KACtB,IAAK,IAAI0O,EAAI,EAAGA,GAAK,IAAKA,IAAK,CAC7B,MAAMne,EAAIme,EAAI,IACdjd,EAAIid,GAAKne,GAAK,OAAUA,EAAI,QAAUA,EAAI,MAAS,QAAU,GAC/D,CACA,MAAM8qD,EAAQ5pD,EAAIE,KAAK,KACjBkG,EAAK,KAAK1F,MAAK,eACf+Y,EAAS/Y,MAAK,GAAsBA,MAAK,GAAc0F,GAC7D1F,MAAK,GAA0BkpD,EAAOA,EAAOA,EAAOnwC,GACpD/Y,MAAK,GAAmB+Y,GACxB,MAAMowC,EAAW,CAAC5qD,EAAGX,KACnB,MAAMwrD,EAAQJ,EAAMzqD,GAAK,IACnB2tB,EAAM+8B,EAAM1qD,GAAK,IACjB8qD,EAAM,IAAIx7C,MAAMjQ,EAAI,GAC1B,IAAK,IAAI2e,EAAI,EAAGA,GAAK3e,EAAG2e,IACtB8sC,EAAI9sC,GAAK6sC,EAAQ7sC,EAAI3e,GAAKsuB,EAAMk9B,GAElC,OAAOC,EAAI7pD,KAAK,IAAI,EAItB,OAFAQ,MAAK,GAA0BmpD,EAAS,EAAG,GAAIA,EAAS,EAAG,GAAIA,EAAS,EAAG,GAAIpwC,GAC/E/Y,MAAK,GAAU,QAAQ0F,KAChB1F,MAAK,EACd,CACA,qBAAA0+B,CAAsB30B,EAASF,EAAS80B,EAAYC,GAClD,MAAM7pB,EAAM,GAAGhL,KAAWF,KAAW80B,KAAcC,IACnD,GAAI5+B,MAAK,KAAqB+U,EAC5B,OAAO/U,MAAK,GAKd,GAHAA,MAAK,GAAmB+U,EACxB/U,MAAK,GAAmB,OACxBA,MAAK,IAAqB2Y,UACrB5O,IAAYF,EACf,OAAO7J,MAAK,GAEd,MAAOgpD,EAAOC,GAAS,CAACl/C,EAASF,GAASvK,IAAIU,MAAK,GAAQsa,KAAKta,OAChE,IAAIspD,EAASzrD,KAAKqW,MAAM,MAAS80C,EAAM,GAAK,MAASA,EAAM,GAAK,MAASA,EAAM,IAC3EO,EAAS1rD,KAAKqW,MAAM,MAAS+0C,EAAM,GAAK,MAASA,EAAM,GAAK,MAASA,EAAM,KAC1EO,EAAUC,GAAY,CAAC9qB,EAAYC,GAAYt/B,IAAIU,MAAK,GAAQsa,KAAKta,OACtEupD,EAASD,KACVA,EAAQC,EAAQC,EAAUC,GAAY,CAACF,EAAQD,EAAQG,EAAUD,IAEpExpD,MAAK,GAAM4F,MAAMvG,MAAQ,GACzB,MAAM8pD,EAAW,CAACO,EAAIC,EAAI/rD,KACxB,MAAMyrD,EAAM,IAAIx7C,MAAM,KAChBw6B,GAAQkhB,EAASD,GAAU1rD,EAC3BgsD,EAAWF,EAAK,IAChBG,GAAWF,EAAKD,IAAO,IAAM9rD,GACnC,IAAIksD,EAAO,EACX,IAAK,IAAIvtC,EAAI,EAAGA,GAAK3e,EAAG2e,IAAK,CAC3B,MAAM7d,EAAIb,KAAKqW,MAAMo1C,EAAS/sC,EAAI8rB,GAC5Bh3B,EAAQu4C,EAAWrtC,EAAIstC,EAC7B,IAAK,IAAI5kB,EAAI6kB,EAAM7kB,GAAKvmC,EAAGumC,IACzBokB,EAAIpkB,GAAK5zB,EAEXy4C,EAAOprD,EAAI,CACb,CACA,IAAK,IAAI6d,EAAIutC,EAAMvtC,EAAI,IAAKA,IAC1B8sC,EAAI9sC,GAAK8sC,EAAIS,EAAO,GAEtB,OAAOT,EAAI7pD,KAAK,IAAI,EAEhBkG,EAAK,KAAK1F,MAAK,yBACf+Y,EAAS/Y,MAAK,GAAsBA,MAAK,GAAc0F,GAI7D,OAHA1F,MAAK,GAAmB+Y,GACxB/Y,MAAK,GAA0BmpD,EAASK,EAAS,GAAIC,EAAS,GAAI,GAAIN,EAASK,EAAS,GAAIC,EAAS,GAAI,GAAIN,EAASK,EAAS,GAAIC,EAAS,GAAI,GAAI1wC,GACpJ/Y,MAAK,GAAmB,QAAQ0F,KACzB1F,MAAK,EACd,CACA,OAAA2qB,CAAQkU,GAAU,GACZA,IAAY7+B,MAAK,IAAWA,MAAK,MAGjCA,MAAK,KACPA,MAAK,GAAO+pD,WAAWA,WAAWpxC,SAClC3Y,MAAK,GAAS,MAEZA,MAAK,KACPA,MAAK,GAAQwZ,QACbxZ,MAAK,GAAU,MAEjBA,MAAK,GAAM,EACb,CACA,IAAmB+Y,GACjB,MAAMixC,EAAgBhqD,MAAK,GAAUqoD,gBAAgBJ,EAAQ,iBAC7D+B,EAAcvkD,aAAa,OAAQ,UACnCukD,EAAcvkD,aAAa,SAAU,wFACrCsT,EAAOlN,OAAOm+C,EAChB,CACA,IAActkD,GACZ,MAAMqT,EAAS/Y,MAAK,GAAUqoD,gBAAgBJ,EAAQ,UAItD,OAHAlvC,EAAOtT,aAAa,8BAA+B,QACnDsT,EAAOtT,aAAa,KAAMC,GAC1B1F,MAAK,GAAM6L,OAAOkN,GACXA,CACT,CACA,IAAckxC,EAAqBC,EAAMhB,GACvC,MAAMiB,EAASnqD,MAAK,GAAUqoD,gBAAgBJ,EAAQiC,GACtDC,EAAO1kD,aAAa,OAAQ,YAC5B0kD,EAAO1kD,aAAa,cAAeyjD,GACnCe,EAAoBp+C,OAAOs+C,EAC7B,CACA,IAA0BC,EAAQC,EAAQC,EAAQvxC,GAChD,MAAMkxC,EAAsBjqD,MAAK,GAAUqoD,gBAAgBJ,EAAQ,uBACnElvC,EAAOlN,OAAOo+C,GACdjqD,MAAK,GAAciqD,EAAqB,UAAWG,GACnDpqD,MAAK,GAAciqD,EAAqB,UAAWI,GACnDrqD,MAAK,GAAciqD,EAAqB,UAAWK,EACrD,CACA,IAAQjrD,GAEN,OADAW,MAAK,GAAM4F,MAAMvG,MAAQA,EAClBsoD,EAAO4C,iBAAiBvqD,MAAK,IAAOwqD,iBAAiB,SAC9D,EAEF,MAAM/mC,UAAyBskC,EAA8C5pB,kBAC3E,WAAAv6B,EAAY,cACVijB,EAAgBC,WAAWvhB,UACzB,CAAC,GACHkJ,QACAzO,KAAKyqD,UAAY5jC,CACnB,CACA,aAAAiY,CAAcr+B,EAAOC,GACnB,MAAMwe,EAASlf,KAAKyqD,UAAUjlD,cAAc,UAG5C,OAFA0Z,EAAOze,MAAQA,EACfye,EAAOxe,OAASA,EACTwe,CACT,EAEFyC,eAAe+oC,EAAU77C,EAAK87C,GAAe,GAC3C,GAAIrjC,EAAgBzY,EAAKtJ,SAASgiB,SAAU,CAC1C,MAAMqjC,QAAiBhvB,MAAM/sB,GAC7B,IAAK+7C,EAASC,GACZ,MAAM,IAAIxmC,MAAMumC,EAASE,YAE3B,OAAOH,EAAe,IAAI7lC,iBAAiB8lC,EAASG,gBAAiB,EAAG/C,EAA6C/iC,qBAAqB2lC,EAASI,OACrJ,CACA,OAAO,IAAI7hC,SAAQ,CAACC,EAASkB,KAC3B,MAAM2gC,EAAU,IAAIC,eACpBD,EAAQ9wC,KAAK,MAAOtL,GAAK,GACrB87C,IACFM,EAAQE,aAAe,eAEzBF,EAAQG,mBAAqB,KAC3B,GAAIH,EAAQI,aAAeH,eAAeI,KAA1C,CAGA,GAAuB,MAAnBL,EAAQtwB,QAAqC,IAAnBswB,EAAQtwB,OAAc,CAClD,IAAI75B,EAMJ,GALI6pD,GAAgBM,EAAQL,SAC1B9pD,EAAO,IAAIgkB,WAAWmmC,EAAQL,WACpBD,GAAgBM,EAAQM,eAClCzqD,GAAO,EAAGknD,EAA6C/iC,eAAegmC,EAAQM,eAE5EzqD,EAEF,YADAsoB,EAAQtoB,EAGZ,CACAwpB,EAAO,IAAIjG,MAAM4mC,EAAQH,YAbzB,CAaqC,EAEvCG,EAAQ9gC,KAAK,KAAK,GAEtB,CACA,MAAMvG,UAA6BmkC,EAA8C7pB,sBAC/E,UAAAoB,CAAWzwB,EAAKqwB,GACd,OAAOwrB,EAAU77C,EAAK7O,KAAK8nB,cAAc5E,MAAKpiB,IACrC,CACL0qD,SAAU1qD,EACVo+B,qBAGN,EAEF,MAAMhb,UAAmC6jC,EAA8CzpB,4BACrF,UAAAgB,CAAWzwB,GACT,OAAO67C,EAAU77C,GAAK,EACxB,EAEF,MAAM8P,UAAsBopC,EAA8C1pB,eACxE,UAAAmB,CAAWpuB,GACT,OAAO7L,SAAS8iD,gBAAgBJ,EAAQ72C,EAC1C,EAEF,MAAM0e,EACJ,WAAAlsB,EAAY,QACVmsB,EAAO,MACPL,EAAK,SACLnpB,EAAQ,QACRopB,EAAU,EAAC,QACXC,EAAU,EAAC,SACXC,GAAW,IAEX7vB,KAAK+vB,QAAUA,EACf/vB,KAAK0vB,MAAQA,EACb1vB,KAAKuG,SAAWA,EAChBvG,KAAK2vB,QAAUA,EACf3vB,KAAK4vB,QAAUA,EACf,MAAM67B,GAAW17B,EAAQ,GAAKA,EAAQ,IAAM,EACtC27B,GAAW37B,EAAQ,GAAKA,EAAQ,IAAM,EAC5C,IAAI47B,EAASC,EAASC,EAASC,EAqC3BC,EAAeC,EACfvrD,EAAOC,EAjCX,QAJA6F,GAAY,KACG,IACbA,GAAY,KAENA,GACN,KAAK,IACHolD,GAAW,EACXC,EAAU,EACVC,EAAU,EACVC,EAAU,EACV,MACF,KAAK,GACHH,EAAU,EACVC,EAAU,EACVC,EAAU,EACVC,EAAU,EACV,MACF,KAAK,IACHH,EAAU,EACVC,GAAW,EACXC,GAAW,EACXC,EAAU,EACV,MACF,KAAK,EACHH,EAAU,EACVC,EAAU,EACVC,EAAU,EACVC,GAAW,EACX,MACF,QACE,MAAM,IAAIznC,MAAM,qEAEhBwL,IACFg8B,GAAWA,EACXC,GAAWA,GAIG,IAAZH,GACFI,EAAgBluD,KAAKuW,IAAIs3C,EAAU37B,EAAQ,IAAML,EAAQC,EACzDq8B,EAAgBnuD,KAAKuW,IAAIq3C,EAAU17B,EAAQ,IAAML,EAAQE,EACzDnvB,GAASsvB,EAAQ,GAAKA,EAAQ,IAAML,EACpChvB,GAAUqvB,EAAQ,GAAKA,EAAQ,IAAML,IAErCq8B,EAAgBluD,KAAKuW,IAAIq3C,EAAU17B,EAAQ,IAAML,EAAQC,EACzDq8B,EAAgBnuD,KAAKuW,IAAIs3C,EAAU37B,EAAQ,IAAML,EAAQE,EACzDnvB,GAASsvB,EAAQ,GAAKA,EAAQ,IAAML,EACpChvB,GAAUqvB,EAAQ,GAAKA,EAAQ,IAAML,GAEvC1vB,KAAK0wB,UAAY,CAACi7B,EAAUj8B,EAAOk8B,EAAUl8B,EAAOm8B,EAAUn8B,EAAOo8B,EAAUp8B,EAAOq8B,EAAgBJ,EAAUj8B,EAAQ+7B,EAAUI,EAAUn8B,EAAQg8B,EAASM,EAAgBJ,EAAUl8B,EAAQ+7B,EAAUK,EAAUp8B,EAAQg8B,GAC3N1rD,KAAKS,MAAQA,EACbT,KAAKU,OAASA,CAChB,CACA,WAAI4F,GACF,MAAM,QACJypB,GACE/vB,KACJ,OAAO,EAAGgoD,EAA6Cn/C,QAAQ7I,KAAM,UAAW,CAC9EkG,UAAW6pB,EAAQ,GAAKA,EAAQ,GAChC5pB,WAAY4pB,EAAQ,GAAKA,EAAQ,GACjC3pB,MAAO2pB,EAAQ,GACf1pB,MAAO0pB,EAAQ,IAEnB,CACA,KAAAxO,EAAM,MACJmO,EAAQ1vB,KAAK0vB,MAAK,SAClBnpB,EAAWvG,KAAKuG,SAAQ,QACxBopB,EAAU3vB,KAAK2vB,QAAO,QACtBC,EAAU5vB,KAAK4vB,QAAO,SACtBC,GAAW,GACT,CAAC,GACH,OAAO,IAAIC,EAAa,CACtBC,QAAS/vB,KAAK+vB,QAAQ9vB,QACtByvB,QACAnpB,WACAopB,UACAC,UACAC,YAEJ,CACA,sBAAAo8B,CAAuB7tD,EAAGI,GACxB,OAAOwpD,EAA6CthD,KAAK2mC,eAAe,CAACjvC,EAAGI,GAAIwB,KAAK0wB,UACvF,CACA,0BAAAw7B,CAA2B1rD,GACzB,MAAM2rD,EAAUnE,EAA6CthD,KAAK2mC,eAAe,CAAC7sC,EAAK,GAAIA,EAAK,IAAKR,KAAK0wB,WACpG07B,EAAcpE,EAA6CthD,KAAK2mC,eAAe,CAAC7sC,EAAK,GAAIA,EAAK,IAAKR,KAAK0wB,WAC9G,MAAO,CAACy7B,EAAQ,GAAIA,EAAQ,GAAIC,EAAY,GAAIA,EAAY,GAC9D,CACA,iBAAAC,CAAkBjuD,EAAGI,GACnB,OAAOwpD,EAA6CthD,KAAK4lD,sBAAsB,CAACluD,EAAGI,GAAIwB,KAAK0wB,UAC9F,EAEF,MAAMmE,UAAoCmzB,EAA6CuE,cACrF,WAAA3oD,CAAY4oD,EAAKz3B,EAAa,GAC5BtmB,MAAM+9C,EAAK,+BACXxsD,KAAK+0B,WAAaA,CACpB,EAEF,SAASjP,EAAajX,GACpB,MAAM2N,EAAK3N,EAAIxD,OACf,IAAIkR,EAAI,EACR,KAAOA,EAAIC,GAAwB,KAAlB3N,EAAI0N,GAAGkwC,QACtBlwC,IAEF,MAAiD,UAA1C1N,EAAImI,UAAUuF,EAAGA,EAAI,GAAG3K,aACjC,CACA,SAASi2C,EAAU13C,GACjB,MAA2B,iBAAbA,GAAyB,UAAU4N,KAAK5N,EACxD,CACA,SAAS0N,EAAmBhP,EAAK69C,GAAgB,GAI/C,OAHKA,KACF79C,GAAOA,EAAIyN,MAAM,OAAQ,IAErBzN,EAAImI,UAAUnI,EAAI89C,YAAY,KAAO,EAC9C,CACA,SAASjF,EAAsB74C,EAAK+9C,EAAkB,gBACpD,GAAmB,iBAAR/9C,EACT,OAAO+9C,EAET,GAAI9mC,EAAajX,GAEf,OADA,EAAGm5C,EAA6CvgD,MAAM,sEAC/CmlD,EAET,MACMC,EAAa,gCACbC,EAFQ,sDAESC,KAAKl+C,GAC5B,IAAIm+C,EAAoBH,EAAWE,KAAKD,EAAS,KAAOD,EAAWE,KAAKD,EAAS,KAAOD,EAAWE,KAAKD,EAAS,IACjH,GAAIE,IACFA,EAAoBA,EAAkB,GAClCA,EAAkBl6C,SAAS,MAC7B,IACEk6C,EAAoBH,EAAWE,KAAKE,mBAAmBD,IAAoB,EAC7E,CAAE,MAAO,CAGb,OAAOA,GAAqBJ,CAC9B,CACA,MAAM59B,EACJk+B,QAAU3iD,OAAO3J,OAAO,MACxBusD,MAAQ,GACR,IAAA7xC,CAAKhR,GACCA,KAAQtK,KAAKktD,UACf,EAAGlF,EAA6CvgD,MAAM,gCAAgC6C,KAExFtK,KAAKktD,QAAQ5iD,GAAQorC,KAAKC,KAC5B,CACA,OAAAvjB,CAAQ9nB,GACAA,KAAQtK,KAAKktD,UACjB,EAAGlF,EAA6CvgD,MAAM,kCAAkC6C,KAE1FtK,KAAKmtD,MAAMlhD,KAAK,CACd3B,OACA8+C,MAAOppD,KAAKktD,QAAQ5iD,GACpB4hB,IAAKwpB,KAAKC,eAEL31C,KAAKktD,QAAQ5iD,EACtB,CACA,QAAArM,GACE,MAAMmvD,EAAS,GACf,IAAIC,EAAU,EACd,IAAK,MAAM,KACT/iD,KACGtK,KAAKmtD,MACRE,EAAUxvD,KAAKE,IAAIuM,EAAKe,OAAQgiD,GAElC,IAAK,MAAM,KACT/iD,EAAI,MACJ8+C,EAAK,IACLl9B,KACGlsB,KAAKmtD,MACRC,EAAOnhD,KAAK,GAAG3B,EAAKgjD,OAAOD,MAAYnhC,EAAMk9B,SAE/C,OAAOgE,EAAO5tD,KAAK,GACrB,EAEF,SAAS8nB,EAAgBzY,EAAKgZ,GAC5B,IACE,MAAM,SACJ0lC,GACE1lC,EAAU,IAAI1D,IAAItV,EAAKgZ,GAAW,IAAI1D,IAAItV,GAC9C,MAAoB,UAAb0+C,GAAqC,WAAbA,CACjC,CAAE,MACA,OAAO,CACT,CACF,CACA,SAASzF,EAAcntC,GACrBA,EAAE1D,gBACJ,CAIA,IAAIu2C,EACJ,MAAMjzC,EACJ,mBAAOC,CAAaizC,GAClB,IAAKA,GAA0B,iBAAVA,EACnB,OAAO,KAETD,IAAuB,IAAIE,OAAO,4FAClC,MAAMC,EAAUH,EAAmBT,KAAKU,GACxC,IAAKE,EACH,OAAO,KAET,MAAMC,EAAO/wC,SAAS8wC,EAAQ,GAAI,IAClC,IAAIE,EAAQhxC,SAAS8wC,EAAQ,GAAI,IACjCE,EAAQA,GAAS,GAAKA,GAAS,GAAKA,EAAQ,EAAI,EAChD,IAAIC,EAAMjxC,SAAS8wC,EAAQ,GAAI,IAC/BG,EAAMA,GAAO,GAAKA,GAAO,GAAKA,EAAM,EACpC,IAAIC,EAAOlxC,SAAS8wC,EAAQ,GAAI,IAChCI,EAAOA,GAAQ,GAAKA,GAAQ,GAAKA,EAAO,EACxC,IAAIC,EAASnxC,SAAS8wC,EAAQ,GAAI,IAClCK,EAASA,GAAU,GAAKA,GAAU,GAAKA,EAAS,EAChD,IAAIC,EAASpxC,SAAS8wC,EAAQ,GAAI,IAClCM,EAASA,GAAU,GAAKA,GAAU,GAAKA,EAAS,EAChD,MAAMC,EAAwBP,EAAQ,IAAM,IAC5C,IAAIQ,EAAatxC,SAAS8wC,EAAQ,GAAI,IACtCQ,EAAaA,GAAc,GAAKA,GAAc,GAAKA,EAAa,EAChE,IAAIC,EAAevxC,SAAS8wC,EAAQ,GAAI,KAAO,EAS/C,OARAS,EAAeA,GAAgB,GAAKA,GAAgB,GAAKA,EAAe,EAC1C,MAA1BF,GACFH,GAAQI,EACRH,GAAUI,GACyB,MAA1BF,IACTH,GAAQI,EACRH,GAAUI,GAEL,IAAI1Y,KAAKA,KAAK2Y,IAAIT,EAAMC,EAAOC,EAAKC,EAAMC,EAAQC,GAC3D,EAEF,SAASrG,EAAmB0G,GAAS,MACnC5+B,EAAQ,EAAC,SACTnpB,EAAW,IAEX,MAAM,MACJ9F,EAAK,OACLC,GACE4tD,EAAQC,WAAW3oD,MACjBmqB,EAAU,CAAC,EAAG,EAAGlT,SAASpc,GAAQoc,SAASnc,IACjD,OAAO,IAAIovB,EAAa,CACtBC,UACAL,QACAnpB,YAEJ,CACA,SAASohD,EAAOtoD,GACd,GAAIA,EAAM21C,WAAW,KAAM,CACzB,MAAMwZ,EAAW3xC,SAASxd,EAAMY,MAAM,GAAI,IAC1C,MAAO,EAAa,SAAXuuD,IAAwB,IAAgB,MAAXA,IAAwB,EAAc,IAAXA,EACnE,CACA,OAAInvD,EAAM21C,WAAW,QACZ31C,EAAMY,MAAM,GAAI,GAAGqc,MAAM,KAAKhd,KAAIlB,GAAKye,SAASze,KAErDiB,EAAM21C,WAAW,SACZ31C,EAAMY,MAAM,GAAI,GAAGqc,MAAM,KAAKhd,KAAIlB,GAAKye,SAASze,KAAI6B,MAAM,EAAG,KAEtE,EAAG+nD,EAA6CvgD,MAAM,8BAA8BpI,MAC7E,CAAC,EAAG,EAAG,GAChB,CACA,SAASooD,EAAezkB,GACtB,MAAMyrB,EAAOlpD,SAASC,cAAc,QACpCipD,EAAK7oD,MAAMoD,WAAa,SACxBzD,SAAS+iD,KAAKz8C,OAAO4iD,GACrB,IAAK,MAAMnkD,KAAQ04B,EAAOx4B,OAAQ,CAChCikD,EAAK7oD,MAAMvG,MAAQiL,EACnB,MAAMokD,EAAgBhqC,OAAO6lC,iBAAiBkE,GAAMpvD,MACpD2jC,EAAOjkB,IAAIzU,EAAMq9C,EAAO+G,GAC1B,CACAD,EAAK91C,QACP,CACA,SAAS6oB,EAAoB7B,GAC3B,MAAM,EACJje,EAAC,EACDviB,EAAC,EACDZ,EAAC,EACDpB,EAAC,EACDwd,EAAC,EACDggC,GACEhb,EAAIsnB,eACR,MAAO,CAACvlC,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,EACzB,CACA,SAAS1C,EAA2BtY,GAClC,MAAM,EACJje,EAAC,EACDviB,EAAC,EACDZ,EAAC,EACDpB,EAAC,EACDwd,EAAC,EACDggC,GACEhb,EAAIsnB,eAAe0H,aACvB,MAAO,CAACjtC,EAAGviB,EAAGZ,EAAGpB,EAAGwd,EAAGggC,EACzB,CACA,SAASn8B,EAAmBhS,EAAKlH,EAAUspD,GAAW,EAAOC,GAAa,GACxE,GAAIvpD,aAAoBwqB,EAAc,CACpC,MAAM,UACJ5pB,EAAS,WACTC,GACEb,EAASgB,SACP,MACJV,GACE4G,EACEsiD,EAAW9G,EAA6C51C,YAAY28C,oBACpErJ,EAAI,yBAAyBx/C,MACjCy/C,EAAI,yBAAyBx/C,MACzB6oD,EAAWF,EAAW,SAASpJ,UAAY,QAAQA,KACvDuJ,EAAYH,EAAW,SAASnJ,UAAY,QAAQA,KACjDiJ,GAAYtpD,EAASiB,SAAW,KAAQ,GAI3CX,EAAMnF,MAAQwuD,EACdrpD,EAAMlF,OAASsuD,IAJfppD,EAAMnF,MAAQuuD,EACdppD,EAAMlF,OAASuuD,EAKnB,CACIJ,GACFriD,EAAI/G,aAAa,qBAAsBH,EAASiB,SAEpD,CAGO,EAED,IACA,CAAErJ,EAAqC,EAAqB,KAIlE,EAAoBC,EAAE,EAAqB,CACzC+xD,sBAAuB,IAAM,IAI/B,IAAI1xD,EAAO,EAAoB,KAE3B2xD,EAAgB,EAAoB,KAEpCC,EAAQ,EAAoB,KAE5BC,EAAmB,EAAoB,KAM3C,MAAMC,UAAuBH,EAAc7uC,iBACzC,IAAsBtgB,KAAKuvD,cAAcj1C,KAAKta,MAC9C,IAAuBA,KAAKwvD,eAAel1C,KAAKta,MAChD,IAAuBA,KAAKyvD,eAAen1C,KAAKta,MAChD,IAAyBA,KAAK0vD,iBAAiBp1C,KAAKta,MACpD,GACA,IAAW,GACX,IAAe,GAAGA,KAAK0F,YACvB,IACA,IAAe,KACf6kB,+BAAiC,GACjCA,wBAA0B,EAC1BA,qBAAuB,KACvBA,wBAA0B,GAC1B,2BAAWolC,GACT,MAAMC,EAAQN,EAAex2C,UACvB+2C,EAAeC,GAAQA,EAAKlJ,UAC5BmJ,EAAQX,EAAMY,0BAA0BC,gBACxCC,EAAMd,EAAMY,0BAA0BG,cAC5C,OAAO,EAAG3yD,EAAKqL,QAAQ7I,KAAM,mBAAoB,IAAIovD,EAAMgB,gBAAgB,CAAC,CAAC,CAAC,SAAU,aAAc,SAAU,cAAeR,EAAMS,eAAgB,CACnJC,SAAS,IACP,CAAC,CAAC,aAAc,iBAAkB,SAAU,cAAeV,EAAMS,gBAAiB,CAAC,CAAC,YAAa,iBAAkBT,EAAMW,gBAAiB,CAC5I/U,KAAM,EAAEuU,EAAO,GACfS,QAASX,IACP,CAAC,CAAC,iBAAkB,uBAAwBD,EAAMW,gBAAiB,CACrE/U,KAAM,EAAE0U,EAAK,GACbM,QAASX,IACP,CAAC,CAAC,aAAc,kBAAmBD,EAAMW,gBAAiB,CAC5D/U,KAAM,CAACuU,EAAO,GACdS,QAASX,IACP,CAAC,CAAC,kBAAmB,wBAAyBD,EAAMW,gBAAiB,CACvE/U,KAAM,CAAC0U,EAAK,GACZM,QAASX,IACP,CAAC,CAAC,UAAW,eAAgBD,EAAMW,gBAAiB,CACtD/U,KAAM,CAAC,GAAIuU,GACXS,QAASX,IACP,CAAC,CAAC,eAAgB,qBAAsBD,EAAMW,gBAAiB,CACjE/U,KAAM,CAAC,GAAI0U,GACXM,QAASX,IACP,CAAC,CAAC,YAAa,iBAAkBD,EAAMW,gBAAiB,CAC1D/U,KAAM,CAAC,EAAGuU,GACVS,QAASX,IACP,CAAC,CAAC,iBAAkB,uBAAwBD,EAAMW,gBAAiB,CACrE/U,KAAM,CAAC,EAAG0U,GACVM,QAASX,MAEb,CACAtlC,aAAe,WACfA,mBAAqB/sB,EAAKuf,qBAAqB7a,SAC/C,WAAA0B,CAAY0a,GACV7P,MAAM,IACD6P,EACHhU,KAAM,mBAERtK,MAAK,EAASse,EAAOjf,OAASiwD,EAAemB,eAAiBtB,EAAc7uC,iBAAiBowC,kBAC7F1wD,MAAK,GAAYse,EAAOvK,UAAYu7C,EAAeqB,gBACrD,CACA,iBAAOC,CAAWC,GAChB1B,EAAc7uC,iBAAiBswC,WAAWC,EAAM,CAC9CC,QAAS,CAAC,qCAEZ,MAAMlrD,EAAQ2kD,iBAAiBhlD,SAASwrD,iBACxC/wD,KAAKgxD,iBAAmBC,WAAWrrD,EAAM4kD,iBAAiB,sBAC5D,CACA,0BAAO0G,CAAoB9/C,EAAMC,GAC/B,OAAQD,GACN,KAAK5T,EAAK2zD,2BAA2BC,cACnC9B,EAAeqB,iBAAmBt/C,EAClC,MACF,KAAK7T,EAAK2zD,2BAA2BE,eACnC/B,EAAemB,cAAgBp/C,EAGrC,CACA,YAAAigD,CAAalgD,EAAMC,GACjB,OAAQD,GACN,KAAK5T,EAAK2zD,2BAA2BC,cACnCpxD,MAAK,GAAgBqR,GACrB,MACF,KAAK7T,EAAK2zD,2BAA2BE,eACnCrxD,MAAK,GAAaqR,GAGxB,CACA,oCAAWkgD,GACT,MAAO,CAAC,CAAC/zD,EAAK2zD,2BAA2BC,cAAe9B,EAAeqB,kBAAmB,CAACnzD,EAAK2zD,2BAA2BE,eAAgB/B,EAAemB,eAAiBtB,EAAc7uC,iBAAiBowC,mBAC5M,CACA,sBAAIc,GACF,MAAO,CAAC,CAACh0D,EAAK2zD,2BAA2BC,cAAepxD,MAAK,IAAY,CAACxC,EAAK2zD,2BAA2BE,eAAgBrxD,MAAK,GACjI,CACA,IAAgB+T,GACd,MAAM09C,EAAcx5C,IAClBjY,KAAK0xD,UAAU9rD,MAAMmO,SAAW,QAAQkE,6BACxCjY,KAAKgiC,UAAU,IAAK/pB,EAAOjY,MAAK,IAAaA,KAAK2xD,aAClD3xD,MAAK,GAAYiY,EACjBjY,MAAK,IAAsB,EAEvB4xD,EAAgB5xD,MAAK,GAC3BA,KAAK6xD,YAAY,CACfC,IAAK,KACHL,EAAY19C,EAAS,EAEvBg+C,KAAM,KACJN,EAAYG,EAAc,EAE5BI,UAAU,EACV5gD,KAAM5T,EAAK2zD,2BAA2BC,cACtCa,qBAAqB,EACrBC,UAAU,GAEd,CACA,IAAa7yD,GACX,MAAM8yD,EAAanyD,MAAK,EACxBA,KAAK6xD,YAAY,CACfC,IAAK,KACH9xD,MAAK,EAASA,KAAK0xD,UAAU9rD,MAAMvG,MAAQA,CAAK,EAElD0yD,KAAM,KACJ/xD,MAAK,EAASA,KAAK0xD,UAAU9rD,MAAMvG,MAAQ8yD,CAAU,EAEvDH,UAAU,EACV5gD,KAAM5T,EAAK2zD,2BAA2BE,eACtCY,qBAAqB,EACrBC,UAAU,GAEd,CACA,eAAA3B,CAAgBnyD,EAAGI,GACjBwB,KAAKoyD,WAAWC,yBAAyBj0D,EAAGI,GAAG,EACjD,CACA,qBAAA8zD,GACE,MAAM5iC,EAAQ1vB,KAAK2xD,YACnB,MAAO,EAAErC,EAAe0B,iBAAmBthC,IAAS4/B,EAAe0B,iBAAmBhxD,MAAK,IAAa0vB,EAC1G,CACA,OAAA6iC,GACOvyD,KAAK2E,SAGV8J,MAAM8jD,UACW,OAAbvyD,KAAKwM,MAGJxM,KAAKwyD,iBACRxyD,KAAK2E,OAAOsB,IAAIjG,OAEpB,CACA,cAAAyyD,GACMzyD,KAAK0yD,iBAGT1yD,KAAK2E,OAAOguD,iBAAgB,GAC5B3yD,KAAK2E,OAAOiuD,cAAcp1D,EAAKuf,qBAAqB7a,UACpDuM,MAAMgkD,iBACNzyD,KAAK6yD,WAAW7sD,UAAU2S,OAAO,WACjC3Y,KAAK0xD,UAAUoB,iBAAkB,EACjC9yD,KAAK+yD,cAAe,EACpB/yD,KAAKwM,IAAIkI,gBAAgB,yBACzB1U,KAAK0xD,UAAUtjD,iBAAiB,UAAWpO,MAAK,IAChDA,KAAK0xD,UAAUtjD,iBAAiB,QAASpO,MAAK,IAC9CA,KAAK0xD,UAAUtjD,iBAAiB,OAAQpO,MAAK,IAC7CA,KAAK0xD,UAAUtjD,iBAAiB,QAASpO,MAAK,IAChD,CACA,eAAAgzD,GACOhzD,KAAK0yD,iBAGV1yD,KAAK2E,OAAOguD,iBAAgB,GAC5BlkD,MAAMukD,kBACNhzD,KAAK6yD,WAAW7sD,UAAUC,IAAI,WAC9BjG,KAAK0xD,UAAUoB,iBAAkB,EACjC9yD,KAAKwM,IAAI/G,aAAa,wBAAyBzF,MAAK,IACpDA,KAAK+yD,cAAe,EACpB/yD,KAAK0xD,UAAU94C,oBAAoB,UAAW5Y,MAAK,IACnDA,KAAK0xD,UAAU94C,oBAAoB,QAAS5Y,MAAK,IACjDA,KAAK0xD,UAAU94C,oBAAoB,OAAQ5Y,MAAK,IAChDA,KAAK0xD,UAAU94C,oBAAoB,QAAS5Y,MAAK,IACjDA,KAAKwM,IAAIpD,MAAM,CACbE,eAAe,IAEjBtJ,KAAKizD,WAAY,EACjBjzD,KAAK2E,OAAO6H,IAAIxG,UAAUC,IAAI,mBAChC,CACA,OAAAitD,CAAQ3qD,GACDvI,KAAKmzD,sBAGV1kD,MAAMykD,QAAQ3qD,GACVA,EAAMI,SAAW3I,KAAK0xD,WACxB1xD,KAAK0xD,UAAUtoD,QAEnB,CACA,SAAAgqD,GACMpzD,KAAKS,MACPT,MAAK,MAGPA,KAAKyyD,iBACLzyD,KAAK0xD,UAAUtoD,QACXpJ,KAAKqzD,iBAAiBC,YACxBtzD,KAAKuzD,SAEPvzD,KAAKqzD,gBAAkB,KACzB,CACA,OAAAzM,GACE,OAAQ5mD,KAAK0xD,WAAiD,KAApC1xD,KAAK0xD,UAAU8B,UAAU/G,MACrD,CACA,MAAA9zC,GACE3Y,KAAKizD,WAAY,EACbjzD,KAAK2E,SACP3E,KAAK2E,OAAOguD,iBAAgB,GAC5B3yD,KAAK2E,OAAO6H,IAAIxG,UAAUC,IAAI,oBAEhCwI,MAAMkK,QACR,CACA,MACE,MAAM86C,EAAOzzD,KAAK0xD,UAAUgC,qBAAqB,OACjD,GAAoB,IAAhBD,EAAKpoD,OACP,OAAOrL,KAAK0xD,UAAU8B,UAExB,MAAMxuC,EAAS,GACf,IAAK,MAAMxY,KAAOinD,EAChBzuC,EAAO/Y,KAAKO,EAAIgnD,UAAUG,QAAQ,WAAY,KAEhD,OAAO3uC,EAAOxlB,KAAK,KACrB,CACA,MACE,MAAOyc,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC,IAAIrzD,EACJ,GAAIR,KAAKwyD,gBACPhyD,EAAOR,KAAKwM,IAAIsnD,4BACX,CACL,MAAM,aACJC,EAAY,IACZvnD,GACExM,KACEg0D,EAAexnD,EAAI5G,MAAMkD,QAC/B0D,EAAI5G,MAAMkD,QAAU,SACpBirD,EAAavnD,IAAIX,OAAO7L,KAAKwM,KAC7BhM,EAAOgM,EAAIsnD,wBACXtnD,EAAImM,SACJnM,EAAI5G,MAAMkD,QAAUkrD,CACtB,CACIh0D,KAAKuG,SAAW,KAAQvG,KAAKi0D,eAAiB,KAChDj0D,KAAKS,MAAQD,EAAKC,MAAQwb,EAC1Bjc,KAAKU,OAASF,EAAKE,OAASkzD,IAE5B5zD,KAAKS,MAAQD,EAAKE,OAASub,EAC3Bjc,KAAKU,OAASF,EAAKC,MAAQmzD,GAE7B5zD,KAAKk0D,mBACP,CACA,MAAAC,GACE,IAAKn0D,KAAK0yD,eACR,OAEFjkD,MAAM0lD,SACNn0D,KAAKgzD,kBACL,MAAMoB,EAAYp0D,MAAK,GACjBq0D,EAAUr0D,MAAK,GAAWA,MAAK,KAAes0D,UACpD,GAAIF,IAAcC,EAChB,OAEF,MAAME,EAAUvJ,IACdhrD,MAAK,GAAWgrD,EACXA,GAILhrD,MAAK,KACLA,KAAKoyD,WAAWG,QAAQvyD,MACxBA,MAAK,MALHA,KAAK2Y,QAKoB,EAE7B3Y,KAAK6xD,YAAY,CACfC,IAAK,KACHyC,EAAQF,EAAQ,EAElBtC,KAAM,KACJwC,EAAQH,EAAU,EAEpBpC,UAAU,IAEZhyD,MAAK,IACP,CACA,uBAAAw0D,GACE,OAAOx0D,KAAK0yD,cACd,CACA,eAAA+B,GACEz0D,KAAKyyD,iBACLzyD,KAAK0xD,UAAUtoD,OACjB,CACA,QAAAsrD,CAASnsD,GACPvI,KAAKy0D,iBACP,CACA,OAAAE,CAAQpsD,GACFA,EAAMI,SAAW3I,KAAKwM,KAAqB,UAAdjE,EAAMwM,MACrC/U,KAAKy0D,kBACLlsD,EAAM0O,iBAEV,CACA,gBAAAy4C,CAAiBnnD,GACf+mD,EAAeK,iBAAiB5C,KAAK/sD,KAAMuI,EAC7C,CACA,cAAAinD,CAAejnD,GACbvI,KAAKizD,WAAY,CACnB,CACA,aAAA1D,CAAchnD,GACZvI,KAAKizD,WAAY,CACnB,CACA,cAAAxD,CAAelnD,GACbvI,KAAK2E,OAAO6H,IAAIxG,UAAU4uD,OAAO,kBAAmB50D,KAAK4mD,UAC3D,CACA,cAAAiO,GACE70D,KAAK0xD,UAAUjsD,aAAa,OAAQ,WACpCzF,KAAK0xD,UAAUh9C,gBAAgB,iBACjC,CACA,aAAAogD,GACE90D,KAAK0xD,UAAUjsD,aAAa,OAAQ,WACpCzF,KAAK0xD,UAAUjsD,aAAa,kBAAkB,EAChD,CACA,MAAAgH,GACE,GAAIzM,KAAKwM,IACP,OAAOxM,KAAKwM,IAEd,IAAIuoD,EAAOC,EACPh1D,KAAKS,QACPs0D,EAAQ/0D,KAAK5B,EACb42D,EAAQh1D,KAAKxB,GAEfiQ,MAAMhC,SACNzM,KAAK0xD,UAAYnsD,SAASC,cAAc,OACxCxF,KAAK0xD,UAAU92C,UAAY,WAC3B5a,KAAK0xD,UAAUjsD,aAAa,KAAMzF,MAAK,IACvCA,KAAK0xD,UAAUjsD,aAAa,eAAgB,mBAC5CzF,KAAK80D,gBACL3F,EAAc7uC,iBAAiB20C,aAAa3kD,IAAI,mCAAmC4S,MAAKspC,GAAOxsD,KAAK0xD,WAAWjsD,aAAa,kBAAmB+mD,KAC/IxsD,KAAK0xD,UAAUoB,iBAAkB,EACjC,MAAM,MACJltD,GACE5F,KAAK0xD,UAQT,GAPA9rD,EAAMmO,SAAW,QAAQ/T,MAAK,8BAC9B4F,EAAMvG,MAAQW,MAAK,EACnBA,KAAKwM,IAAIX,OAAO7L,KAAK0xD,WACrB1xD,KAAK6yD,WAAattD,SAASC,cAAc,OACzCxF,KAAK6yD,WAAW7sD,UAAUC,IAAI,UAAW,WACzCjG,KAAKwM,IAAIX,OAAO7L,KAAK6yD,aACrB,EAAGzD,EAAM8F,YAAYl1D,KAAMA,KAAKwM,IAAK,CAAC,WAAY,YAC9CxM,KAAKS,MAAO,CACd,MAAOwb,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC,GAAI7zD,KAAKm1D,oBAAqB,CAC5B,MAAM,SACJ/M,GACEpoD,MAAK,GACT,IAAK6qC,EAAIC,GAAM9qC,KAAKsyD,yBACnBznB,EAAIC,GAAM9qC,KAAKo1D,wBAAwBvqB,EAAIC,GAC5C,MAAO5kC,EAAWC,GAAcnG,KAAKq1D,gBAC9BjvD,EAAOC,GAASrG,KAAKs1D,gBAC5B,IAAIC,EAAMC,EACV,OAAQx1D,KAAKuG,UACX,KAAK,EACHgvD,EAAOR,GAAS3M,EAAS,GAAKhiD,GAASF,EACvCsvD,EAAOR,EAAQh1D,KAAKU,QAAU0nD,EAAS,GAAK/hD,GAASF,EACrD,MACF,KAAK,GACHovD,EAAOR,GAAS3M,EAAS,GAAKhiD,GAASF,EACvCsvD,EAAOR,GAAS5M,EAAS,GAAK/hD,GAASF,GACtC0kC,EAAIC,GAAM,CAACA,GAAKD,GACjB,MACF,KAAK,IACH0qB,EAAOR,EAAQ/0D,KAAKS,OAAS2nD,EAAS,GAAKhiD,GAASF,EACpDsvD,EAAOR,GAAS5M,EAAS,GAAK/hD,GAASF,GACtC0kC,EAAIC,GAAM,EAAED,GAAKC,GAClB,MACF,KAAK,IACHyqB,EAAOR,GAAS3M,EAAS,GAAKhiD,EAAQpG,KAAKU,OAASyF,GAAcD,EAClEsvD,EAAOR,GAAS5M,EAAS,GAAK/hD,EAAQrG,KAAKS,MAAQyF,GAAaC,GAC/D0kC,EAAIC,GAAM,EAAEA,EAAID,GAGrB7qC,KAAKy1D,MAAMF,EAAOt5C,EAAau5C,EAAO5B,EAAc/oB,EAAIC,EAC1D,MACE9qC,KAAKy1D,MAAMV,EAAQ94C,EAAa+4C,EAAQpB,EAAc5zD,KAAKS,MAAQwb,EAAajc,KAAKU,OAASkzD,GAEhG5zD,MAAK,KACLA,KAAK+yD,cAAe,EACpB/yD,KAAK0xD,UAAUoB,iBAAkB,CACnC,MACE9yD,KAAK+yD,cAAe,EACpB/yD,KAAK0xD,UAAUoB,iBAAkB,EAEnC,OAAO9yD,KAAKwM,GACd,CACA,MAEE,GADAxM,KAAK0xD,UAAUgE,kBACV11D,MAAK,GAGV,IAAK,MAAMyc,KAAQzc,MAAK,GAASsc,MAAM,MAAO,CAC5C,MAAM9P,EAAMjH,SAASC,cAAc,OACnCgH,EAAIX,OAAO4Q,EAAOlX,SAASmX,eAAeD,GAAQlX,SAASC,cAAc,OACzExF,KAAK0xD,UAAU7lD,OAAOW,EACxB,CACF,CACA,cAAImpD,GACF,OAAO31D,KAAK0xD,SACd,CACA,kBAAOkE,CAAY90D,EAAM6D,EAAQkxD,GAC/B,IAAItsC,EAAc,KAClB,GAAIzoB,aAAgBuuD,EAAiBhyD,0BAA2B,CAC9D,MACEyD,MACEgT,uBAAuB,SACrBC,EAAQ,UACRF,GACD,KACDrT,EAAI,SACJ+F,EAAQ,GACRb,GACD,YACDwP,EAAW,aACX4H,EACAnY,QACEU,MAAM,WACJwnB,KAGF/rB,EACJ,IAAKoU,GAAsC,IAAvBA,EAAY7J,OAC9B,OAAO,KAETke,EAAczoB,EAAO,CACnBC,eAAgBvD,EAAKuf,qBAAqB7a,SAC1C7C,MAAOwO,MAAMwR,KAAKxL,GAClBE,WACA1C,MAAO6D,EAAY1V,KAAK,MACxB4oD,SAAUtrC,EACV6R,UAAW9B,EAAa,EACxBrsB,OACA+F,WACAb,KACAowD,SAAS,EAEb,CACA,MAAMC,EAAStnD,MAAMmnD,YAAY90D,EAAM6D,EAAQkxD,GAM/C,OALAE,GAAO,GAAYj1D,EAAKiT,SACxBgiD,GAAO,EAASv4D,EAAKkJ,KAAKmB,gBAAgB/G,EAAKzB,OAC/C02D,GAAO,GAAWj1D,EAAKuQ,MACvB0kD,EAAOZ,oBAAsBr0D,EAAK4E,IAAM,KACxCqwD,GAAO,GAAexsC,EACfwsC,CACT,CACA,SAAA30C,CAAU40C,GAAe,GACvB,GAAIh2D,KAAK4mD,UACP,OAAO,KAET,GAAI5mD,KAAK81D,QACP,MAAO,CACLnnC,UAAW3uB,KAAK2uB,UAChBjpB,GAAI1F,KAAKm1D,oBACTW,SAAS,GAGb,MAAMG,EAAU3G,EAAe0B,iBAAmBhxD,KAAK2xD,YACjDnxD,EAAOR,KAAKk2D,QAAQD,EAASA,GAC7B52D,EAAQ8vD,EAAc7uC,iBAAiB61C,cAAcC,QAAQp2D,KAAKwyD,gBAAkBjI,iBAAiBvqD,KAAK0xD,WAAWryD,MAAQW,MAAK,GAClImhB,EAAa,CACjBpgB,eAAgBvD,EAAKuf,qBAAqB7a,SAC1C7C,QACA0U,SAAU/T,MAAK,GACfqR,MAAOrR,MAAK,GACZ2uB,UAAW3uB,KAAK2uB,UAChBnuB,OACA+F,SAAUvG,KAAKuG,SACf8vD,mBAAoBr2D,KAAKs2D,qBAE3B,OAAIN,EACK70C,EAELnhB,KAAKm1D,sBAAwBn1D,MAAK,GAAmBmhB,GAChD,MAETA,EAAWzb,GAAK1F,KAAKm1D,oBACdh0C,EACT,CACA,IAAmBA,GACjB,MAAM,MACJ9P,EAAK,SACL0C,EAAQ,MACR1U,EAAK,KACLmB,EAAI,UACJmuB,GACE3uB,MAAK,GACT,OAAOmhB,EAAW9P,QAAUA,GAAS8P,EAAWpN,WAAaA,GAAYoN,EAAW3gB,KAAK+1D,MAAK,CAACn4D,EAAGme,IAAM1e,KAAKuW,IAAIhW,EAAIoC,EAAK+b,KAAO,KAAM4E,EAAW9hB,MAAMk3D,MAAK,CAACh4D,EAAGge,IAAMhe,IAAMc,EAAMkd,MAAO4E,EAAWwN,YAAcA,CACrN,CACA,IAAkB4F,GAAU,GAC1B,IAAKv0B,KAAKm1D,oBACR,OAGF,GADAn1D,MAAK,MACAu0B,IAA2B,IAAfv0B,KAAKS,OAA+B,IAAhBT,KAAKU,QAExC,YADA2I,YAAW,IAAMrJ,MAAK,IAAkB,IAAO,GAGjD,MAAMi2D,EAAU3G,EAAe0B,iBAAmBhxD,KAAK2xD,YACvD3xD,MAAK,GAAaQ,KAAOR,KAAKk2D,QAAQD,EAASA,EACjD,EAIF,IAAIx4D,EAAgB,EAAoB,KAOxC,MAAM+4D,UAAkBrH,EAAc7uC,iBACpC,IAAc,EACd,IAAa,EACb,IAA0BtgB,KAAKy2D,kBAAkBn8C,KAAKta,MACtD,IAA2BA,KAAK02D,mBAAmBp8C,KAAKta,MACxD,IAAwBA,KAAK22D,gBAAgBr8C,KAAKta,MAClD,IAA0BA,KAAK42D,kBAAkBt8C,KAAKta,MACtD,IAA8B,KAC9B,IAAiB,IAAI8/B,OACrB,KAAkB,EAClB,KAAsB,EACtB,KAAuB,EACvB,IAAY,KACZ,IAAa,EACb,IAAc,EACd,IAAwB,KACxBvV,qBAAuB,KACvBA,uBAAyB,EACzBA,yBAA2B,EAC3BA,aAAe,MACfA,mBAAqB/sB,EAAKuf,qBAAqBla,IAC/C,WAAAe,CAAY0a,GACV7P,MAAM,IACD6P,EACHhU,KAAM,cAERtK,KAAKX,MAAQif,EAAOjf,OAAS,KAC7BW,KAAK62D,UAAYv4C,EAAOu4C,WAAa,KACrC72D,KAAK82D,QAAUx4C,EAAOw4C,SAAW,KACjC92D,KAAKg9C,MAAQ,GACbh9C,KAAK+2D,aAAe,GACpB/2D,KAAKg3D,YAAc,GACnBh3D,KAAKi3D,YAAc,GACnBj3D,KAAKk3D,YAAc,EACnBl3D,KAAKm3D,aAAen3D,KAAKo3D,aAAe,EACxCp3D,KAAK5B,EAAI,EACT4B,KAAKxB,EAAI,EACTwB,KAAKq3D,sBAAuB,CAC9B,CACA,iBAAOzG,CAAWC,GAChB1B,EAAc7uC,iBAAiBswC,WAAWC,EAC5C,CACA,0BAAOK,CAAoB9/C,EAAMC,GAC/B,OAAQD,GACN,KAAK5T,EAAK2zD,2BAA2BmG,cACnCd,EAAUe,kBAAoBlmD,EAC9B,MACF,KAAK7T,EAAK2zD,2BAA2BqG,UACnChB,EAAU/F,cAAgBp/C,EAC1B,MACF,KAAK7T,EAAK2zD,2BAA2BsG,YACnCjB,EAAUkB,gBAAkBrmD,EAAQ,IAG1C,CACA,YAAAigD,CAAalgD,EAAMC,GACjB,OAAQD,GACN,KAAK5T,EAAK2zD,2BAA2BmG,cACnCt3D,MAAK,GAAiBqR,GACtB,MACF,KAAK7T,EAAK2zD,2BAA2BqG,UACnCx3D,MAAK,GAAaqR,GAClB,MACF,KAAK7T,EAAK2zD,2BAA2BsG,YACnCz3D,MAAK,GAAeqR,GAG1B,CACA,oCAAWkgD,GACT,MAAO,CAAC,CAAC/zD,EAAK2zD,2BAA2BmG,cAAed,EAAUe,mBAAoB,CAAC/5D,EAAK2zD,2BAA2BqG,UAAWhB,EAAU/F,eAAiBtB,EAAc7uC,iBAAiBowC,mBAAoB,CAAClzD,EAAK2zD,2BAA2BsG,YAAa55D,KAAKqW,MAAkC,IAA5BsiD,EAAUkB,kBACrR,CACA,sBAAIlG,GACF,MAAO,CAAC,CAACh0D,EAAK2zD,2BAA2BmG,cAAet3D,KAAK62D,WAAaL,EAAUe,mBAAoB,CAAC/5D,EAAK2zD,2BAA2BqG,UAAWx3D,KAAKX,OAASm3D,EAAU/F,eAAiBtB,EAAc7uC,iBAAiBowC,mBAAoB,CAAClzD,EAAK2zD,2BAA2BsG,YAAa55D,KAAKqW,MAAM,KAAOlU,KAAK82D,SAAWN,EAAUkB,mBAC5U,CACA,IAAiBb,GACf,MAAMc,EAAiB33D,KAAK62D,UAC5B72D,KAAK6xD,YAAY,CACfC,IAAK,KACH9xD,KAAK62D,UAAYA,EACjB72D,MAAK,IAAe,EAEtB+xD,KAAM,KACJ/xD,KAAK62D,UAAYc,EACjB33D,MAAK,IAAe,EAEtBgyD,UAAU,EACV5gD,KAAM5T,EAAK2zD,2BAA2BmG,cACtCrF,qBAAqB,EACrBC,UAAU,GAEd,CACA,IAAa7yD,GACX,MAAM8yD,EAAanyD,KAAKX,MACxBW,KAAK6xD,YAAY,CACfC,IAAK,KACH9xD,KAAKX,MAAQA,EACbW,MAAK,IAAS,EAEhB+xD,KAAM,KACJ/xD,KAAKX,MAAQ8yD,EACbnyD,MAAK,IAAS,EAEhBgyD,UAAU,EACV5gD,KAAM5T,EAAK2zD,2BAA2BqG,UACtCvF,qBAAqB,EACrBC,UAAU,GAEd,CACA,IAAe4E,GACbA,GAAW,IACX,MAAMc,EAAe53D,KAAK82D,QAC1B92D,KAAK6xD,YAAY,CACfC,IAAK,KACH9xD,KAAK82D,QAAUA,EACf92D,MAAK,IAAS,EAEhB+xD,KAAM,KACJ/xD,KAAK82D,QAAUc,EACf53D,MAAK,IAAS,EAEhBgyD,UAAU,EACV5gD,KAAM5T,EAAK2zD,2BAA2BsG,YACtCxF,qBAAqB,EACrBC,UAAU,GAEd,CACA,OAAAK,GACOvyD,KAAK2E,SAGV8J,MAAM8jD,UACW,OAAbvyD,KAAKwM,MAGJxM,KAAKkf,SACRlf,MAAK,KACLA,MAAK,MAEFA,KAAKwyD,kBACRxyD,KAAK2E,OAAOsB,IAAIjG,MAChBA,MAAK,MAEPA,MAAK,MACP,CACA,MAAA2Y,GACsB,OAAhB3Y,KAAKkf,SAGJlf,KAAK4mD,WACR5mD,KAAKm0D,SAEPn0D,KAAKkf,OAAOze,MAAQT,KAAKkf,OAAOxe,OAAS,EACzCV,KAAKkf,OAAOvG,SACZ3Y,KAAKkf,OAAS,KACVlf,MAAK,KACPkxB,aAAalxB,MAAK,IAClBA,MAAK,GAA8B,MAErCA,MAAK,GAAU63D,aACf73D,MAAK,GAAY,KACjByO,MAAMkK,SACR,CACA,SAAAm/C,CAAUnzD,IACH3E,KAAK2E,QAAUA,EAClB3E,KAAKoyD,WAAW2F,oBAAoB/3D,MAC3BA,KAAK2E,QAAqB,OAAXA,GACxB3E,KAAKoyD,WAAW4F,iBAAiBh4D,MAEnCyO,MAAMqpD,UAAUnzD,EAClB,CACA,eAAAszD,GACE,MAAOh8C,EAAa23C,GAAgB5zD,KAAK6zD,iBACnCpzD,EAAQT,KAAKS,MAAQwb,EACrBvb,EAASV,KAAKU,OAASkzD,EAC7B5zD,KAAKk4D,cAAcz3D,EAAOC,EAC5B,CACA,cAAA+xD,GACMzyD,MAAK,IAAmC,OAAhBA,KAAKkf,SAGjCzQ,MAAMgkD,iBACNzyD,KAAK+yD,cAAe,EACpB/yD,KAAKkf,OAAO9Q,iBAAiB,cAAepO,MAAK,IACnD,CACA,eAAAgzD,GACOhzD,KAAK0yD,gBAAkC,OAAhB1yD,KAAKkf,SAGjCzQ,MAAMukD,kBACNhzD,KAAK+yD,cAAgB/yD,KAAK4mD,UAC1B5mD,KAAKwM,IAAIxG,UAAU2S,OAAO,WAC1B3Y,KAAKkf,OAAOtG,oBAAoB,cAAe5Y,MAAK,IACtD,CACA,SAAAozD,GACEpzD,KAAK+yD,cAAgB/yD,KAAK4mD,SAC5B,CACA,OAAAA,GACE,OAA6B,IAAtB5mD,KAAKg9C,MAAM3xC,QAAsC,IAAtBrL,KAAKg9C,MAAM3xC,QAAyC,IAAzBrL,KAAKg9C,MAAM,GAAG3xC,MAC7E,CACA,MACE,MAAM,eACJ4oD,EACAJ,kBAAmBpzD,EAAOC,IACxBV,KACJ,OAAQi0D,GACN,KAAK,GACH,MAAO,CAAC,EAAGvzD,EAAQA,EAAQD,GAC7B,KAAK,IACH,MAAO,CAACA,EAAOC,EAAQD,EAAOC,GAChC,KAAK,IACH,MAAO,CAACD,EAAO,EAAGC,EAAQD,GAC5B,QACE,MAAO,CAAC,EAAG,EAAGA,EAAOC,GAE3B,CACA,MACE,MAAM,IACJi/B,EAAG,MACHtgC,EAAK,QACLy3D,EAAO,UACPD,EAAS,YACTlF,EAAW,YACXuF,GACEl3D,KACJ2/B,EAAImN,UAAY+pB,EAAYlF,EAAcuF,EAC1Cv3B,EAAI8Q,QAAU,QACd9Q,EAAI+Q,SAAW,QACf/Q,EAAIgR,WAAa,GACjBhR,EAAIkJ,YAAc,GAAGxpC,KAAQ,EAAG+vD,EAAM+I,cAAcrB,IACtD,CACA,IAAc14D,EAAGI,GACfwB,KAAKkf,OAAO9Q,iBAAiB,cAAe3Q,EAAcqqD,eAC1D9nD,KAAKkf,OAAO9Q,iBAAiB,eAAgBpO,MAAK,IAClDA,KAAKkf,OAAO9Q,iBAAiB,cAAepO,MAAK,IACjDA,KAAKkf,OAAO9Q,iBAAiB,YAAapO,MAAK,IAC/CA,KAAKkf,OAAOtG,oBAAoB,cAAe5Y,MAAK,IACpDA,KAAKizD,WAAY,EACZjzD,MAAK,KACRA,MAAK,IAAuB,EAC5BA,MAAK,KACLA,KAAK62D,YAAcL,EAAUe,kBAC7Bv3D,KAAKX,QAAUm3D,EAAU/F,eAAiBtB,EAAc7uC,iBAAiBowC,kBACzE1wD,KAAK82D,UAAYN,EAAUkB,iBAE7B13D,KAAKi3D,YAAYhrD,KAAK,CAAC7N,EAAGI,IAC1BwB,MAAK,IAAsB,EAC3BA,MAAK,KACLA,MAAK,GAAwB,KAC3BA,MAAK,KACDA,MAAK,IACP0kB,OAAOsZ,sBAAsBh+B,MAAK,GACpC,EAEF0kB,OAAOsZ,sBAAsBh+B,MAAK,GACpC,CACA,IAAM5B,EAAGI,GACP,MAAO45D,EAAOC,GAASr4D,KAAKi3D,YAAYqB,IAAI,GAC5C,GAAIt4D,KAAKi3D,YAAY5rD,OAAS,GAAKjN,IAAMg6D,GAAS55D,IAAM65D,EACtD,OAEF,MAAMpB,EAAcj3D,KAAKi3D,YACzB,IAAIsB,EAASv4D,MAAK,GAGlB,GAFAi3D,EAAYhrD,KAAK,CAAC7N,EAAGI,IACrBwB,MAAK,IAAsB,EACvBi3D,EAAY5rD,QAAU,EAGxB,OAFAktD,EAAOre,UAAU+c,EAAY,SAC7BsB,EAAOne,OAAOh8C,EAAGI,GAGQ,IAAvBy4D,EAAY5rD,SACdrL,MAAK,GAAiBu4D,EAAS,IAAIz4B,OACnCy4B,EAAOre,UAAU+c,EAAY,KAE/Bj3D,MAAK,GAAiBu4D,KAAWtB,EAAYqB,IAAI,MAAOrB,EAAYqB,IAAI,GAAIl6D,EAAGI,EACjF,CACA,MACE,GAAgC,IAA5BwB,KAAKi3D,YAAY5rD,OACnB,OAEF,MAAMmtD,EAAYx4D,KAAKi3D,YAAYqB,IAAI,GACvCt4D,MAAK,GAAeo6C,UAAUoe,EAChC,CACA,IAAap6D,EAAGI,GAMd,IAAIi6D,EACJ,GANAz4D,MAAK,GAAwB,KAC7B5B,EAAIP,KAAKG,IAAIH,KAAKE,IAAIK,EAAG,GAAI4B,KAAKkf,OAAOze,OACzCjC,EAAIX,KAAKG,IAAIH,KAAKE,IAAIS,EAAG,GAAIwB,KAAKkf,OAAOxe,QACzCV,MAAK,GAAM5B,EAAGI,GACdwB,MAAK,KAE2B,IAA5BA,KAAKi3D,YAAY5rD,OACnBotD,EAASz4D,MAAK,SACT,CACL,MAAM04D,EAAK,CAACt6D,EAAGI,GACfi6D,EAAS,CAAC,CAACC,EAAIA,EAAGz4D,QAASy4D,EAAGz4D,QAASy4D,GACzC,CACA,MAAMH,EAASv4D,MAAK,GACdi3D,EAAcj3D,KAAKi3D,YACzBj3D,KAAKi3D,YAAc,GACnBj3D,MAAK,GAAiB,IAAI8/B,OAqB1B9/B,KAAK6xD,YAAY,CACfC,IArBU,KACV9xD,KAAKg3D,YAAY/qD,KAAKgrD,GACtBj3D,KAAKg9C,MAAM/wC,KAAKwsD,GAChBz4D,KAAK+2D,aAAa9qD,KAAKssD,GACvBv4D,KAAKuyD,SAAS,EAkBdR,KAhBW,KACX/xD,KAAKg3D,YAAY3b,MACjBr7C,KAAKg9C,MAAM3B,MACXr7C,KAAK+2D,aAAa1b,MACQ,IAAtBr7C,KAAKg9C,MAAM3xC,OACbrL,KAAK2Y,UAEA3Y,KAAKkf,SACRlf,MAAK,KACLA,MAAK,MAEPA,MAAK,KACP,EAKAgyD,UAAU,GAEd,CACA,MACE,IAAKhyD,MAAK,GACR,OAEFA,MAAK,IAAsB,EAC3B,MAAM62D,EAAYh5D,KAAK4jC,KAAKzhC,KAAK62D,UAAY72D,KAAK2xD,aAC5CgH,EAAa34D,KAAKi3D,YAAYh3D,OAAO,GACrC7B,EAAIu6D,EAAWr5D,KAAIo5D,GAAMA,EAAG,KAC5Bl6D,EAAIm6D,EAAWr5D,KAAIo5D,GAAMA,EAAG,MAK5B,IACJ/4B,IALW9hC,KAAKG,OAAOI,GACZP,KAAKE,OAAOK,GACZP,KAAKG,OAAOQ,GACZX,KAAKE,OAAOS,GAGrBwB,MACJ2/B,EAAIwI,OACJxI,EAAImC,UAAU,EAAG,EAAG9hC,KAAKkf,OAAOze,MAAOT,KAAKkf,OAAOxe,QACnD,IAAK,MAAMw8C,KAAQl9C,KAAK+2D,aACtBp3B,EAAIwc,OAAOe,GAEbvd,EAAIwc,OAAOn8C,MAAK,IAChB2/B,EAAIiT,SACN,CACA,IAAiB2lB,EAAQlxB,EAAIC,EAAIlE,EAAIE,EAAIE,EAAIC,GAC3C,MAAMm1B,GAASvxB,EAAKjE,GAAM,EACpBy1B,GAASvxB,EAAKhE,GAAM,EACpBI,GAAMN,EAAKI,GAAM,EACjBG,GAAML,EAAKG,GAAM,EACvB80B,EAAOje,cAAcse,EAAQ,GAAKx1B,EAAKw1B,GAAS,EAAGC,EAAQ,GAAKv1B,EAAKu1B,GAAS,EAAGn1B,EAAK,GAAKN,EAAKM,GAAM,EAAGC,EAAK,GAAKL,EAAKK,GAAM,EAAGD,EAAIC,EACvI,CACA,MACE,MAAMuZ,EAAOl9C,KAAKi3D,YAClB,GAAI/Z,EAAK7xC,QAAU,EACjB,MAAO,CAAC,CAAC6xC,EAAK,GAAIA,EAAK,GAAIA,EAAKob,IAAI,GAAIpb,EAAKob,IAAI,KAEnD,MAAMQ,EAAe,GACrB,IAAIv8C,GACC8qB,EAAIC,GAAM4V,EAAK,GACpB,IAAK3gC,EAAI,EAAGA,EAAI2gC,EAAK7xC,OAAS,EAAGkR,IAAK,CACpC,MAAO6mB,EAAIE,GAAM4Z,EAAK3gC,IACfinB,EAAIC,GAAMyZ,EAAK3gC,EAAI,GACpBmnB,GAAMN,EAAKI,GAAM,EACjBG,GAAML,EAAKG,GAAM,EACjBs1B,EAAW,CAAC1xB,EAAK,GAAKjE,EAAKiE,GAAM,EAAGC,EAAK,GAAKhE,EAAKgE,GAAM,GACzD0xB,EAAW,CAACt1B,EAAK,GAAKN,EAAKM,GAAM,EAAGC,EAAK,GAAKL,EAAKK,GAAM,GAC/Dm1B,EAAa7sD,KAAK,CAAC,CAACo7B,EAAIC,GAAKyxB,EAAUC,EAAU,CAACt1B,EAAIC,MACrD0D,EAAIC,GAAM,CAAC5D,EAAIC,EAClB,CACA,MAAOP,EAAIE,GAAM4Z,EAAK3gC,IACfinB,EAAIC,GAAMyZ,EAAK3gC,EAAI,GACpBw8C,EAAW,CAAC1xB,EAAK,GAAKjE,EAAKiE,GAAM,EAAGC,EAAK,GAAKhE,EAAKgE,GAAM,GACzD0xB,EAAW,CAACx1B,EAAK,GAAKJ,EAAKI,GAAM,EAAGC,EAAK,GAAKH,EAAKG,GAAM,GAE/D,OADAq1B,EAAa7sD,KAAK,CAAC,CAACo7B,EAAIC,GAAKyxB,EAAUC,EAAU,CAACx1B,EAAIC,KAC/Cq1B,CACT,CACA,MACE,GAAI94D,KAAK4mD,UAEP,YADA5mD,MAAK,KAGPA,MAAK,KACL,MAAM,OACJkf,EAAM,IACNygB,GACE3/B,KACJ2/B,EAAI4C,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GAChC5C,EAAImC,UAAU,EAAG,EAAG5iB,EAAOze,MAAOye,EAAOxe,QACzCV,MAAK,KACL,IAAK,MAAMk9C,KAAQl9C,KAAK+2D,aACtBp3B,EAAIwc,OAAOe,EAEf,CACA,MAAAiX,GACMn0D,MAAK,KAGTyO,MAAM0lD,SACNn0D,KAAKizD,WAAY,EACjBjzD,KAAKgzD,kBACLhzD,KAAKi5D,kBACLj5D,MAAK,IAAkB,EACvBA,KAAKwM,IAAIxG,UAAUC,IAAI,YACvBjG,MAAK,IAAc,GACnBA,KAAKk5D,gBACLl5D,KAAK2E,OAAOw0D,sBAAqB,GACjCn5D,KAAKo5D,YACLp5D,KAAKwM,IAAIpD,MAAM,CACbE,eAAe,IAEnB,CACA,OAAA4pD,CAAQ3qD,GACDvI,KAAKmzD,sBAGV1kD,MAAMykD,QAAQ3qD,GACdvI,KAAKyyD,iBACP,CACA,iBAAAmE,CAAkBruD,GACK,IAAjBA,EAAM8wD,QAAiBr5D,KAAK0yD,iBAAkB1yD,MAAK,KAGvDA,KAAKi5D,kBACL1wD,EAAM0O,iBACa,UAAf1O,EAAM6I,MACRpR,KAAKwM,IAAIpD,QAEXpJ,MAAK,GAAcuI,EAAMonB,QAASpnB,EAAMqnB,SAC1C,CACA,iBAAA6mC,CAAkBluD,GAChBA,EAAM0O,iBACNjX,MAAK,GAAMuI,EAAMonB,QAASpnB,EAAMqnB,QAClC,CACA,eAAA+mC,CAAgBpuD,GACdA,EAAM0O,iBACNjX,MAAK,GAAYuI,EACnB,CACA,kBAAAmuD,CAAmBnuD,GACjBvI,MAAK,GAAYuI,EACnB,CACA,IAAYA,GACVvI,KAAKkf,OAAOtG,oBAAoB,eAAgB5Y,MAAK,IACrDA,KAAKkf,OAAOtG,oBAAoB,cAAe5Y,MAAK,IACpDA,KAAKkf,OAAOtG,oBAAoB,YAAa5Y,MAAK,IAClDA,KAAKkf,OAAO9Q,iBAAiB,cAAepO,MAAK,IAC7CA,MAAK,IACPkxB,aAAalxB,MAAK,IAEpBA,MAAK,GAA8BqJ,YAAW,KAC5CrJ,MAAK,GAA8B,KACnCA,KAAKkf,OAAOtG,oBAAoB,cAAenb,EAAcqqD,cAAc,GAC1E,IACH9nD,MAAK,GAAauI,EAAMonB,QAASpnB,EAAMqnB,SACvC5vB,KAAKs5D,yBACLt5D,KAAKu5D,iBACP,CACA,MACEv5D,KAAKkf,OAAS3Z,SAASC,cAAc,UACrCxF,KAAKkf,OAAOze,MAAQT,KAAKkf,OAAOxe,OAAS,EACzCV,KAAKkf,OAAOtE,UAAY,kBACxB5a,KAAKkf,OAAOzZ,aAAa,eAAgB,oBACzCzF,KAAKwM,IAAIX,OAAO7L,KAAKkf,QACrBlf,KAAK2/B,IAAM3/B,KAAKkf,OAAO6f,WAAW,KACpC,CACA,MACE/+B,MAAK,GAAY,IAAIw5D,gBAAezuD,IAClC,MAAMvK,EAAOuK,EAAQ,GAAG0uD,YACpBj5D,EAAKC,OAASD,EAAKE,QACrBV,KAAKk4D,cAAc13D,EAAKC,MAAOD,EAAKE,OACtC,IAEFV,MAAK,GAAU05D,QAAQ15D,KAAKwM,IAC9B,CACA,eAAImtD,GACF,OAAQ35D,KAAK4mD,WAAa5mD,MAAK,EACjC,CACA,MAAAyM,GACE,GAAIzM,KAAKwM,IACP,OAAOxM,KAAKwM,IAEd,IAAIuoD,EAAOC,EACPh1D,KAAKS,QACPs0D,EAAQ/0D,KAAK5B,EACb42D,EAAQh1D,KAAKxB,GAEfiQ,MAAMhC,SACNzM,KAAKwM,IAAI/G,aAAa,eAAgB,aACtC,MAAOrH,EAAGI,EAAGknD,EAAGC,GAAK3lD,MAAK,KAI1B,GAHAA,KAAKy1D,MAAMr3D,EAAGI,EAAG,EAAG,GACpBwB,KAAK45D,QAAQlU,EAAGC,GAChB3lD,MAAK,KACDA,KAAKS,MAAO,CACd,MAAOwb,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC7zD,KAAK65D,eAAe75D,KAAKS,MAAQwb,EAAajc,KAAKU,OAASkzD,GAC5D5zD,KAAKy1D,MAAMV,EAAQ94C,EAAa+4C,EAAQpB,EAAc5zD,KAAKS,MAAQwb,EAAajc,KAAKU,OAASkzD,GAC9F5zD,MAAK,IAAuB,EAC5BA,MAAK,KACLA,KAAK45D,QAAQ55D,KAAKS,MAAQwb,EAAajc,KAAKU,OAASkzD,GACrD5zD,MAAK,KACLA,KAAKwM,IAAIxG,UAAUC,IAAI,WACzB,MACEjG,KAAKwM,IAAIxG,UAAUC,IAAI,WACvBjG,KAAKyyD,iBAGP,OADAzyD,MAAK,KACEA,KAAKwM,GACd,CACA,MACE,IAAKxM,MAAK,GACR,OAEF,MAAOic,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC7zD,KAAKkf,OAAOze,MAAQ5C,KAAK4jC,KAAKzhC,KAAKS,MAAQwb,GAC3Cjc,KAAKkf,OAAOxe,OAAS7C,KAAK4jC,KAAKzhC,KAAKU,OAASkzD,GAC7C5zD,MAAK,IACP,CACA,aAAAk4D,CAAcz3D,EAAOC,GACnB,MAAMo5D,EAAej8D,KAAKqW,MAAMzT,GAC1Bs5D,EAAgBl8D,KAAKqW,MAAMxT,GACjC,GAAIV,MAAK,KAAe85D,GAAgB95D,MAAK,KAAgB+5D,EAC3D,OAEF/5D,MAAK,GAAa85D,EAClB95D,MAAK,GAAc+5D,EACnB/5D,KAAKkf,OAAOtZ,MAAMoD,WAAa,SAC/B,MAAOiT,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC7zD,KAAKS,MAAQA,EAAQwb,EACrBjc,KAAKU,OAASA,EAASkzD,EACvB5zD,KAAKk0D,oBACDl0D,MAAK,IACPA,MAAK,GAAgBS,EAAOC,GAE9BV,MAAK,KACLA,MAAK,KACLA,KAAKkf,OAAOtZ,MAAMoD,WAAa,UAC/BhJ,KAAKg6D,SACP,CACA,IAAgBv5D,EAAOC,GACrB,MAAMu1D,EAAUj2D,MAAK,KACfi6D,GAAgBx5D,EAAQw1D,GAAWj2D,MAAK,GACxCk6D,GAAgBx5D,EAASu1D,GAAWj2D,MAAK,GAC/CA,KAAKk3D,YAAcr5D,KAAKG,IAAIi8D,EAAcC,EAC5C,CACA,MACE,MAAMjE,EAAUj2D,MAAK,KAAgB,EACrCA,KAAK2/B,IAAI4C,aAAaviC,KAAKk3D,YAAa,EAAG,EAAGl3D,KAAKk3D,YAAal3D,KAAKm3D,aAAen3D,KAAKk3D,YAAcjB,EAASj2D,KAAKo3D,aAAep3D,KAAKk3D,YAAcjB,EACzJ,CACA,SAAO,CAAawC,GAClB,MAAMF,EAAS,IAAIz4B,OACnB,IAAK,IAAIvjB,EAAI,EAAGC,EAAKi8C,EAAOptD,OAAQkR,EAAIC,EAAID,IAAK,CAC/C,MAAO49C,EAAOpB,EAAUC,EAAU/K,GAAUwK,EAAOl8C,GACzC,IAANA,GACFg8C,EAAOre,UAAUigB,GAEnB5B,EAAOje,cAAcye,EAAS,GAAIA,EAAS,GAAIC,EAAS,GAAIA,EAAS,GAAI/K,EAAO,GAAIA,EAAO,GAC7F,CACA,OAAOsK,CACT,CACA,SAAO,CAAkBj7C,EAAQ9c,EAAM+F,GACrC,MAAOiF,EAAKC,EAAKH,EAAKC,GAAO/K,EAC7B,OAAQ+F,GACN,KAAK,EACH,IAAK,IAAIgW,EAAI,EAAGC,EAAKc,EAAOjS,OAAQkR,EAAIC,EAAID,GAAK,EAC/Ce,EAAOf,IAAM/Q,EACb8R,EAAOf,EAAI,GAAKhR,EAAM+R,EAAOf,EAAI,GAEnC,MACF,KAAK,GACH,IAAK,IAAIA,EAAI,EAAGC,EAAKc,EAAOjS,OAAQkR,EAAIC,EAAID,GAAK,EAAG,CAClD,MAAMne,EAAIkf,EAAOf,GACjBe,EAAOf,GAAKe,EAAOf,EAAI,GAAK/Q,EAC5B8R,EAAOf,EAAI,GAAKne,EAAIqN,CACtB,CACA,MACF,KAAK,IACH,IAAK,IAAI8Q,EAAI,EAAGC,EAAKc,EAAOjS,OAAQkR,EAAIC,EAAID,GAAK,EAC/Ce,EAAOf,GAAKjR,EAAMgS,EAAOf,GACzBe,EAAOf,EAAI,IAAM9Q,EAEnB,MACF,KAAK,IACH,IAAK,IAAI8Q,EAAI,EAAGC,EAAKc,EAAOjS,OAAQkR,EAAIC,EAAID,GAAK,EAAG,CAClD,MAAMne,EAAIkf,EAAOf,GACjBe,EAAOf,GAAKjR,EAAMgS,EAAOf,EAAI,GAC7Be,EAAOf,EAAI,GAAKhR,EAAMnN,CACxB,CACA,MACF,QACE,MAAM,IAAIimB,MAAM,oBAEpB,OAAO/G,CACT,CACA,SAAO,CAAoBA,EAAQ9c,EAAM+F,GACvC,MAAOiF,EAAKC,EAAKH,EAAKC,GAAO/K,EAC7B,OAAQ+F,GACN,KAAK,EACH,IAAK,IAAIgW,EAAI,EAAGC,EAAKc,EAAOjS,OAAQkR,EAAIC,EAAID,GAAK,EAC/Ce,EAAOf,IAAM/Q,EACb8R,EAAOf,EAAI,GAAKhR,EAAM+R,EAAOf,EAAI,GAEnC,MACF,KAAK,GACH,IAAK,IAAIA,EAAI,EAAGC,EAAKc,EAAOjS,OAAQkR,EAAIC,EAAID,GAAK,EAAG,CAClD,MAAMne,EAAIkf,EAAOf,GACjBe,EAAOf,GAAKe,EAAOf,EAAI,GAAK9Q,EAC5B6R,EAAOf,EAAI,GAAKne,EAAIoN,CACtB,CACA,MACF,KAAK,IACH,IAAK,IAAI+Q,EAAI,EAAGC,EAAKc,EAAOjS,OAAQkR,EAAIC,EAAID,GAAK,EAC/Ce,EAAOf,GAAKjR,EAAMgS,EAAOf,GACzBe,EAAOf,EAAI,IAAM9Q,EAEnB,MACF,KAAK,IACH,IAAK,IAAI8Q,EAAI,EAAGC,EAAKc,EAAOjS,OAAQkR,EAAIC,EAAID,GAAK,EAAG,CAClD,MAAMne,EAAIkf,EAAOf,GACjBe,EAAOf,GAAKhR,EAAM+R,EAAOf,EAAI,GAC7Be,EAAOf,EAAI,GAAKjR,EAAMlN,CACxB,CACA,MACF,QACE,MAAM,IAAIimB,MAAM,oBAEpB,OAAO/G,CACT,CACA,IAAgB88C,EAAGvvB,EAAIC,EAAItqC,GACzB,MAAMw8C,EAAQ,GACRiZ,EAAUj2D,KAAK62D,UAAY,EAC3BwD,EAASD,EAAIvvB,EAAKorB,EAClBqE,EAASF,EAAItvB,EAAKmrB,EACxB,IAAK,MAAMwC,KAAUz4D,KAAKg9C,MAAO,CAC/B,MAAMh4B,EAAS,GACT1H,EAAS,GACf,IAAK,IAAI2nB,EAAI,EAAGs1B,EAAK9B,EAAOptD,OAAQ45B,EAAIs1B,EAAIt1B,IAAK,CAC/C,MAAOk1B,EAAOpB,EAAUC,EAAU/K,GAAUwK,EAAOxzB,GAC7Cu1B,EAAMJ,EAAID,EAAM,GAAKE,EACrBI,EAAML,EAAID,EAAM,GAAKG,EACrBI,EAAMN,EAAIrB,EAAS,GAAKsB,EACxBM,EAAMP,EAAIrB,EAAS,GAAKuB,EACxBM,EAAMR,EAAIpB,EAAS,GAAKqB,EACxBQ,EAAMT,EAAIpB,EAAS,GAAKsB,EACxBQ,EAAMV,EAAInM,EAAO,GAAKoM,EACtBU,EAAMX,EAAInM,EAAO,GAAKqM,EAClB,IAANr1B,IACFjgB,EAAO/Y,KAAKuuD,EAAKC,GACjBn9C,EAAOrR,KAAKuuD,EAAKC,IAEnBz1C,EAAO/Y,KAAKyuD,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GACrCz9C,EAAOrR,KAAKyuD,EAAKC,GACb11B,IAAMs1B,EAAK,GACbj9C,EAAOrR,KAAK6uD,EAAKC,EAErB,CACA/d,EAAM/wC,KAAK,CACTwsD,OAAQjC,GAAU,GAAkBxxC,EAAQxkB,EAAMR,KAAKuG,UACvD+W,OAAQk5C,GAAU,GAAkBl5C,EAAQ9c,EAAMR,KAAKuG,WAE3D,CACA,OAAOy2C,CACT,CACA,MACE,IAAIge,EAAO5sB,IACP6sB,GAAQ7sB,IACR8sB,EAAO9sB,IACP+sB,GAAQ/sB,IACZ,IAAK,MAAM8O,KAAQl9C,KAAKg9C,MACtB,IAAK,MAAOmd,EAAOpB,EAAUC,EAAU/K,KAAW/Q,EAAM,CACtD,MAAMtd,EAAOpiC,EAAKkJ,KAAKonC,qBAAqBqsB,KAAUpB,KAAaC,KAAa/K,GAChF+M,EAAOn9D,KAAKG,IAAIg9D,EAAMp7B,EAAK,IAC3Bs7B,EAAOr9D,KAAKG,IAAIk9D,EAAMt7B,EAAK,IAC3Bq7B,EAAOp9D,KAAKE,IAAIk9D,EAAMr7B,EAAK,IAC3Bu7B,EAAOt9D,KAAKE,IAAIo9D,EAAMv7B,EAAK,GAC7B,CAEF,MAAO,CAACo7B,EAAME,EAAMD,EAAME,EAC5B,CACA,MACE,OAAOn7D,MAAK,GAAkBnC,KAAK4jC,KAAKzhC,KAAK62D,UAAY72D,KAAK2xD,aAAe,CAC/E,CACA,IAAcyJ,GAAY,GACxB,GAAIp7D,KAAK4mD,UACP,OAEF,IAAK5mD,MAAK,GAER,YADAA,MAAK,KAGP,MAAM4/B,EAAO5/B,MAAK,KACZi2D,EAAUj2D,MAAK,KACrBA,MAAK,GAAanC,KAAKE,IAAIoxD,EAAc7uC,iBAAiB+6C,SAAUz7B,EAAK,GAAKA,EAAK,IACnF5/B,MAAK,GAAcnC,KAAKE,IAAIoxD,EAAc7uC,iBAAiB+6C,SAAUz7B,EAAK,GAAKA,EAAK,IACpF,MAAMn/B,EAAQ5C,KAAK4jC,KAAKw0B,EAAUj2D,MAAK,GAAaA,KAAKk3D,aACnDx2D,EAAS7C,KAAK4jC,KAAKw0B,EAAUj2D,MAAK,GAAcA,KAAKk3D,cACpDj7C,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC7zD,KAAKS,MAAQA,EAAQwb,EACrBjc,KAAKU,OAASA,EAASkzD,EACvB5zD,KAAK65D,eAAep5D,EAAOC,GAC3B,MAAM46D,EAAmBt7D,KAAKm3D,aACxBoE,EAAmBv7D,KAAKo3D,aAC9Bp3D,KAAKm3D,cAAgBv3B,EAAK,GAC1B5/B,KAAKo3D,cAAgBx3B,EAAK,GAC1B5/B,MAAK,KACLA,MAAK,KACLA,MAAK,GAAaS,EAClBT,MAAK,GAAcU,EACnBV,KAAK45D,QAAQn5D,EAAOC,GACpB,MAAM86D,EAAkBJ,EAAYnF,EAAUj2D,KAAKk3D,YAAc,EAAI,EACrEl3D,KAAKgiC,UAAUs5B,EAAmBt7D,KAAKm3D,aAAeqE,EAAiBD,EAAmBv7D,KAAKo3D,aAAeoE,EAChH,CACA,kBAAO5F,CAAY90D,EAAM6D,EAAQkxD,GAC/B,GAAI/0D,aAAgBuuD,EAAiB/xD,qBACnC,OAAO,KAET,MAAMy4D,EAAStnD,MAAMmnD,YAAY90D,EAAM6D,EAAQkxD,GAC/CE,EAAOc,UAAY/1D,EAAK+1D,UACxBd,EAAO12D,MAAQ7B,EAAKkJ,KAAKmB,gBAAgB/G,EAAKzB,OAC9C02D,EAAOe,QAAUh2D,EAAKg2D,QACtB,MAAO5wD,EAAWC,GAAc4vD,EAAOV,eACjC50D,EAAQs1D,EAAOt1D,MAAQyF,EACvBxF,EAASq1D,EAAOr1D,OAASyF,EACzB+wD,EAAcnB,EAAOpE,YACrBsE,EAAUn1D,EAAK+1D,UAAY,EACjCd,GAAO,IAAkB,EACzBA,GAAO,GAAal4D,KAAKqW,MAAMzT,GAC/Bs1D,GAAO,GAAcl4D,KAAKqW,MAAMxT,GAChC,MAAM,MACJs8C,EAAK,KACLx8C,EAAI,SACJ+F,GACEzF,EACJ,IAAK,IAAI,OACP23D,KACGzb,EAAO,CACVyb,EAASjC,GAAU,GAAoBiC,EAAQj4D,EAAM+F,GACrD,MAAM22C,EAAO,GACb6Y,EAAO/Y,MAAM/wC,KAAKixC,GAClB,IAAI2H,EAAKqS,GAAeuB,EAAO,GAAKxC,GAChCxzB,EAAKy0B,GAAeuB,EAAO,GAAKxC,GACpC,IAAK,IAAI15C,EAAI,EAAGC,EAAKi8C,EAAOptD,OAAQkR,EAAIC,EAAID,GAAK,EAAG,CAClD,MAAMi+C,EAAMtD,GAAeuB,EAAOl8C,GAAK05C,GACjCwE,EAAMvD,GAAeuB,EAAOl8C,EAAI,GAAK05C,GACrCyE,EAAMxD,GAAeuB,EAAOl8C,EAAI,GAAK05C,GACrC0E,EAAMzD,GAAeuB,EAAOl8C,EAAI,GAAK05C,GACrC2E,EAAM1D,GAAeuB,EAAOl8C,EAAI,GAAK05C,GACrC4E,EAAM3D,GAAeuB,EAAOl8C,EAAI,GAAK05C,GAC3C/Y,EAAKjxC,KAAK,CAAC,CAAC44C,EAAIpiB,GAAK,CAAC+3B,EAAKC,GAAM,CAACC,EAAKC,GAAM,CAACC,EAAKC,KACnDhW,EAAK+V,EACLn4B,EAAKo4B,CACP,CACA,MAAMtC,EAASv4D,MAAK,GAAak9C,GACjC6Y,EAAOgB,aAAa9qD,KAAKssD,EAC3B,CACA,MAAM34B,EAAOm2B,GAAO,KAIpB,OAHAA,GAAO,GAAal4D,KAAKE,IAAIoxD,EAAc7uC,iBAAiB+6C,SAAUz7B,EAAK,GAAKA,EAAK,IACrFm2B,GAAO,GAAcl4D,KAAKE,IAAIoxD,EAAc7uC,iBAAiB+6C,SAAUz7B,EAAK,GAAKA,EAAK,IACtFm2B,GAAO,GAAgBt1D,EAAOC,GACvBq1D,CACT,CACA,SAAA30C,GACE,GAAIphB,KAAK4mD,UACP,OAAO,KAET,MAAMpmD,EAAOR,KAAKk2D,QAAQ,EAAG,GACvB72D,EAAQ8vD,EAAc7uC,iBAAiB61C,cAAcC,QAAQp2D,KAAK2/B,IAAIkJ,aAC5E,MAAO,CACL9nC,eAAgBvD,EAAKuf,qBAAqBla,IAC1CxD,QACAw3D,UAAW72D,KAAK62D,UAChBC,QAAS92D,KAAK82D,QACd9Z,MAAOh9C,MAAK,GAAgBA,KAAKk3D,YAAcl3D,KAAK2xD,YAAa3xD,KAAKm3D,aAAcn3D,KAAKo3D,aAAc52D,GACvGmuB,UAAW3uB,KAAK2uB,UAChBnuB,OACA+F,SAAUvG,KAAKuG,SACf8vD,mBAAoBr2D,KAAKs2D,oBAE7B,EAQF,MAAMmF,UAAoBtM,EAAc7uC,iBACtC,IAAU,KACV,IAAY,KACZ,IAAiB,KACjB,IAAa,KACb,IAAc,KACd,IAAkB,GAClB,IAAU,KACV,IAAY,KACZ,IAAmB,KACnB,KAAS,EACT,KAA2B,EAC3BiK,aAAe,QACfA,mBAAqB/sB,EAAKuf,qBAAqBvZ,MAC/C,WAAAI,CAAY0a,GACV7P,MAAM,IACD6P,EACHhU,KAAM,gBAERtK,MAAK,GAAase,EAAOo9C,UACzB17D,MAAK,GAAcse,EAAOq9C,UAC5B,CACA,iBAAO/K,CAAWC,GAChB1B,EAAc7uC,iBAAiBswC,WAAWC,EAC5C,CACA,yBAAW+K,GAET,OAAO,EAAGp+D,EAAKqL,QAAQ7I,KAAM,iBADf,CAAC,OAAQ,OAAQ,MAAO,MAAO,OAAQ,MAAO,UAAW,OAAQ,UAC1BV,KAAI8R,GAAQ,SAASA,MAC5E,CACA,4BAAWyqD,GACT,OAAO,EAAGr+D,EAAKqL,QAAQ7I,KAAM,oBAAqBA,KAAK47D,eAAep8D,KAAK,KAC7E,CACA,+BAAOs8D,CAAyBC,GAC9B,OAAO/7D,KAAK47D,eAAe9oD,SAASipD,EACtC,CACA,YAAOC,CAAMniD,EAAMlV,GACjBA,EAAOs3D,YAAYz+D,EAAKuf,qBAAqBvZ,MAAO,CAClDm4D,WAAY9hD,EAAKqiD,aAErB,CACA,IAAkBp7D,EAAMq7D,GAAS,GAC1Br7D,GAILd,MAAK,GAAUc,EAAKugB,OACf86C,IACHn8D,MAAK,GAAYc,EAAK4E,GACtB1F,MAAK,GAASc,EAAKs7D,OAEjBt7D,EAAK8c,OACP5d,MAAK,GAAkBc,EAAK8c,KAAKtT,MAEnCtK,MAAK,MAXHA,KAAK2Y,QAYT,CACA,MACE3Y,MAAK,GAAiB,KACtBA,KAAKoyD,WAAWiK,eAAc,GAC1Br8D,MAAK,IACPA,KAAKwM,IAAIpD,OAEb,CACA,MACE,GAAIpJ,MAAK,GAGP,OAFAA,KAAKoyD,WAAWiK,eAAc,QAC9Br8D,KAAKoyD,WAAWkK,aAAaC,UAAUv8D,MAAK,IAAWkjB,MAAKpiB,GAAQd,MAAK,GAAkBc,GAAM,KAAO06B,SAAQ,IAAMx7B,MAAK,OAG7H,GAAIA,MAAK,GAAY,CACnB,MAAM6O,EAAM7O,MAAK,GAIjB,OAHAA,MAAK,GAAa,KAClBA,KAAKoyD,WAAWiK,eAAc,QAC9Br8D,MAAK,GAAiBA,KAAKoyD,WAAWkK,aAAaE,WAAW3tD,GAAKqU,MAAKpiB,GAAQd,MAAK,GAAkBc,KAAO06B,SAAQ,IAAMx7B,MAAK,OAEnI,CACA,GAAIA,MAAK,GAAa,CACpB,MAAM4d,EAAO5d,MAAK,GAIlB,OAHAA,MAAK,GAAc,KACnBA,KAAKoyD,WAAWiK,eAAc,QAC9Br8D,MAAK,GAAiBA,KAAKoyD,WAAWkK,aAAaG,YAAY7+C,GAAMsF,MAAKpiB,GAAQd,MAAK,GAAkBc,KAAO06B,SAAQ,IAAMx7B,MAAK,OAErI,CACA,MAAMytD,EAAQloD,SAASC,cAAc,SACrCioD,EAAMr8C,KAAO,OACbq8C,EAAMiP,OAASjB,EAAYI,kBAC3B77D,MAAK,GAAiB,IAAImpB,SAAQC,IAChCqkC,EAAMr/C,iBAAiB,UAAUuT,UAC/B,GAAK8rC,EAAMkP,OAAgC,IAAvBlP,EAAMkP,MAAMtxD,OAEzB,CACLrL,KAAKoyD,WAAWiK,eAAc,GAC9B,MAAMv7D,QAAad,KAAKoyD,WAAWkK,aAAaG,YAAYhP,EAAMkP,MAAM,IACxE38D,MAAK,GAAkBc,EACzB,MALEd,KAAK2Y,SAMPyQ,GAAS,IAEXqkC,EAAMr/C,iBAAiB,UAAU,KAC/BpO,KAAK2Y,SACLyQ,GAAS,GACT,IACDoS,SAAQ,IAAMx7B,MAAK,OACtBytD,EAAMmP,OACR,CACA,MAAAjkD,GACM3Y,MAAK,KACPA,MAAK,GAAU,KACfA,KAAKoyD,WAAWkK,aAAaO,SAAS78D,MAAK,IAC3CA,MAAK,IAAS2Y,SACd3Y,MAAK,GAAU,KACfA,MAAK,IAAW63D,aAChB73D,MAAK,GAAY,KACbA,MAAK,KACPkxB,aAAalxB,MAAK,IAClBA,MAAK,GAAmB,OAG5ByO,MAAMkK,QACR,CACA,OAAA45C,GACOvyD,KAAK2E,QAMV8J,MAAM8jD,UACW,OAAbvyD,KAAKwM,MAGLxM,MAAK,IACPA,MAAK,KAEFA,KAAKwyD,iBACRxyD,KAAK2E,OAAOsB,IAAIjG,QAbZA,MAAK,IACPA,MAAK,IAcX,CACA,SAAAozD,GACEpzD,KAAK+yD,cAAe,EACpB/yD,KAAKwM,IAAIpD,OACX,CACA,OAAAw9C,GACE,QAAS5mD,MAAK,IAAkBA,MAAK,IAAWA,MAAK,IAAcA,MAAK,GAC1E,CACA,eAAI25D,GACF,OAAO,CACT,CACA,MAAAltD,GACE,GAAIzM,KAAKwM,IACP,OAAOxM,KAAKwM,IAEd,IAAIuoD,EAAOC,EAYX,GAXIh1D,KAAKS,QACPs0D,EAAQ/0D,KAAK5B,EACb42D,EAAQh1D,KAAKxB,GAEfiQ,MAAMhC,SACNzM,KAAKwM,IAAIzD,QAAS,EACd/I,MAAK,GACPA,MAAK,KAELA,MAAK,KAEHA,KAAKS,MAAO,CACd,MAAOwb,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC7zD,KAAKy1D,MAAMV,EAAQ94C,EAAa+4C,EAAQpB,EAAc5zD,KAAKS,MAAQwb,EAAajc,KAAKU,OAASkzD,EAChG,CACA,OAAO5zD,KAAKwM,GACd,CACA,MACE,MAAM,IACJA,GACExM,KACJ,IAAI,MACFS,EAAK,OACLC,GACEV,MAAK,GACT,MAAOkG,EAAWC,GAAcnG,KAAKq1D,eAC/ByH,EAAY,IAClB,GAAI98D,KAAKS,MACPA,EAAQT,KAAKS,MAAQyF,EACrBxF,EAASV,KAAKU,OAASyF,OAClB,GAAI1F,EAAQq8D,EAAY52D,GAAaxF,EAASo8D,EAAY32D,EAAY,CAC3E,MAAM42D,EAASl/D,KAAKG,IAAI8+D,EAAY52D,EAAYzF,EAAOq8D,EAAY32D,EAAazF,GAChFD,GAASs8D,EACTr8D,GAAUq8D,CACZ,CACA,MAAO9gD,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC7zD,KAAK45D,QAAQn5D,EAAQwb,EAAc/V,EAAWxF,EAASkzD,EAAeztD,GACtEnG,KAAKoyD,WAAWiK,eAAc,GAC9B,MAAMn9C,EAASlf,MAAK,GAAUuF,SAASC,cAAc,UACrDgH,EAAIX,OAAOqT,GACX1S,EAAIzD,QAAS,EACb/I,MAAK,GAAYS,EAAOC,GACxBV,MAAK,KACAA,MAAK,KACRA,KAAK2E,OAAOq4D,kBAAkBh9D,MAC9BA,MAAK,IAA2B,GAElCA,KAAKoyD,WAAW6K,UAAU3uD,SAAS,kBAAmB,CACpDC,OAAQvO,KACR66B,QAAS,CACPzpB,KAAM,UACN6gC,QAASjyC,KAAKk9D,WACdp8D,KAAM,CACJ2J,OAAQ,qBAIdzK,KAAKm9D,mBACDn9D,MAAK,IACPkf,EAAOzZ,aAAa,aAAczF,MAAK,GAE3C,CACA,IAAeS,EAAOC,GACpB,MAAOub,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC7zD,KAAKS,MAAQA,EAAQwb,EACrBjc,KAAKU,OAASA,EAASkzD,EACvB5zD,KAAK45D,QAAQn5D,EAAOC,GAChBV,KAAKqzD,iBAAiBC,WACxBtzD,KAAKuzD,SAELvzD,KAAKk0D,oBAEPl0D,KAAKqzD,gBAAkB,KACO,OAA1BrzD,MAAK,IACPkxB,aAAalxB,MAAK,IAGpBA,MAAK,GAAmBqJ,YAAW,KACjCrJ,MAAK,GAAmB,KACxBA,MAAK,GAAYS,EAAOC,EAAO,GAHZ,IAKvB,CACA,IAAaD,EAAOC,GAClB,MACED,MAAO28D,EACP18D,OAAQ28D,GACNr9D,MAAK,GACT,IAAIi3C,EAAWmmB,EACXlmB,EAAYmmB,EACZh8C,EAASrhB,MAAK,GAClB,KAAOi3C,EAAW,EAAIx2C,GAASy2C,EAAY,EAAIx2C,GAAQ,CACrD,MAAM48D,EAAYrmB,EACZsmB,EAAarmB,EACfD,EAAW,EAAIx2C,IACjBw2C,EAAWA,GAAY,MAAQp5C,KAAKC,MAAMm5C,EAAW,GAAK,EAAIp5C,KAAK4jC,KAAKwV,EAAW,IAEjFC,EAAY,EAAIx2C,IAClBw2C,EAAYA,GAAa,MAAQr5C,KAAKC,MAAMo5C,EAAY,GAAK,EAAIr5C,KAAK4jC,KAAKyV,EAAY,IAEzF,MAAMsmB,EAAY,IAAIC,gBAAgBxmB,EAAUC,GACpCsmB,EAAUz+B,WAAW,MAC7ByM,UAAUnqB,EAAQ,EAAG,EAAGi8C,EAAWC,EAAY,EAAG,EAAGtmB,EAAUC,GACnE71B,EAASm8C,EAAUE,uBACrB,CACA,OAAOr8C,CACT,CACA,IAAY5gB,EAAOC,GACjBD,EAAQ5C,KAAK4jC,KAAKhhC,GAClBC,EAAS7C,KAAK4jC,KAAK/gC,GACnB,MAAMwe,EAASlf,MAAK,GACpB,IAAKkf,GAAUA,EAAOze,QAAUA,GAASye,EAAOxe,SAAWA,EACzD,OAEFwe,EAAOze,MAAQA,EACfye,EAAOxe,OAASA,EAChB,MAAM2gB,EAASrhB,MAAK,GAASA,MAAK,GAAUA,MAAK,GAAaS,EAAOC,GAC/Di/B,EAAMzgB,EAAO6f,WAAW,MAC9BY,EAAI5mB,OAAS/Y,KAAKoyD,WAAWuL,UAC7Bh+B,EAAI6L,UAAUnqB,EAAQ,EAAG,EAAGA,EAAO5gB,MAAO4gB,EAAO3gB,OAAQ,EAAG,EAAGD,EAAOC,EACxE,CACA,kBAAAk9D,GACE,OAAO59D,MAAK,EACd,CACA,IAAiB69D,GACf,GAAIA,EAAO,CACT,GAAI79D,MAAK,GAAQ,CACf,MAAM6O,EAAM7O,KAAKoyD,WAAWkK,aAAawB,UAAU99D,MAAK,IACxD,GAAI6O,EACF,OAAOA,CAEX,CACA,MAAMqQ,EAAS3Z,SAASC,cAAc,YAEpC/E,MAAOye,EAAOze,MACdC,OAAQwe,EAAOxe,QACbV,MAAK,IAGT,OAFYkf,EAAO6f,WAAW,MAC1ByM,UAAUxrC,MAAK,GAAS,EAAG,GACxBkf,EAAO6+C,WAChB,CACA,GAAI/9D,MAAK,GAAQ,CACf,MAAOkG,EAAWC,GAAcnG,KAAKq1D,eAC/B50D,EAAQ5C,KAAKqW,MAAMlU,KAAKS,MAAQyF,EAAYzI,EAAcy1C,cAAcC,kBACxEzyC,EAAS7C,KAAKqW,MAAMlU,KAAKU,OAASyF,EAAa1I,EAAcy1C,cAAcC,kBAC3EqqB,EAAY,IAAIC,gBAAgBh9D,EAAOC,GAG7C,OAFY88D,EAAUz+B,WAAW,MAC7ByM,UAAUxrC,MAAK,GAAS,EAAG,EAAGA,MAAK,GAAQS,MAAOT,MAAK,GAAQU,OAAQ,EAAG,EAAGD,EAAOC,GACjF88D,EAAUE,uBACnB,CACA,OAAOl8C,gBAAgBxhB,MAAK,GAC9B,CACA,MACEA,MAAK,GAAY,IAAIw5D,gBAAezuD,IAClC,MAAMvK,EAAOuK,EAAQ,GAAG0uD,YACpBj5D,EAAKC,OAASD,EAAKE,QACrBV,MAAK,GAAeQ,EAAKC,MAAOD,EAAKE,OACvC,IAEFV,MAAK,GAAU05D,QAAQ15D,KAAKwM,IAC9B,CACA,kBAAOopD,CAAY90D,EAAM6D,EAAQkxD,GAC/B,GAAI/0D,aAAgBuuD,EAAiB9xD,uBACnC,OAAO,KAET,MAAMw4D,EAAStnD,MAAMmnD,YAAY90D,EAAM6D,EAAQkxD,IACzC,KACJr1D,EAAI,UACJk7D,EAAS,SACTsC,EAAQ,MACR5B,EAAK,kBACL6B,GACEn9D,EACAk9D,GAAYnI,EAAUyG,aAAa4B,UAAUF,GAC/CjI,GAAO,GAAYiI,EAEnBjI,GAAO,GAAa2F,EAEtB3F,GAAO,GAASqG,EAChB,MAAOngD,EAAa23C,GAAgBmC,EAAOV,eAM3C,OALAU,EAAOt1D,OAASD,EAAK,GAAKA,EAAK,IAAMyb,EACrC85C,EAAOr1D,QAAUF,EAAK,GAAKA,EAAK,IAAMozD,EAClCqK,IACFlI,EAAOoI,YAAcF,GAEhBlI,CACT,CACA,SAAA30C,CAAU40C,GAAe,EAAO/0C,EAAU,MACxC,GAAIjhB,KAAK4mD,UACP,OAAO,KAET,MAAMzlC,EAAa,CACjBpgB,eAAgBvD,EAAKuf,qBAAqBvZ,MAC1Cw6D,SAAUh+D,MAAK,GACf2uB,UAAW3uB,KAAK2uB,UAChBnuB,KAAMR,KAAKk2D,QAAQ,EAAG,GACtB3vD,SAAUvG,KAAKuG,SACf61D,MAAOp8D,MAAK,GACZq2D,mBAAoBr2D,KAAKs2D,qBAE3B,GAAIN,EAGF,OAFA70C,EAAWu6C,UAAY17D,MAAK,IAAiB,GAC7CmhB,EAAW88C,kBAAoBj+D,KAAKm+D,YAC7Bh9C,EAET,MAAM,WACJi9C,EAAU,QACVC,GACEr+D,KAAKm+D,YAOT,IANKC,GAAcC,IACjBl9C,EAAW88C,kBAAoB,CAC7B7sD,KAAM,SACNktD,IAAKD,IAGO,OAAZp9C,EACF,OAAOE,EAETF,EAAQs9C,SAAW,IAAIluD,IACvB,MAAMmuD,EAAOx+D,MAAK,IAAUmhB,EAAW3gB,KAAK,GAAK2gB,EAAW3gB,KAAK,KAAO2gB,EAAW3gB,KAAK,GAAK2gB,EAAW3gB,KAAK,IAAM,KACnH,GAAKygB,EAAQs9C,OAAOpxD,IAAInN,MAAK,KAMtB,GAAIA,MAAK,GAAQ,CACtB,MAAMy+D,EAAWx9C,EAAQs9C,OAAOjuD,IAAItQ,MAAK,IACrCw+D,EAAOC,EAASD,OAClBC,EAASD,KAAOA,EAChBC,EAASt9C,WAAWE,OAAOiY,QAC3BmlC,EAASt9C,WAAWE,OAASrhB,MAAK,IAAiB,GAEvD,OAZEihB,EAAQs9C,OAAOx/C,IAAI/e,MAAK,GAAW,CACjCw+D,OACAr9C,eAEFA,EAAWE,OAASrhB,MAAK,IAAiB,GAS5C,OAAOmhB,CACT,EAUF,MAAM+tC,EACJ,GACA,KAAc,EACd,IAAmB,KACnB,IAAkBlvD,KAAK0+D,UAAUpkD,KAAKta,MACtC,IAAoBA,KAAK2+D,YAAYrkD,KAAKta,MAC1C,IAAwB,KACxB,IAAW,IAAIqQ,IACf,KAAkB,EAClB,KAAgB,EAChB,KAAe,EACf,IACAka,qBAAsB,EACtBA,UAAsB,IAAIla,IAAI,CAACi/C,EAAgBkH,EAAWiF,GAAan8D,KAAI8R,GAAQ,CAACA,EAAKwtD,YAAaxtD,MACtG,WAAAxN,EAAY,UACViyD,EAAS,UACTlnC,EAAS,IACTniB,EAAG,qBACHyR,EAAoB,gBACpB4gD,EAAe,SACfv5D,EAAQ,KACRurD,IAEA,MAAMiO,EAAc,IAAI5P,GAAsB,GAAal+C,UAC3D,IAAKk+C,EAAsB6P,aAAc,CACvC7P,EAAsB6P,cAAe,EACrC,IAAK,MAAM7B,KAAc4B,EACvB5B,EAAWtM,WAAWC,EAE1B,CACAgF,EAAUmJ,oBAAoBF,GAC9B9+D,MAAK,GAAa61D,EAClB71D,KAAK2uB,UAAYA,EACjB3uB,KAAKwM,IAAMA,EACXxM,MAAK,EAAwBie,EAC7Bje,MAAK,GAAmB6+D,EACxB7+D,KAAKsF,SAAWA,EAChBtF,MAAK,GAAWi/D,SAASj/D,KAC3B,CACA,WAAI4mD,GACF,OAA8B,IAAvB5mD,MAAK,GAASiY,IACvB,CACA,aAAA26C,CAAc1kD,GACZlO,MAAK,GAAW4yD,cAAc1kD,EAChC,CACA,UAAAgxD,CAAWhxD,EAAOlO,MAAK,GAAWm/D,WAQhC,GAPAn/D,MAAK,KACDkO,IAAS1Q,EAAKuf,qBAAqBla,KACrC7C,KAAKm5D,sBAAqB,GAC1Bn5D,KAAKo/D,gBAELp/D,KAAKq/D,cAEHnxD,IAAS1Q,EAAKuf,qBAAqBsiB,KAAM,CAC3C,MAAM,UACJr5B,GACEhG,KAAKwM,IACT,IAAK,MAAM0wD,KAAchO,GAAsB,GAAal+C,SAC1DhL,EAAU4uD,OAAO,GAAGsI,EAAWv8C,eAAgBzS,IAASgvD,EAAW0B,aAErE5+D,KAAKwM,IAAIzD,QAAS,CACpB,CACF,CACA,oBAAAowD,CAAqBmG,GACnB,IAAKA,GAAgBt/D,MAAK,GAAWm/D,YAAc3hE,EAAKuf,qBAAqBla,IAC3E,OAEF,IAAKy8D,EACH,IAAK,MAAMvJ,KAAU/1D,MAAK,GAASgR,SACjC,GAAI+kD,EAAOnP,UAET,YADAmP,EAAOwD,kBAKEv5D,MAAK,GAAuB,CACzC2vB,QAAS,EACTC,QAAS,IACR,GACI2pC,iBACT,CACA,eAAA5G,CAAgBM,GACdjzD,MAAK,GAAW2yD,gBAAgBM,EAClC,CACA,WAAApB,CAAYvzC,GACVte,MAAK,GAAW6xD,YAAYvzC,EAC9B,CACA,mBAAAihD,CAAoBnkC,GAAU,GAC5Bp7B,KAAKwM,IAAIxG,UAAU4uD,OAAO,YAAax5B,EACzC,CACA,MAAAokC,GACEx/D,KAAKu/D,qBAAoB,GACzB,MAAME,EAAuB,IAAI3uD,IACjC,IAAK,MAAMilD,KAAU/1D,MAAK,GAASgR,SACjC+kD,EAAOjB,gBACHiB,EAAOZ,qBACTsK,EAAqBx5D,IAAI8vD,EAAOZ,qBAGpC,IAAKn1D,MAAK,GACR,OAEF,MAAM0/D,EAAY1/D,MAAK,GAAiBof,yBACxC,IAAK,MAAMrF,KAAY2lD,EAAW,CAEhC,GADA3lD,EAASvM,OACLxN,MAAK,GAAW2/D,2BAA2B5lD,EAASjZ,KAAK4E,IAC3D,SAEF,GAAI+5D,EAAqBtyD,IAAI4M,EAASjZ,KAAK4E,IACzC,SAEF,MAAMqwD,EAAS/1D,KAAK41D,YAAY77C,GAC3Bg8C,IAGL/1D,KAAK4/D,aAAa7J,GAClBA,EAAOjB,gBACT,CACF,CACA,OAAA+K,GACE7/D,MAAK,IAAe,EACpBA,KAAKu/D,qBAAoB,GACzB,MAAMO,EAAsB,IAAIhvD,IAChC,IAAK,MAAMilD,KAAU/1D,MAAK,GAASgR,SACjC+kD,EAAOlB,iBACFkB,EAAOZ,qBAA8C,OAAvBY,EAAO30C,aAI1CphB,KAAKsf,sBAAsBy2C,EAAOZ,sBAAsB7nD,OACxDyoD,EAAOp9C,UAJLmnD,EAAoB75D,IAAI8vD,EAAOZ,qBAMnC,GAAIn1D,MAAK,GAAkB,CACzB,MAAM0/D,EAAY1/D,MAAK,GAAiBof,yBACxC,IAAK,MAAMrF,KAAY2lD,EAAW,CAChC,MAAM,GACJh6D,GACEqU,EAASjZ,KACTg/D,EAAoB3yD,IAAIzH,IAAO1F,MAAK,GAAW2/D,2BAA2Bj6D,IAG9EqU,EAASzM,MACX,CACF,CACAtN,MAAK,KACDA,KAAK4mD,UACP5mD,KAAKwM,IAAIzD,QAAS,GAEpB,MAAM,UACJ/C,GACEhG,KAAKwM,IACT,IAAK,MAAM0wD,KAAchO,GAAsB,GAAal+C,SAC1DhL,EAAU2S,OAAO,GAAGukD,EAAWv8C,gBAEjC3gB,MAAK,IAAe,CACtB,CACA,qBAAAsf,CAAsB5Z,GACpB,OAAO1F,MAAK,IAAkBsf,sBAAsB5Z,IAAO,IAC7D,CACA,eAAAq6D,CAAgBhK,GACQ/1D,MAAK,GAAWggE,cAChBjK,GAGtB/1D,MAAK,GAAW+/D,gBAAgBhK,EAClC,CACA,WAAAsJ,GACEr/D,KAAKwM,IAAI4B,iBAAiB,cAAepO,MAAK,IAC9CA,KAAKwM,IAAI4B,iBAAiB,YAAapO,MAAK,GAC9C,CACA,YAAAo/D,GACEp/D,KAAKwM,IAAIoM,oBAAoB,cAAe5Y,MAAK,IACjDA,KAAKwM,IAAIoM,oBAAoB,YAAa5Y,MAAK,GACjD,CACA,MAAAigE,CAAOlK,GACL/1D,MAAK,GAAS+e,IAAIg3C,EAAOrwD,GAAIqwD,GAC7B,MAAM,oBACJZ,GACEY,EACAZ,GAAuBn1D,MAAK,GAAW2/D,2BAA2BxK,IACpEn1D,MAAK,GAAWkgE,+BAA+BnK,EAEnD,CACA,MAAAoK,CAAOpK,GACL/1D,MAAK,GAASogB,OAAO21C,EAAOrwD,IAC5B1F,MAAK,GAAuBogE,yBAAyBrK,EAAOJ,aACvD31D,MAAK,IAAgB+1D,EAAOZ,qBAC/Bn1D,MAAK,GAAWqgE,4BAA4BtK,EAEhD,CACA,MAAAp9C,CAAOo9C,GACL/1D,KAAKmgE,OAAOpK,GACZ/1D,MAAK,GAAWsgE,aAAavK,GAC7BA,EAAOvpD,IAAImM,SACXo9C,EAAOvD,iBAAkB,EACpBxyD,MAAK,IACRA,KAAKm5D,sBAAqB,EAE9B,CACA,YAAAoH,CAAaxK,GACPA,EAAOpxD,SAAW3E,OAGlB+1D,EAAOZ,sBACTn1D,MAAK,GAAWqgE,4BAA4BtK,EAAOZ,qBACnDhG,EAAc7uC,iBAAiBkgD,wBAAwBzK,GACvDA,EAAOZ,oBAAsB,MAE/Bn1D,KAAKigE,OAAOlK,GACZA,EAAOpxD,QAAQw7D,OAAOpK,GACtBA,EAAO+B,UAAU93D,MACb+1D,EAAOvpD,KAAOupD,EAAOvD,kBACvBuD,EAAOvpD,IAAImM,SACX3Y,KAAKwM,IAAIX,OAAOkqD,EAAOvpD,MAE3B,CACA,GAAAvG,CAAI8vD,GAIF,GAHA/1D,KAAKugE,aAAaxK,GAClB/1D,MAAK,GAAWygE,UAAU1K,GAC1B/1D,KAAKigE,OAAOlK,IACPA,EAAOvD,gBAAiB,CAC3B,MAAMhmD,EAAMupD,EAAOtpD,SACnBzM,KAAKwM,IAAIX,OAAOW,GAChBupD,EAAOvD,iBAAkB,CAC3B,CACAuD,EAAO7B,oBACP6B,EAAO3C,YACPpzD,MAAK,GAAWs5D,uBAAuBvD,EACzC,CACA,eAAA2K,CAAgB3K,GACd,IAAKA,EAAOvD,gBACV,OAEF,MAAM,cACJp8C,GACE7Q,SACAwwD,EAAOvpD,IAAIm0D,SAASvqD,KAAmBpW,MAAK,KAC9C+1D,EAAO5C,qBAAsB,EAC7BnzD,MAAK,GAAwBqJ,YAAW,KACtCrJ,MAAK,GAAwB,KACxB+1D,EAAOvpD,IAAIm0D,SAASp7D,SAAS6Q,eAQhC2/C,EAAO5C,qBAAsB,GAP7B4C,EAAOvpD,IAAI4B,iBAAiB,WAAW,KACrC2nD,EAAO5C,qBAAsB,CAAI,GAChC,CACDyN,MAAM,IAERxqD,EAAchN,QAGhB,GACC,IAEL2sD,EAAOO,oBAAsBt2D,MAAK,GAAuBqe,iBAAiBre,KAAKwM,IAAKupD,EAAOvpD,IAAKupD,EAAOJ,YAAY,EACrH,CACA,YAAAiK,CAAa7J,GACPA,EAAO8K,oBACT9K,EAAOpxD,SAAW3E,KAClB+1D,EAAOxD,WAEPvyD,KAAKiG,IAAI8vD,EAEb,CACA,iBAAAiH,CAAkBjH,GAKhB/1D,KAAK6xD,YAAY,CACfC,IALU,IAAMiE,EAAO3D,WAAWG,QAAQwD,GAM1ChE,KALW,KACXgE,EAAOp9C,QAAQ,EAKfq5C,UAAU,GAEd,CACA,SAAA8O,GACE,OAAO9gE,MAAK,GAAW+gE,OACzB,CACA,IAAiBziD,GACf,MAAM4+C,EAAahO,GAAsB,GAAa5+C,IAAItQ,MAAK,GAAWm/D,WAC1E,OAAOjC,EAAa,IAAIA,EAAWpkD,UAAUlV,YAAY0a,GAAU,IACrE,CACA,WAAA29C,CAAY/tD,EAAMoQ,GAChBte,MAAK,GAAW4yD,cAAc1kD,GAC9BlO,MAAK,GAAWk/D,WAAWhxD,GAC3B,MAAM,QACJyhB,EAAO,QACPC,GACE5vB,MAAK,KACH0F,EAAK1F,KAAK8gE,YACV/K,EAAS/1D,MAAK,GAAiB,CACnC2E,OAAQ3E,KACR0F,KACAtH,EAAGuxB,EACHnxB,EAAGoxB,EACHimC,UAAW71D,MAAK,GAChBszD,YAAY,KACTh1C,IAEDy3C,GACF/1D,KAAKiG,IAAI8vD,EAEb,CACA,WAAAH,CAAY90D,GACV,OAAOouD,GAAsB,GAAa5+C,IAAIxP,EAAKC,gBAAkBD,EAAKmN,uBAAuB2nD,YAAY90D,EAAMd,KAAMA,MAAK,KAAe,IAC/I,CACA,IAAuBuI,EAAO+qD,GAC5B,MAAM5tD,EAAK1F,KAAK8gE,YACV/K,EAAS/1D,MAAK,GAAiB,CACnC2E,OAAQ3E,KACR0F,KACAtH,EAAGmK,EAAMonB,QACTnxB,EAAG+J,EAAMqnB,QACTimC,UAAW71D,MAAK,GAChBszD,eAKF,OAHIyC,GACF/1D,KAAKiG,IAAI8vD,GAEJA,CACT,CACA,MACE,MAAM,EACJ33D,EAAC,EACDI,EAAC,MACDiC,EAAK,OACLC,GACEV,KAAKwM,IAAIsnD,wBACP/oB,EAAMltC,KAAKE,IAAI,EAAGK,GAClB6sC,EAAMptC,KAAKE,IAAI,EAAGS,GAGlBitD,GAAW1gB,EAFLltC,KAAKG,IAAI0mB,OAAOs8C,WAAY5iE,EAAIqC,IAEd,EAAIrC,EAC5BstD,GAAWzgB,EAFLptC,KAAKG,IAAI0mB,OAAOu8C,YAAaziE,EAAIkC,IAEf,EAAIlC,GAC3BmxB,EAASC,GAAW5vB,KAAKsF,SAASiB,SAAW,KAAQ,EAAI,CAACklD,EAASC,GAAW,CAACA,EAASD,GAC/F,MAAO,CACL97B,UACAC,UAEJ,CACA,YAAAsxC,GACElhE,MAAK,GAAuBA,MAAK,MAAmB,EACtD,CACA,WAAAmhE,CAAYpL,GACV/1D,MAAK,GAAWmhE,YAAYpL,EAC9B,CACA,cAAAqL,CAAerL,GACb/1D,MAAK,GAAWohE,eAAerL,EACjC,CACA,UAAAsL,CAAWtL,GACT,OAAO/1D,MAAK,GAAWqhE,WAAWtL,EACpC,CACA,QAAAuL,CAASvL,GACP/1D,MAAK,GAAWshE,SAASvL,EAC3B,CACA,SAAA2I,CAAUn2D,GACR,MAAM,MACJ+J,GACE9U,EAAK4U,YAAYC,SACA,IAAjB9J,EAAM8wD,QAAgB9wD,EAAMiK,SAAWF,GAGvC/J,EAAMI,SAAW3I,KAAKwM,KAGrBxM,MAAK,KAGVA,MAAK,IAAkB,EAClBA,MAAK,GAINA,MAAK,GAAWm/D,YAAc3hE,EAAKuf,qBAAqBvZ,MAI5DxD,MAAK,GAAuBuI,GAAO,GAHjCvI,MAAK,GAAWuhE,cAJhBvhE,MAAK,IAAc,EAQvB,CACA,WAAA2+D,CAAYp2D,GACV,GAAIvI,MAAK,GAEP,YADAA,MAAK,IAAkB,GAGzB,MAAM,MACJsS,GACE9U,EAAK4U,YAAYC,SACrB,GAAqB,IAAjB9J,EAAM8wD,QAAgB9wD,EAAMiK,SAAWF,EACzC,OAEF,GAAI/J,EAAMI,SAAW3I,KAAKwM,IACxB,OAEFxM,MAAK,IAAkB,EACvB,MAAM+1D,EAAS/1D,MAAK,GAAWggE,YAC/BhgE,MAAK,IAAe+1D,GAAUA,EAAOnP,SACvC,CACA,aAAA4a,CAAczL,EAAQ33D,EAAGI,GACvB,MAAMwF,EAAQhE,MAAK,GAAWyhE,WAAWrjE,EAAGI,GAC5C,OAAc,OAAVwF,GAAkBA,IAAUhE,OAGhCgE,EAAMu8D,aAAaxK,IACZ,EACT,CACA,OAAAprC,GACM3qB,MAAK,GAAWggE,aAAar7D,SAAW3E,OAC1CA,MAAK,GAAWqwD,iBAChBrwD,MAAK,GAAW+/D,gBAAgB,OAE9B//D,MAAK,KACPkxB,aAAalxB,MAAK,IAClBA,MAAK,GAAwB,MAE/B,IAAK,MAAM+1D,KAAU/1D,MAAK,GAASgR,SACjChR,MAAK,GAAuBogE,yBAAyBrK,EAAOJ,YAC5DI,EAAO+B,UAAU,MACjB/B,EAAOvD,iBAAkB,EACzBuD,EAAOvpD,IAAImM,SAEb3Y,KAAKwM,IAAM,KACXxM,MAAK,GAASwZ,QACdxZ,MAAK,GAAW0hE,YAAY1hE,KAC9B,CACA,MACEA,MAAK,IAAgB,EACrB,IAAK,MAAM+1D,KAAU/1D,MAAK,GAASgR,SAC7B+kD,EAAOnP,WACTmP,EAAOp9C,SAGX3Y,MAAK,IAAgB,CACvB,CACA,MAAAyM,EAAO,SACLnH,IAEAtF,KAAKsF,SAAWA,GAChB,EAAG7H,EAAc+gB,oBAAoBxe,KAAKwM,IAAKlH,GAC/C,IAAK,MAAMywD,KAAU/1D,MAAK,GAAW2hE,WAAW3hE,KAAK2uB,WACnD3uB,KAAKiG,IAAI8vD,GAEX/1D,KAAKk/D,YACP,CACA,MAAAjgD,EAAO,SACL3Z,IAEAtF,MAAK,GAAWqwD,iBAChBrwD,KAAKsF,SAAWA,GAChB,EAAG7H,EAAc+gB,oBAAoBxe,KAAKwM,IAAK,CAC7CjG,SAAUjB,EAASiB,WAErBvG,KAAKk/D,YACP,CACA,kBAAI7J,GACF,MAAM,UACJnvD,EAAS,WACTC,GACEnG,KAAKsF,SAASgB,QAClB,MAAO,CAACJ,EAAWC,EACrB,EAIK,EAED,IACA,CAAEjJ,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzCmjB,iBAAkB,IAAM,IAE1B,IAAIshD,EAAyC,EAAoB,KAC7D5Z,EAA+C,EAAoB,KACnE5lC,EAAiD,EAAoB,KAI9F,MAAM9B,EACJ,IAAkB,KAClB,IAAW,GACX,KAAqB,EACrB,IAAiB,KACjB,IAAkB,KAClB,IAAyB,KACzB,KAA0B,EAC1B,KAAmB,EACnB,IAAe,KACf,IAAmB,KACnB,IAAgBtgB,KAAKkzD,QAAQ54C,KAAKta,MAClC,IAAiBA,KAAK6hE,SAASvnD,KAAKta,MACpC,IAAsB,GACtB,KAAkB,EAClB,KAAa,EACb,KAAgB,EAChB,KAA+B,EAC/B,IAAoB,KACpBqzD,gBAAkB9oD,OAAO3J,OAAO,MAChCwxD,WAAa,KACbe,qBAAsB,EACtB8B,aAAe,KACf,KAAe,EACf,IAAU30C,EAAiBwhD,UAC3Bv3C,yBAA2B,EAC3BA,qBAAuB,IAAIq3C,EAAuCG,aAClEx3C,eAAiB,EACjBA,yBAA2B,EAC3B,kCAAWy3C,GACT,MAAMC,EAAS3hD,EAAiBxH,UAAUopD,oBACpCnS,EAAQ6R,EAAuC5R,0BAA0BC,gBACzEC,EAAM0R,EAAuC5R,0BAA0BG,cAC7E,OAAO,EAAGnI,EAA6Cn/C,QAAQ7I,KAAM,0BAA2B,IAAI4hE,EAAuCxR,gBAAgB,CAAC,CAAC,CAAC,YAAa,iBAAkB6R,EAAQ,CACnMzmB,KAAM,EAAEuU,EAAO,KACb,CAAC,CAAC,iBAAkB,uBAAwBkS,EAAQ,CACtDzmB,KAAM,EAAE0U,EAAK,KACX,CAAC,CAAC,aAAc,kBAAmB+R,EAAQ,CAC7CzmB,KAAM,CAACuU,EAAO,KACZ,CAAC,CAAC,kBAAmB,wBAAyBkS,EAAQ,CACxDzmB,KAAM,CAAC0U,EAAK,KACV,CAAC,CAAC,UAAW,eAAgB+R,EAAQ,CACvCzmB,KAAM,CAAC,GAAIuU,KACT,CAAC,CAAC,eAAgB,qBAAsBkS,EAAQ,CAClDzmB,KAAM,CAAC,GAAI0U,KACT,CAAC,CAAC,YAAa,iBAAkB+R,EAAQ,CAC3CzmB,KAAM,CAAC,EAAGuU,KACR,CAAC,CAAC,iBAAkB,uBAAwBkS,EAAQ,CACtDzmB,KAAM,CAAC,EAAG0U,KACR,CAAC,CAAC,SAAU,cAAe5vC,EAAiBxH,UAAUqpD,6BAC5D,CACA,WAAAv+D,CAAY/C,GACNb,KAAK4D,cAAgB0c,IACvB,EAAG0nC,EAA6Ct7C,aAAa,uCAE/D1M,KAAK2E,OAAS9D,EAAW8D,OACzB3E,KAAK0F,GAAK7E,EAAW6E,GACrB1F,KAAKS,MAAQT,KAAKU,OAAS,KAC3BV,KAAK2uB,UAAY9tB,EAAW8D,OAAOgqB,UACnC3uB,KAAKsK,KAAOzJ,EAAWyJ,KACvBtK,KAAKwM,IAAM,KACXxM,KAAKoyD,WAAavxD,EAAWg1D,UAC7B71D,KAAKm1D,oBAAsB,KAC3Bn1D,KAAKq3D,sBAAuB,EAC5Br3D,KAAKqzD,gBAAgBC,WAAazyD,EAAWyyD,WAC7CtzD,KAAKs2D,oBAAsB,KAC3B,MAAM,SACJ/vD,EACAD,SAAS,UACPJ,EAAS,WACTC,EAAU,MACVC,EAAK,MACLC,IAEArG,KAAK2E,OAAOW,SAChBtF,KAAKuG,SAAWA,EAChBvG,KAAKoiE,cAAgB,IAAM77D,EAAWvG,KAAKoyD,WAAWiQ,eAAe97D,UAAY,IACjFvG,KAAKq1D,eAAiB,CAACnvD,EAAWC,GAClCnG,KAAKs1D,gBAAkB,CAAClvD,EAAOC,GAC/B,MAAO5F,EAAOC,GAAUV,KAAK6zD,iBAC7B7zD,KAAK5B,EAAIyC,EAAWzC,EAAIqC,EACxBT,KAAKxB,EAAIqC,EAAWrC,EAAIkC,EACxBV,KAAKwyD,iBAAkB,EACvBxyD,KAAK81D,SAAU,CACjB,CACA,cAAIoH,GACF,OAAO3yD,OAAO+3D,eAAetiE,MAAM4D,YAAY+c,KACjD,CACA,4BAAW+vC,GACT,OAAO,EAAG1I,EAA6Cn/C,QAAQ7I,KAAM,oBAAqBA,KAAKm2D,cAAcoM,WAAW,cAC1H,CACA,8BAAO/B,CAAwBzK,GAC7B,MAAMyM,EAAa,IAAIC,EAAW,CAChC/8D,GAAIqwD,EAAOpxD,OAAOm8D,YAClBn8D,OAAQoxD,EAAOpxD,OACfkxD,UAAWE,EAAO3D,aAEpBoQ,EAAWrN,oBAAsBY,EAAOZ,oBACxCqN,EAAW1M,SAAU,EACrB0M,EAAWpQ,WAAWkH,uBAAuBkJ,EAC/C,CACA,iBAAO5R,CAAWC,EAAMriD,EAAU,MAEhC,GADA8R,EAAiB20C,eAAiB,IAAI5kD,IAAI,CAAC,qCAAsC,0CAA2C,2CAA4C,qCAAsC,uCAAwC,sCAAuC,yCAA0C,yCAA0C,0CAA2C,wCAAyC,yCAAyC/Q,KAAI6F,GAAO,CAACA,EAAK0rD,EAAKvgD,IAAInL,EAAIqQ,WAAW,YAAYjX,GAAK,IAAIA,EAAEqT,uBAC1iBpD,GAASsiD,QACX,IAAK,MAAM3rD,KAAOqJ,EAAQsiD,QACxBxwC,EAAiB20C,aAAal2C,IAAI5Z,EAAK0rD,EAAKvgD,IAAInL,IAGpD,IAA2C,IAAvCmb,EAAiBoiD,iBACnB,OAEF,MAAM98D,EAAQ2kD,iBAAiBhlD,SAASwrD,iBACxCzwC,EAAiBoiD,iBAAmBzR,WAAWrrD,EAAM4kD,iBAAiB,qBAAuB,CAC/F,CACA,0BAAO0G,CAAoBvwC,EAAOgiD,GAAS,CAC3C,oCAAWpR,GACT,MAAO,EACT,CACA,+BAAOuK,CAAyBC,GAC9B,OAAO,CACT,CACA,YAAOC,CAAMniD,EAAMlV,IACjB,EAAGqjD,EAA6Ct7C,aAAa,kBAC/D,CACA,sBAAI8kD,GACF,MAAO,EACT,CACA,gBAAIuB,GACF,OAAO/yD,MAAK,EACd,CACA,gBAAI+yD,CAAa1hD,GACfrR,MAAK,GAAeqR,EACpBrR,KAAKwM,KAAKxG,UAAU4uD,OAAO,YAAavjD,EAC1C,CACA,kBAAIuxD,GACF,OAAO,CACT,CACA,MAAArP,GACE,MAAOrtD,EAAWC,GAAcnG,KAAKq1D,eACrC,OAAQr1D,KAAKi0D,gBACX,KAAK,GACHj0D,KAAK5B,GAAK4B,KAAKU,OAASyF,GAA0B,EAAZD,GACtClG,KAAKxB,GAAKwB,KAAKS,MAAQyF,GAA0B,EAAbC,GACpC,MACF,KAAK,IACHnG,KAAK5B,GAAK4B,KAAKS,MAAQ,EACvBT,KAAKxB,GAAKwB,KAAKU,OAAS,EACxB,MACF,KAAK,IACHV,KAAK5B,GAAK4B,KAAKU,OAASyF,GAA0B,EAAZD,GACtClG,KAAKxB,GAAKwB,KAAKS,MAAQyF,GAA0B,EAAbC,GACpC,MACF,QACEnG,KAAK5B,GAAK4B,KAAKS,MAAQ,EACvBT,KAAKxB,GAAKwB,KAAKU,OAAS,EAG5BV,KAAKk0D,mBACP,CACA,WAAArC,CAAYvzC,GACVte,KAAKoyD,WAAWP,YAAYvzC,EAC9B,CACA,gBAAIy1C,GACF,OAAO/zD,KAAKoyD,WAAW2B,YACzB,CACA,eAAAwF,GACEv5D,KAAKwM,IAAI5G,MAAMC,OAAS,CAC1B,CACA,eAAAozD,GACEj5D,KAAKwM,IAAI5G,MAAMC,OAAS7F,MAAK,EAC/B,CACA,SAAA83D,CAAUnzD,GACO,OAAXA,GACF3E,KAAK2uB,UAAYhqB,EAAOgqB,UACxB3uB,KAAKq1D,eAAiB1wD,EAAO0wD,gBAE7Br1D,MAAK,KAEPA,KAAK2E,OAASA,CAChB,CACA,OAAAuuD,CAAQ3qD,GACDvI,KAAKmzD,sBAGLnzD,MAAK,GAGRA,MAAK,IAAkB,EAFvBA,KAAK2E,OAAOw8D,YAAYnhE,MAI5B,CACA,QAAA6hE,CAASt5D,GACP,IAAKvI,KAAKmzD,oBACR,OAEF,IAAKnzD,KAAKwyD,gBACR,OAEF,MAAM7pD,EAASJ,EAAM4K,cACjBxK,GAAQk6D,QAAQ,IAAI7iE,KAAK0F,QAG7B6C,EAAM0O,iBACDjX,KAAK2E,QAAQm+D,qBAChB9iE,KAAKqwD,iBAET,CACA,cAAAA,GACMrwD,KAAK4mD,UACP5mD,KAAK2Y,SAEL3Y,KAAKm0D,QAET,CACA,MAAAA,GACEn0D,KAAKs5D,wBACP,CACA,sBAAAA,GACEt5D,KAAKoyD,WAAWkH,uBAAuBt5D,KACzC,CACA,KAAAy1D,CAAMr3D,EAAGI,EAAGqsC,EAAIC,GACd,MAAOrqC,EAAOC,GAAUV,KAAK6zD,kBAC5BhpB,EAAIC,GAAM9qC,KAAK+iE,wBAAwBl4B,EAAIC,GAC5C9qC,KAAK5B,GAAKA,EAAIysC,GAAMpqC,EACpBT,KAAKxB,GAAKA,EAAIssC,GAAMpqC,EACpBV,KAAKk0D,mBACP,CACA,KAAYzzD,EAAOC,GAAStC,EAAGI,IAC5BJ,EAAGI,GAAKwB,KAAK+iE,wBAAwB3kE,EAAGI,GACzCwB,KAAK5B,GAAKA,EAAIqC,EACdT,KAAKxB,GAAKA,EAAIkC,EACdV,KAAKk0D,mBACP,CACA,SAAAlyB,CAAU5jC,EAAGI,GACXwB,MAAK,GAAWA,KAAK6zD,iBAAkBz1D,EAAGI,EAC5C,CACA,eAAAwkE,CAAgB5kE,EAAGI,GACjBwB,MAAK,GAAWA,KAAKq1D,eAAgBj3D,EAAGI,GACxCwB,KAAKwM,IAAIy2D,eAAe,CACtBC,MAAO,WAEX,CACA,IAAAC,CAAKt4B,EAAIC,GACP,MAAO7uB,EAAa23C,GAAgB5zD,KAAK6zD,iBAGzC,GAFA7zD,KAAK5B,GAAKysC,EAAK5uB,EACfjc,KAAKxB,GAAKssC,EAAK8oB,EACX5zD,KAAK2E,SAAW3E,KAAK5B,EAAI,GAAK4B,KAAK5B,EAAI,GAAK4B,KAAKxB,EAAI,GAAKwB,KAAKxB,EAAI,GAAI,CACzE,MAAM,EACJJ,EAAC,EACDI,GACEwB,KAAKwM,IAAIsnD,wBACT9zD,KAAK2E,OAAO68D,cAAcxhE,KAAM5B,EAAGI,KACrCwB,KAAK5B,GAAKP,KAAKC,MAAMkC,KAAK5B,GAC1B4B,KAAKxB,GAAKX,KAAKC,MAAMkC,KAAKxB,GAE9B,CACA,IAAI,EACFJ,EAAC,EACDI,GACEwB,KACJ,MAAOojE,EAAIC,GAAMrjE,MAAK,KACtB5B,GAAKglE,EACL5kE,GAAK6kE,EACLrjE,KAAKwM,IAAI5G,MAAMkC,KAAO,IAAI,IAAM1J,GAAGklE,QAAQ,MAC3CtjE,KAAKwM,IAAI5G,MAAMmC,IAAM,IAAI,IAAMvJ,GAAG8kE,QAAQ,MAC1CtjE,KAAKwM,IAAIy2D,eAAe,CACtBC,MAAO,WAEX,CACA,MACE,MAAOjnD,EAAa23C,GAAgB5zD,KAAK6zD,kBACnC,iBACJ6O,GACEpiD,EACEliB,EAAIskE,EAAmBzmD,EACvBzd,EAAIkkE,EAAmB9O,EAC7B,OAAQ5zD,KAAKuG,UACX,KAAK,GACH,MAAO,EAAEnI,EAAGI,GACd,KAAK,IACH,MAAO,CAACJ,EAAGI,GACb,KAAK,IACH,MAAO,CAACJ,GAAII,GACd,QACE,MAAO,EAAEJ,GAAII,GAEnB,CACA,iBAAA01D,GACE,MAAOhuD,EAAWC,GAAcnG,KAAKq1D,eACrC,IAAI,EACFj3D,EAAC,EACDI,EAAC,MACDiC,EAAK,OACLC,GACEV,KAKJ,OAJAS,GAASyF,EACTxF,GAAUyF,EACV/H,GAAK8H,EACL1H,GAAK2H,EACGnG,KAAKuG,UACX,KAAK,EACHnI,EAAIP,KAAKE,IAAI,EAAGF,KAAKG,IAAIkI,EAAYzF,EAAOrC,IAC5CI,EAAIX,KAAKE,IAAI,EAAGF,KAAKG,IAAImI,EAAazF,EAAQlC,IAC9C,MACF,KAAK,GACHJ,EAAIP,KAAKE,IAAI,EAAGF,KAAKG,IAAIkI,EAAYxF,EAAQtC,IAC7CI,EAAIX,KAAKG,IAAImI,EAAYtI,KAAKE,IAAI0C,EAAOjC,IACzC,MACF,KAAK,IACHJ,EAAIP,KAAKG,IAAIkI,EAAWrI,KAAKE,IAAI0C,EAAOrC,IACxCI,EAAIX,KAAKG,IAAImI,EAAYtI,KAAKE,IAAI2C,EAAQlC,IAC1C,MACF,KAAK,IACHJ,EAAIP,KAAKG,IAAIkI,EAAWrI,KAAKE,IAAI2C,EAAQtC,IACzCI,EAAIX,KAAKE,IAAI,EAAGF,KAAKG,IAAImI,EAAa1F,EAAOjC,IAGjDwB,KAAK5B,EAAIA,GAAK8H,EACdlG,KAAKxB,EAAIA,GAAK2H,EACd,MAAOi9D,EAAIC,GAAMrjE,MAAK,KACtB5B,GAAKglE,EACL5kE,GAAK6kE,EACL,MAAM,MACJz9D,GACE5F,KAAKwM,IACT5G,EAAMkC,KAAO,IAAI,IAAM1J,GAAGklE,QAAQ,MAClC19D,EAAMmC,IAAM,IAAI,IAAMvJ,GAAG8kE,QAAQ,MACjCtjE,KAAKo5D,WACP,CACA,SAAO,CAAah7D,EAAGI,EAAGwJ,GACxB,OAAQA,GACN,KAAK,GACH,MAAO,CAACxJ,GAAIJ,GACd,KAAK,IACH,MAAO,EAAEA,GAAII,GACf,KAAK,IACH,MAAO,EAAEA,EAAGJ,GACd,QACE,MAAO,CAACA,EAAGI,GAEjB,CACA,uBAAAukE,CAAwB3kE,EAAGI,GACzB,OAAO8hB,GAAiB,GAAaliB,EAAGI,EAAGwB,KAAKi0D,eAClD,CACA,uBAAAmB,CAAwBh3D,EAAGI,GACzB,OAAO8hB,GAAiB,GAAaliB,EAAGI,EAAG,IAAMwB,KAAKi0D,eACxD,CACA,IAAmB1tD,GACjB,OAAQA,GACN,KAAK,GACH,CACE,MAAOL,EAAWC,GAAcnG,KAAKq1D,eACrC,MAAO,CAAC,GAAInvD,EAAYC,EAAYA,EAAaD,EAAW,EAC9D,CACF,KAAK,IACH,MAAO,EAAE,EAAG,EAAG,GAAI,GACrB,KAAK,IACH,CACE,MAAOA,EAAWC,GAAcnG,KAAKq1D,eACrC,MAAO,CAAC,EAAGnvD,EAAYC,GAAaA,EAAaD,EAAW,EAC9D,CACF,QACE,MAAO,CAAC,EAAG,EAAG,EAAG,GAEvB,CACA,eAAIyrD,GACF,OAAO3xD,KAAKoyD,WAAWiQ,eAAekB,SACxC,CACA,kBAAItP,GACF,OAAQj0D,KAAKoyD,WAAWiQ,eAAe97D,SAAWvG,KAAKoiE,cAAgB,GACzE,CACA,oBAAIvO,GACF,MAAM,YACJlC,EACA0D,gBAAiBnvD,EAAWC,IAC1BnG,KACEwjE,EAAct9D,EAAYyrD,EAC1B8R,EAAet9D,EAAawrD,EAClC,OAAO3J,EAA6C51C,YAAY28C,oBAAsB,CAAClxD,KAAKqW,MAAMsvD,GAAc3lE,KAAKqW,MAAMuvD,IAAiB,CAACD,EAAaC,EAC5J,CACA,OAAA7J,CAAQn5D,EAAOC,GACb,MAAOub,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC7zD,KAAKwM,IAAI5G,MAAMnF,MAAQ,IAAI,IAAMA,EAAQwb,GAAaqnD,QAAQ,MACzDtjE,MAAK,KACRA,KAAKwM,IAAI5G,MAAMlF,OAAS,IAAI,IAAMA,EAASkzD,GAAc0P,QAAQ,OAEnEtjE,MAAK,IAAgBgG,UAAU4uD,OAAO,QAASn0D,EAAQ6f,EAAiBojD,mBAAqBhjE,EAAS4f,EAAiBojD,kBACzH,CACA,OAAA1J,GACE,MAAM,MACJp0D,GACE5F,KAAKwM,KACH,OACJ9L,EAAM,MACND,GACEmF,EACE+9D,EAAeljE,EAAMmjE,SAAS,KAC9BC,GAAiB7jE,MAAK,IAAoBU,EAAOkjE,SAAS,KAChE,GAAID,GAAgBE,EAClB,OAEF,MAAO5nD,EAAa23C,GAAgB5zD,KAAK6zD,iBACpC8P,IACH/9D,EAAMnF,MAAQ,IAAI,IAAMwwD,WAAWxwD,GAASwb,GAAaqnD,QAAQ,OAE9DtjE,MAAK,IAAqB6jE,IAC7Bj+D,EAAMlF,OAAS,IAAI,IAAMuwD,WAAWvwD,GAAUkzD,GAAc0P,QAAQ,MAExE,CACA,qBAAAhR,GACE,MAAO,CAAC,EAAG,EACb,CACA,MACE,GAAItyD,MAAK,GACP,OAEFA,MAAK,GAAeuF,SAASC,cAAc,OAC3CxF,MAAK,GAAagG,UAAUC,IAAI,YAChC,MAAM69D,EAAU9jE,KAAKq3D,qBAAuB,CAAC,UAAW,WAAY,cAAe,cAAgB,CAAC,UAAW,YAAa,WAAY,cAAe,cAAe,eAAgB,aAAc,cACpM,IAAK,MAAM/sD,KAAQw5D,EAAS,CAC1B,MAAMt3D,EAAMjH,SAASC,cAAc,OACnCxF,MAAK,GAAa6L,OAAOW,GACzBA,EAAIxG,UAAUC,IAAI,UAAWqE,GAC7BkC,EAAI/G,aAAa,oBAAqB6E,GACtCkC,EAAI4B,iBAAiB,cAAepO,MAAK,GAAoBsa,KAAKta,KAAMsK,IACxEkC,EAAI4B,iBAAiB,cAAegU,EAA+C0lC,eACnFt7C,EAAI7G,UAAY,CAClB,CACA3F,KAAKwM,IAAIkM,QAAQ1Y,MAAK,GACxB,CACA,IAAoBsK,EAAM/B,GACxBA,EAAM0O,iBACN,MAAM,MACJ3E,GACE01C,EAA6C51C,YAAYC,SAC7D,GAAqB,IAAjB9J,EAAM8wD,QAAgB9wD,EAAMiK,SAAWF,EACzC,OAEFtS,MAAK,IAAqB,GAC1B,MAAM+jE,EAA0B/jE,MAAK,GAAoBsa,KAAKta,KAAMsK,GAC9D05D,EAAiBhkE,KAAK+yD,aAC5B/yD,KAAK+yD,cAAe,EACpB,MAAMkR,EAAqB,CACzBC,SAAS,EACTC,SAAS,GAEXnkE,KAAK2E,OAAO46D,qBAAoB,GAChC76C,OAAOtW,iBAAiB,cAAe21D,EAAyBE,GAChE,MAAMG,EAASpkE,KAAK5B,EACdimE,EAASrkE,KAAKxB,EACd8lE,EAAatkE,KAAKS,MAClB8jE,EAAcvkE,KAAKU,OACnB8jE,EAAoBxkE,KAAK2E,OAAO6H,IAAI5G,MAAM6+D,OAC1CC,EAAc1kE,KAAKwM,IAAI5G,MAAM6+D,OACnCzkE,KAAKwM,IAAI5G,MAAM6+D,OAASzkE,KAAK2E,OAAO6H,IAAI5G,MAAM6+D,OAAS//C,OAAO6lC,iBAAiBhiD,EAAMI,QAAQ87D,OAC7F,MAAME,EAAoB,KACxB3kE,KAAK2E,OAAO46D,qBAAoB,GAChCv/D,MAAK,IAAqB,GAC1BA,KAAK+yD,aAAeiR,EACpBt/C,OAAO9L,oBAAoB,YAAa+rD,GACxCjgD,OAAO9L,oBAAoB,OAAQ+rD,GACnCjgD,OAAO9L,oBAAoB,cAAemrD,EAAyBE,GACnEjkE,KAAK2E,OAAO6H,IAAI5G,MAAM6+D,OAASD,EAC/BxkE,KAAKwM,IAAI5G,MAAM6+D,OAASC,EACxB1kE,MAAK,GAAsBokE,EAAQC,EAAQC,EAAYC,EAAY,EAErE7/C,OAAOtW,iBAAiB,YAAau2D,GACrCjgD,OAAOtW,iBAAiB,OAAQu2D,EAClC,CACA,IAAsBP,EAAQC,EAAQC,EAAYC,GAChD,MAAMK,EAAO5kE,KAAK5B,EACZymE,EAAO7kE,KAAKxB,EACZy4C,EAAWj3C,KAAKS,MAChBy2C,EAAYl3C,KAAKU,OACnBkkE,IAASR,GAAUS,IAASR,GAAUptB,IAAaqtB,GAAcptB,IAAcqtB,GAGnFvkE,KAAK6xD,YAAY,CACfC,IAAK,KACH9xD,KAAKS,MAAQw2C,EACbj3C,KAAKU,OAASw2C,EACdl3C,KAAK5B,EAAIwmE,EACT5kE,KAAKxB,EAAIqmE,EACT,MAAO5oD,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC7zD,KAAK45D,QAAQ39C,EAAcg7B,EAAU2c,EAAe1c,GACpDl3C,KAAKk0D,mBAAmB,EAE1BnC,KAAM,KACJ/xD,KAAKS,MAAQ6jE,EACbtkE,KAAKU,OAAS6jE,EACdvkE,KAAK5B,EAAIgmE,EACTpkE,KAAKxB,EAAI6lE,EACT,MAAOpoD,EAAa23C,GAAgB5zD,KAAK6zD,iBACzC7zD,KAAK45D,QAAQ39C,EAAcqoD,EAAY1Q,EAAe2Q,GACtDvkE,KAAKk0D,mBAAmB,EAE1BlC,UAAU,GAEd,CACA,IAAoB1nD,EAAM/B,GACxB,MAAO0T,EAAa23C,GAAgB5zD,KAAK6zD,iBACnCuQ,EAASpkE,KAAK5B,EACdimE,EAASrkE,KAAKxB,EACd8lE,EAAatkE,KAAKS,MAClB8jE,EAAcvkE,KAAKU,OACnBokE,EAAWxkD,EAAiB+6C,SAAWp/C,EACvC8oD,EAAYzkD,EAAiB+6C,SAAWzH,EACxC1/C,EAAQ9V,GAAKP,KAAKqW,MAAU,IAAJ9V,GAAa,IACrC4mE,EAAiBhlE,MAAK,GAAmBA,KAAKuG,UAC9C0+D,EAAS,CAAC7mE,EAAGI,IAAM,CAACwmE,EAAe,GAAK5mE,EAAI4mE,EAAe,GAAKxmE,EAAGwmE,EAAe,GAAK5mE,EAAI4mE,EAAe,GAAKxmE,GAC/G0mE,EAAoBllE,MAAK,GAAmB,IAAMA,KAAKuG,UAE7D,IAAI4+D,EACAC,EACAC,GAAa,EACbC,GAAe,EACnB,OAAQh7D,GACN,IAAK,UACH+6D,GAAa,EACbF,EAAW,CAACzf,EAAGC,IAAM,CAAC,EAAG,GACzByf,EAAc,CAAC1f,EAAGC,IAAM,CAACD,EAAGC,GAC5B,MACF,IAAK,YACHwf,EAAW,CAACzf,EAAGC,IAAM,CAACD,EAAI,EAAG,GAC7B0f,EAAc,CAAC1f,EAAGC,IAAM,CAACD,EAAI,EAAGC,GAChC,MACF,IAAK,WACH0f,GAAa,EACbF,EAAW,CAACzf,EAAGC,IAAM,CAACD,EAAG,GACzB0f,EAAc,CAAC1f,EAAGC,IAAM,CAAC,EAAGA,GAC5B,MACF,IAAK,cACH2f,GAAe,EACfH,EAAW,CAACzf,EAAGC,IAAM,CAACD,EAAGC,EAAI,GAC7Byf,EAAc,CAAC1f,EAAGC,IAAM,CAAC,EAAGA,EAAI,GAChC,MACF,IAAK,cACH0f,GAAa,EACbF,EAAW,CAACzf,EAAGC,IAAM,CAACD,EAAGC,GACzByf,EAAc,CAAC1f,EAAGC,IAAM,CAAC,EAAG,GAC5B,MACF,IAAK,eACHwf,EAAW,CAACzf,EAAGC,IAAM,CAACD,EAAI,EAAGC,GAC7Byf,EAAc,CAAC1f,EAAGC,IAAM,CAACD,EAAI,EAAG,GAChC,MACF,IAAK,aACH2f,GAAa,EACbF,EAAW,CAACzf,EAAGC,IAAM,CAAC,EAAGA,GACzByf,EAAc,CAAC1f,EAAGC,IAAM,CAACD,EAAG,GAC5B,MACF,IAAK,aACH4f,GAAe,EACfH,EAAW,CAACzf,EAAGC,IAAM,CAAC,EAAGA,EAAI,GAC7Byf,EAAc,CAAC1f,EAAGC,IAAM,CAACD,EAAGC,EAAI,GAGpC,MAAM4f,EAAQJ,EAASb,EAAYC,GAC7BiB,EAAgBJ,EAAYd,EAAYC,GAC9C,IAAIkB,EAAsBR,KAAUO,GACpC,MAAME,EAAYxxD,EAAMkwD,EAASqB,EAAoB,IAC/CE,EAAYzxD,EAAMmwD,EAASoB,EAAoB,IACrD,IAAIG,EAAS,EACTC,EAAS,GACRC,EAAQC,GAAU/lE,KAAK+iE,wBAAwBx6D,EAAMy9D,UAAWz9D,EAAM09D,WApDzD,IAAC7nE,EAAGI,EAsDtB,IADCsnE,EAAQC,IArDU3nE,EAqDU0nE,EAAS7pD,EArDhBzd,EAqD6BunE,EAASnS,EArDhC,CAACsR,EAAkB,GAAK9mE,EAAI8mE,EAAkB,GAAK1mE,EAAG0mE,EAAkB,GAAK9mE,EAAI8mE,EAAkB,GAAK1mE,IAsDhI6mE,EAAY,CACd,MAAMa,EAAUroE,KAAK4tC,MAAM64B,EAAYC,GACvCqB,EAASC,EAAShoE,KAAKE,IAAIF,KAAKG,IAAIH,KAAK4tC,MAAM+5B,EAAc,GAAKD,EAAM,GAAKO,EAAQN,EAAc,GAAKD,EAAM,GAAKQ,GAAUG,EAAS,EAAI5B,EAAY,EAAIC,GAAcO,EAAWR,EAAYS,EAAYR,EAC7M,MAAWe,EACTM,EAAS/nE,KAAKE,IAAI+mE,EAAUjnE,KAAKG,IAAI,EAAGH,KAAKuW,IAAIoxD,EAAc,GAAKD,EAAM,GAAKO,KAAYxB,EAE3FuB,EAAShoE,KAAKE,IAAIgnE,EAAWlnE,KAAKG,IAAI,EAAGH,KAAKuW,IAAIoxD,EAAc,GAAKD,EAAM,GAAKQ,KAAYxB,EAE9F,MAAMttB,EAAW/iC,EAAMowD,EAAasB,GAC9B1uB,EAAYhjC,EAAMqwD,EAAcsB,GACtCJ,EAAsBR,KAAUG,EAAYnuB,EAAUC,IACtD,MAAM0tB,EAAOc,EAAYD,EAAoB,GACvCZ,EAAOc,EAAYF,EAAoB,GAC7CzlE,KAAKS,MAAQw2C,EACbj3C,KAAKU,OAASw2C,EACdl3C,KAAK5B,EAAIwmE,EACT5kE,KAAKxB,EAAIqmE,EACT7kE,KAAK45D,QAAQ39C,EAAcg7B,EAAU2c,EAAe1c,GACpDl3C,KAAKk0D,mBACP,CACA,sBAAMiJ,GACJ,GAAIn9D,MAAK,GACP,OAEF,MAAMq+D,EAAUr+D,MAAK,GAAiBuF,SAASC,cAAc,UAC7D64D,EAAQzjD,UAAY,UACpB,MAAM4xC,QAAYlsC,EAAiB20C,aAAa3kD,IAAI,sCACpD+tD,EAAQnpD,YAAcs3C,EACtB6R,EAAQ54D,aAAa,aAAc+mD,GACnC6R,EAAQ14D,SAAW,IACnB04D,EAAQjwD,iBAAiB,cAAegU,EAA+C0lC,eACvFuW,EAAQjwD,iBAAiB,eAAe7F,GAASA,EAAM49D,oBACvD,MAAMC,EAAU79D,IACdvI,MAAK,GAAe+I,QAAS,EAC7BR,EAAM0O,iBACNjX,KAAKoyD,WAAWiU,YAAYrmE,KAAK,EAanC,GAXAq+D,EAAQjwD,iBAAiB,QAASg4D,EAAS,CACzCjC,SAAS,IAEX9F,EAAQjwD,iBAAiB,WAAW7F,IAC9BA,EAAMI,SAAW01D,GAAyB,UAAd91D,EAAMwM,MACpC/U,MAAK,IAA0B,EAC/BomE,EAAQ79D,GACV,IAEFvI,MAAK,KACLA,KAAKwM,IAAIX,OAAOwyD,IACX/9C,EAAiBojD,kBAAmB,CACvC,MAAM4C,EAAU,GAChBhmD,EAAiBojD,kBAAoB7lE,KAAKG,IAAI,IAAKH,KAAKqW,MAAMmqD,EAAQvK,wBAAwBrzD,OAAS,EAAI6lE,EAAU,MACvH,CACF,CACA,QAAM,GACJ,MAAMjN,EAASr5D,MAAK,GACpB,IAAKq5D,EACH,OAEF,IAAKr5D,MAAK,KAAaA,MAAK,GAG1B,OAFAq5D,EAAOrzD,UAAU2S,OAAO,aACxB3Y,MAAK,IAAiB2Y,SAGxB0gD,EAAOrzD,UAAUC,IAAI,QACrBqa,EAAiB20C,aAAa3kD,IAAI,2CAA2C4S,MAAKspC,IAChF6M,EAAO5zD,aAAa,aAAc+mD,EAAI,IAExC,IAAI+Z,EAAUvmE,MAAK,GACnB,IAAKumE,EAAS,CACZvmE,MAAK,GAAkBumE,EAAUhhE,SAASC,cAAc,QACxD+gE,EAAQ3rD,UAAY,UACpB2rD,EAAQ9gE,aAAa,OAAQ,WAC7B,MAAMC,EAAK6gE,EAAQ7gE,GAAK,oBAAoB1F,KAAK0F,KACjD2zD,EAAO5zD,aAAa,mBAAoBC,GACxC,MAAM8gE,EAAwB,IAC9BnN,EAAOjrD,iBAAiB,cAAc,KACpCpO,MAAK,GAAyBqJ,YAAW,KACvCrJ,MAAK,GAAyB,KAC9BA,MAAK,GAAgBgG,UAAUC,IAAI,QACnCjG,KAAKoyD,WAAW6K,UAAU3uD,SAAS,kBAAmB,CACpDC,OAAQvO,KACR66B,QAAS,CACPzpB,KAAM,UACN6gC,QAASjyC,KAAKk9D,WACdp8D,KAAM,CACJ2J,OAAQ,sBAGZ,GACD+7D,EAAsB,IAE3BnN,EAAOjrD,iBAAiB,cAAc,KAChCpO,MAAK,KACPkxB,aAAalxB,MAAK,IAClBA,MAAK,GAAyB,MAEhCA,MAAK,IAAiBgG,UAAU2S,OAAO,OAAO,GAElD,CACA4tD,EAAQ/S,UAAYxzD,MAAK,SAA2BsgB,EAAiB20C,aAAa3kD,IAAI,4CAA8CtQ,MAAK,GACpIumE,EAAQxc,YACXsP,EAAOxtD,OAAO06D,GAEhB,MAAM57D,EAAU3K,KAAK49D,qBACrBjzD,GAASlF,aAAa,mBAAoB8gE,EAAQ7gE,GACpD,CACA,IAAqB01B,GAAU,GACxBp7B,MAAK,MAGLo7B,GAAWp7B,MAAK,KACnBkxB,aAAalxB,MAAK,IAClBA,MAAK,GAAyB,MAEhCA,MAAK,GAAe0J,UAAY0xB,EAClC,CACA,aAAAqrC,GACOzmE,MAAK,KAGVA,MAAK,GAAe+I,QAAS,EAC7B/I,MAAK,GAAeoJ,MAAM,CACxBs9D,aAAc1mE,MAAK,KAErBA,MAAK,IAA0B,EACjC,CACA,mBAAA2mE,GACE,OAAO3mE,KAAKwM,IAAIsnD,uBAClB,CACA,eAAIqK,GACF,MAAO,CACLE,QAASr+D,MAAK,GACdo+D,WAAYp+D,MAAK,GAErB,CACA,eAAIm+D,EAAY,QACdE,EAAO,WACPD,IAEIp+D,MAAK,KAAaq+D,GAAWr+D,MAAK,KAAuBo+D,IAG7Dp+D,MAAK,GAAWq+D,EAChBr+D,MAAK,GAAqBo+D,EAC1Bp+D,MAAK,KACP,CACA,MAAAyM,GACEzM,KAAKwM,IAAMjH,SAASC,cAAc,OAClCxF,KAAKwM,IAAI/G,aAAa,wBAAyB,IAAMzF,KAAKuG,UAAY,KACtEvG,KAAKwM,IAAIoO,UAAY5a,KAAKsK,KAC1BtK,KAAKwM,IAAI/G,aAAa,KAAMzF,KAAK0F,IACjC1F,KAAKwM,IAAI/G,aAAa,WAAY,GAClCzF,KAAKi5D,kBACLj5D,KAAKwM,IAAI4B,iBAAiB,UAAWpO,MAAK,IAC1CA,KAAKwM,IAAI4B,iBAAiB,WAAYpO,MAAK,IAC3C,MAAOic,EAAa23C,GAAgB5zD,KAAK6zD,iBACrC7zD,KAAKi0D,eAAiB,KAAQ,IAChCj0D,KAAKwM,IAAI5G,MAAMghE,SAAW,IAAI,IAAMhT,EAAe33C,GAAaqnD,QAAQ,MACxEtjE,KAAKwM,IAAI5G,MAAMihE,UAAY,IAAI,IAAM5qD,EAAc23C,GAAc0P,QAAQ,OAE3E,MAAOz4B,EAAIC,GAAM9qC,KAAKsyD,wBAGtB,OAFAtyD,KAAKgiC,UAAU6I,EAAIC,IACnB,EAAG82B,EAAuC1M,YAAYl1D,KAAMA,KAAKwM,IAAK,CAAC,gBAChExM,KAAKwM,GACd,CACA,WAAAmyD,CAAYp2D,GACV,MAAM,MACJ+J,GACE01C,EAA6C51C,YAAYC,SACxC,IAAjB9J,EAAM8wD,QAAgB9wD,EAAMiK,SAAWF,EACzC/J,EAAM0O,kBAGRjX,MAAK,IAAkB,EACvBA,MAAK,GAAkBuI,GACzB,CACA,IAAkBA,GAChB,IAAKvI,KAAK+yD,aACR,OAEF,MAAMsO,EAAarhE,KAAKoyD,WAAWiP,WAAWrhE,MAE9C,IAAIikE,EAAoB6C,EADxB9mE,KAAKoyD,WAAW2U,mBAEZ1F,IACF4C,EAAqB,CACnBC,SAAS,EACTC,SAAS,GAEX2C,EAAsBnsD,IACpB,MAAOkwB,EAAIC,GAAM9qC,KAAK+iE,wBAAwBpoD,EAAEqrD,UAAWrrD,EAAEsrD,WAC7DjmE,KAAKoyD,WAAW4U,oBAAoBn8B,EAAIC,EAAG,EAE7CpmB,OAAOtW,iBAAiB,cAAe04D,EAAqB7C,IAE9D,MAAMU,EAAoB,KAOxB,GANAjgD,OAAO9L,oBAAoB,YAAa+rD,GACxCjgD,OAAO9L,oBAAoB,OAAQ+rD,GAC/BtD,GACF38C,OAAO9L,oBAAoB,cAAekuD,EAAqB7C,GAEjEjkE,MAAK,IAAkB,GAClBA,KAAKoyD,WAAW6U,iBAAkB,CACrC,MAAM,MACJ30D,GACE01C,EAA6C51C,YAAYC,SACzD9J,EAAMiK,UAAYF,GAAS/J,EAAMyK,UAAYzK,EAAMgK,SAAWD,EAChEtS,KAAK2E,OAAOy8D,eAAephE,MAE3BA,KAAK2E,OAAOw8D,YAAYnhE,KAE5B,GAEF0kB,OAAOtW,iBAAiB,YAAau2D,GACrCjgD,OAAOtW,iBAAiB,OAAQu2D,EAClC,CACA,SAAAvL,GACMp5D,MAAK,IACPkxB,aAAalxB,MAAK,IAEpBA,MAAK,GAAoBqJ,YAAW,KAClCrJ,MAAK,GAAoB,KACzBA,KAAK2E,QAAQ+7D,gBAAgB1gE,KAAK,GACjC,EACL,CACA,qBAAAknE,CAAsBviE,EAAQvG,EAAGI,GAC/BmG,EAAO47D,aAAavgE,MACpBA,KAAK5B,EAAIA,EACT4B,KAAKxB,EAAIA,EACTwB,KAAKk0D,mBACP,CACA,OAAAgC,CAAQrrB,EAAIC,GACV,MAAMpb,EAAQ1vB,KAAK2xD,aACZzrD,EAAWC,GAAcnG,KAAKq1D,gBAC9BjvD,EAAOC,GAASrG,KAAKs1D,gBACtB+E,EAASxvB,EAAKnb,EACd4qC,EAASxvB,EAAKpb,EACdtxB,EAAI4B,KAAK5B,EAAI8H,EACb1H,EAAIwB,KAAKxB,EAAI2H,EACb1F,EAAQT,KAAKS,MAAQyF,EACrBxF,EAASV,KAAKU,OAASyF,EAC7B,OAAQnG,KAAKuG,UACX,KAAK,EACH,MAAO,CAACnI,EAAIi8D,EAASj0D,EAAOD,EAAa3H,EAAI87D,EAAS55D,EAAS2F,EAAOjI,EAAIi8D,EAAS55D,EAAQ2F,EAAOD,EAAa3H,EAAI87D,EAASj0D,GAC9H,KAAK,GACH,MAAO,CAACjI,EAAIk8D,EAASl0D,EAAOD,EAAa3H,EAAI67D,EAASh0D,EAAOjI,EAAIk8D,EAAS55D,EAAS0F,EAAOD,EAAa3H,EAAI67D,EAAS55D,EAAQ4F,GAC9H,KAAK,IACH,MAAO,CAACjI,EAAIi8D,EAAS55D,EAAQ2F,EAAOD,EAAa3H,EAAI87D,EAASj0D,EAAOjI,EAAIi8D,EAASj0D,EAAOD,EAAa3H,EAAI87D,EAAS55D,EAAS2F,GAC9H,KAAK,IACH,MAAO,CAACjI,EAAIk8D,EAAS55D,EAAS0F,EAAOD,EAAa3H,EAAI67D,EAAS55D,EAAQ4F,EAAOjI,EAAIk8D,EAASl0D,EAAOD,EAAa3H,EAAI67D,EAASh0D,GAC9H,QACE,MAAM,IAAIge,MAAM,oBAEtB,CACA,sBAAA8iD,CAAuB3mE,EAAM2F,GAC3B,MAAOi9B,EAAIE,EAAIE,EAAIC,GAAMjjC,EACnBC,EAAQ+iC,EAAKJ,EACb1iC,EAAS+iC,EAAKH,EACpB,OAAQtjC,KAAKuG,UACX,KAAK,EACH,MAAO,CAAC68B,EAAIj9B,EAAas9B,EAAIhjC,EAAOC,GACtC,KAAK,GACH,MAAO,CAAC0iC,EAAIj9B,EAAam9B,EAAI5iC,EAAQD,GACvC,KAAK,IACH,MAAO,CAAC+iC,EAAIr9B,EAAam9B,EAAI7iC,EAAOC,GACtC,KAAK,IACH,MAAO,CAAC8iC,EAAIr9B,EAAas9B,EAAI/iC,EAAQD,GACvC,QACE,MAAM,IAAI4jB,MAAM,oBAEtB,CACA,SAAA+uC,GAAa,CACb,OAAAxM,GACE,OAAO,CACT,CACA,cAAA6L,GACEzyD,MAAK,IAAgB,CACvB,CACA,eAAAgzD,GACEhzD,MAAK,IAAgB,CACvB,CACA,YAAA0yD,GACE,OAAO1yD,MAAK,EACd,CACA,uBAAAw0D,GACE,OAAOx0D,MAAK,EACd,CACA,gBAAA6gE,GACE,OAAO7gE,KAAKwM,MAAQxM,KAAKwyD,eAC3B,CACA,OAAAD,GACEvyD,KAAKwM,KAAK4B,iBAAiB,UAAWpO,MAAK,IAC3CA,KAAKwM,KAAK4B,iBAAiB,WAAYpO,MAAK,GAC9C,CACA,SAAAohB,CAAU40C,GAAe,EAAO/0C,EAAU,OACxC,EAAG+mC,EAA6Ct7C,aAAa,iCAC/D,CACA,kBAAOkpD,CAAY90D,EAAM6D,EAAQkxD,GAC/B,MAAME,EAAS,IAAI/1D,KAAK8Y,UAAUlV,YAAY,CAC5Ce,SACAe,GAAIf,EAAOm8D,YACXjL,cAEFE,EAAOxvD,SAAWzF,EAAKyF,SACvB,MAAOL,EAAWC,GAAc4vD,EAAOV,gBAChCj3D,EAAGI,EAAGiC,EAAOC,GAAUq1D,EAAOoR,uBAAuBrmE,EAAKN,KAAM2F,GAKvE,OAJA4vD,EAAO33D,EAAIA,EAAI8H,EACf6vD,EAAOv3D,EAAIA,EAAI2H,EACf4vD,EAAOt1D,MAAQA,EAAQyF,EACvB6vD,EAAOr1D,OAASA,EAASyF,EAClB4vD,CACT,CACA,MAAAp9C,GACE3Y,KAAKwM,IAAIoM,oBAAoB,UAAW5Y,MAAK,IAC7CA,KAAKwM,IAAIoM,oBAAoB,WAAY5Y,MAAK,IACzCA,KAAK4mD,WACR5mD,KAAKm0D,SAEHn0D,KAAK2E,OACP3E,KAAK2E,OAAOgU,OAAO3Y,MAEnBA,KAAKoyD,WAAWkO,aAAatgE,MAE/BA,MAAK,IAAgB2Y,SACrB3Y,MAAK,GAAiB,KACtBA,MAAK,GAAkB,KACnBA,MAAK,KACPkxB,aAAalxB,MAAK,IAClBA,MAAK,GAAoB,MAE3BA,MAAK,IACP,CACA,eAAI25D,GACF,OAAO,CACT,CACA,aAAAT,GACMl5D,KAAK25D,cACP35D,MAAK,KACLA,MAAK,GAAagG,UAAU2S,OAAO,WACnC,EAAGipD,EAAuC1M,YAAYl1D,KAAMA,KAAKwM,IAAK,CAAC,YAE3E,CACA,OAAAmoD,CAAQpsD,GACN,IAAKvI,KAAK25D,aAAepxD,EAAMI,SAAW3I,KAAKwM,KAAqB,UAAdjE,EAAMwM,IAC1D,OAEF/U,KAAKoyD,WAAW+O,YAAYnhE,MAC5BA,MAAK,GAAmB,CACtBokE,OAAQpkE,KAAK5B,EACbimE,OAAQrkE,KAAKxB,EACb8lE,WAAYtkE,KAAKS,MACjB8jE,YAAavkE,KAAKU,QAEpB,MAAMiZ,EAAW3Z,MAAK,GAAa2Z,SACnC,IAAK3Z,MAAK,GAAiB,CACzBA,MAAK,GAAkB6N,MAAMwR,KAAK1F,GAClC,MAAMytD,EAAsBpnE,MAAK,GAAgBsa,KAAKta,MAChDqnE,EAAmBrnE,MAAK,GAAasa,KAAKta,MAChD,IAAK,MAAMwM,KAAOxM,MAAK,GAAiB,CACtC,MAAMsK,EAAOkC,EAAIa,aAAa,qBAC9Bb,EAAI/G,aAAa,OAAQ,cACzB+G,EAAI4B,iBAAiB,UAAWg5D,GAChC56D,EAAI4B,iBAAiB,OAAQi5D,GAC7B76D,EAAI4B,iBAAiB,QAASpO,MAAK,GAAcsa,KAAKta,KAAMsK,IAC5DgW,EAAiB20C,aAAa3kD,IAAI,8BAA8BhG,KAAQ4Y,MAAKspC,GAAOhgD,EAAI/G,aAAa,aAAc+mD,IACrH,CACF,CACA,MAAM2N,EAAQn6D,MAAK,GAAgB,GACnC,IAAIsnE,EAAgB,EACpB,IAAK,MAAM96D,KAAOmN,EAAU,CAC1B,GAAInN,IAAQ2tD,EACV,MAEFmN,GACF,CACA,MAAMC,GAAqB,IAAMvnE,KAAKuG,SAAWvG,KAAKi0D,gBAAkB,IAAM,IAAMj0D,MAAK,GAAgBqL,OAAS,GAClH,GAAIk8D,IAAsBD,EAAe,CACvC,GAAIC,EAAoBD,EACtB,IAAK,IAAI/qD,EAAI,EAAGA,EAAI+qD,EAAgBC,EAAmBhrD,IACrDvc,MAAK,GAAa6L,OAAO7L,MAAK,GAAaoe,iBAExC,GAAImpD,EAAoBD,EAC7B,IAAK,IAAI/qD,EAAI,EAAGA,EAAIgrD,EAAoBD,EAAe/qD,IACrDvc,MAAK,GAAaoe,WAAWxE,OAAO5Z,MAAK,GAAa6X,WAG1D,IAAI0E,EAAI,EACR,IAAK,MAAMirD,KAAS7tD,EAAU,CAC5B,MACMrP,EADMtK,MAAK,GAAgBuc,KAChBlP,aAAa,qBAC9BiT,EAAiB20C,aAAa3kD,IAAI,8BAA8BhG,KAAQ4Y,MAAKspC,GAAOgb,EAAM/hE,aAAa,aAAc+mD,IACvH,CACF,CACAxsD,MAAK,GAAoB,GACzBA,MAAK,IAA+B,EACpCA,MAAK,GAAaoe,WAAWhV,MAAM,CACjCs9D,cAAc,IAEhBn+D,EAAM0O,iBACN1O,EAAMk/D,0BACR,CACA,IAAgBl/D,GACd+X,EAAiB0hD,wBAAwBjV,KAAK/sD,KAAMuI,EACtD,CACA,IAAaA,GACPvI,MAAK,IAAgCuI,EAAM4K,eAAe42C,aAAe/pD,MAAK,IAChFA,MAAK,IAET,CACA,IAAcsK,GACZtK,MAAK,GAAsBA,MAAK,GAA+BsK,EAAO,EACxE,CACA,IAAoB+G,GAClB,GAAKrR,MAAK,GAGV,IAAK,MAAMwM,KAAOxM,MAAK,GACrBwM,EAAI7G,SAAW0L,CAEnB,CACA,mBAAA6wD,CAAoB9jE,EAAGI,GAChBwB,MAAK,IAGVA,MAAK,GAAoBA,MAAK,GAAqB,CACjDgmE,UAAW5nE,EACX6nE,UAAWznE,GAEf,CACA,MAGE,GAFAwB,MAAK,IAA+B,EACpCA,MAAK,IAAqB,GACtBA,MAAK,GAAkB,CACzB,MAAM,OACJokE,EAAM,OACNC,EAAM,WACNC,EAAU,YACVC,GACEvkE,MAAK,GACTA,MAAK,GAAsBokE,EAAQC,EAAQC,EAAYC,GACvDvkE,MAAK,GAAmB,IAC1B,CACF,CACA,yBAAAmiE,GACEniE,MAAK,KACLA,KAAKwM,IAAIpD,OACX,CACA,MAAAs+D,GACE1nE,KAAKk5D,gBACLl5D,KAAKwM,KAAKxG,UAAUC,IAAI,iBAC1B,CACA,QAAAq7D,GACEthE,MAAK,IAAcgG,UAAUC,IAAI,UACjCjG,KAAKwM,KAAKxG,UAAU2S,OAAO,kBACvB3Y,KAAKwM,KAAKm0D,SAASp7D,SAAS6Q,gBAC9BpW,KAAKoyD,WAAW2B,aAAavnD,IAAIpD,OAErC,CACA,YAAAkoD,CAAalgD,EAAMC,GAAQ,CAC3B,cAAAwjD,GACM70D,MAAK,KACPA,MAAK,GAAe+I,QAAS,EAEjC,CACA,aAAA+rD,GACM90D,MAAK,KACPA,MAAK,GAAe+I,QAAS,EAEjC,CACA,eAAA0rD,GAAmB,CACnB,kBAAAmJ,GACE,OAAO,IACT,CACA,cAAIjI,GACF,OAAO31D,KAAKwM,GACd,CACA,aAAIymD,GACF,OAAOjzD,MAAK,EACd,CACA,aAAIizD,CAAU5hD,GACZrR,MAAK,GAAaqR,EACbrR,KAAK2E,SAGN0M,GACFrR,KAAK2E,OAAOw8D,YAAYnhE,MACxBA,KAAK2E,OAAOo7D,gBAAgB//D,OAE5BA,KAAK2E,OAAOo7D,gBAAgB,MAEhC,CACA,cAAAlG,CAAep5D,EAAOC,GACpBV,MAAK,IAAmB,EACxB,MAAM2nE,EAAclnE,EAAQC,GACtB,MACJkF,GACE5F,KAAKwM,IACT5G,EAAM+hE,YAAcA,EACpB/hE,EAAMlF,OAAS,MACjB,CACA,mBAAW26D,GACT,OAAO,EACT,EAEF,MAAMoH,UAAmBniD,EACvB,WAAA1c,CAAY0a,GACV7P,MAAM6P,GACNte,KAAKm1D,oBAAsB72C,EAAO62C,oBAClCn1D,KAAK81D,SAAU,CACjB,CACA,SAAA10C,GACE,MAAO,CACL1b,GAAI1F,KAAKm1D,oBACTW,SAAS,EACTnnC,UAAW3uB,KAAK2uB,UAEpB,EAIK,EAED,IACA,CAAEzxB,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzC6yD,0BAA2B,IAAM,EACjC+R,aAAc,IAAM,EACpB3R,gBAAiB,IAAM,EACvB8E,WAAY,IAAM,EAClBiD,aAAc,IAAM,IAGtB,IAAI14C,EAA+C,EAAoB,KACnEmoD,EAAiD,EAAoB,KAG9F,SAAS1S,EAAW30C,EAAK5V,EAAS0I,GAChC,IAAK,MAAM/I,KAAQ+I,EACjB1I,EAAQyD,iBAAiB9D,EAAMiW,EAAIjW,GAAMgQ,KAAKiG,GAElD,CACA,SAAS43C,EAAarB,GACpB,OAAOj5D,KAAKqW,MAAMrW,KAAKG,IAAI,IAAKH,KAAKE,IAAI,EAAG,IAAM+4D,KAAW74D,SAAS,IAAIC,SAAS,EAAG,IACxF,CACA,MAAM2pE,EACJ,IAAM,EACN,KAAA9G,GACE,MAAO,GAAGthD,EAA6CqoD,yBAAyB9nE,MAAK,MACvF,EAEF,MAAM+nE,EACJ,KAAU,EAAGtoD,EAA6CuoD,WAC1D,IAAM,EACN,IAAS,KACT,8BAAWC,GACT,MAEMtoC,EADS,IAAI89B,gBAAgB,EAAG,GACnB1+B,WAAW,MACxBrtB,EAAQ,IAAIw2D,MAClBx2D,EAAMC,IAJM,uKAKZ,MAAMgX,EAAUjX,EAAMy2D,SAASjlD,MAAK,KAClCyc,EAAI6L,UAAU95B,EAAO,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC8B,IAAjE,IAAIi4B,YAAYhK,EAAI+S,aAAa,EAAG,EAAG,EAAG,GAAG5xC,KAAKkkB,QAAQ,MAEnE,OAAO,EAAGvF,EAA6C5W,QAAQ7I,KAAM,sBAAuB2oB,EAC9F,CACA,QAAM,CAAK5T,EAAKqzD,GACdpoE,MAAK,KAAW,IAAIqQ,IACpB,IAAIvP,EAAOd,MAAK,GAAOsQ,IAAIyE,GAC3B,GAAa,OAATjU,EACF,OAAO,KAET,GAAIA,GAAMugB,OAER,OADAvgB,EAAKunE,YAAc,EACZvnE,EAET,IAOE,IAAI4Q,EACJ,GAPA5Q,IAAS,CACPugB,OAAQ,KACR3b,GAAI,SAAS1F,MAAK,MAAWA,MAAK,OAClCqoE,WAAY,EACZjM,OAAO,GAGc,iBAAZgM,EAAsB,CAC/BtnE,EAAK+N,IAAMu5D,EACX,MAAMxd,QAAiBhvB,MAAMwsC,GAC7B,IAAKxd,EAASC,GACZ,MAAM,IAAIxmC,MAAMumC,EAASE,YAE3Bp5C,QAAck5C,EAAS0d,MACzB,MACE52D,EAAQ5Q,EAAK8c,KAAOwqD,EAEtB,GAAmB,kBAAf12D,EAAMN,KAA0B,CAClC,MAAMm3D,EAA+BR,EAAaE,oBAC5CO,EAAa,IAAIC,WACjBC,EAAe,IAAIR,MACnBS,EAAe,IAAIx/C,SAAQ,CAACC,EAASkB,KACzCo+C,EAAaE,OAAS,KACpB9nE,EAAKugB,OAASqnD,EACd5nE,EAAKs7D,OAAQ,EACbhzC,GAAS,EAEXo/C,EAAWI,OAASjnD,UAClB,MAAM9S,EAAM/N,EAAK+nE,OAASL,EAAWM,OACrCJ,EAAa/2D,UAAa42D,EAAgC,GAAG15D,uCAA2CA,CAAG,EAE7G65D,EAAaK,QAAUP,EAAWO,QAAUz+C,CAAM,IAEpDk+C,EAAWQ,cAAct3D,SACnBi3D,CACR,MACE7nE,EAAKugB,aAAe4nD,kBAAkBv3D,GAExC5Q,EAAKunE,WAAa,CACpB,CAAE,MAAO1tD,GACPuuD,QAAQp3C,MAAMnX,GACd7Z,EAAO,IACT,CAKA,OAJAd,MAAK,GAAO+e,IAAIhK,EAAKjU,GACjBA,GACFd,MAAK,GAAO+e,IAAIje,EAAK4E,GAAI5E,GAEpBA,CACT,CACA,iBAAM27D,CAAY7+C,GAChB,MAAM,aACJurD,EAAY,KACZ7+D,EAAI,KACJ2N,EAAI,KACJ7G,GACEwM,EACJ,OAAO5d,MAAK,GAAK,GAAGmpE,KAAgB7+D,KAAQ2N,KAAQ7G,IAAQwM,EAC9D,CACA,gBAAM4+C,CAAW3tD,GACf,OAAO7O,MAAK,GAAK6O,EAAKA,EACxB,CACA,eAAM0tD,CAAU72D,GACd1F,MAAK,KAAW,IAAIqQ,IACpB,MAAMvP,EAAOd,MAAK,GAAOsQ,IAAI5K,GAC7B,OAAK5E,EAGDA,EAAKugB,QACPvgB,EAAKunE,YAAc,EACZvnE,GAELA,EAAK8c,KACA5d,KAAKy8D,YAAY37D,EAAK8c,MAExB5d,KAAKw8D,WAAW17D,EAAK+N,KATnB,IAUX,CACA,SAAAivD,CAAUp4D,GACR,MAAM5E,EAAOd,MAAK,GAAOsQ,IAAI5K,GAC7B,OAAK5E,GAAMs7D,MAGJt7D,EAAK+nE,OAFH,IAGX,CACA,QAAAhM,CAASn3D,GACP1F,MAAK,KAAW,IAAIqQ,IACpB,MAAMvP,EAAOd,MAAK,GAAOsQ,IAAI5K,GACxB5E,IAGLA,EAAKunE,YAAc,EACK,IAApBvnE,EAAKunE,aAGTvnE,EAAKugB,OAAS,MAChB,CACA,SAAA68C,CAAUx4D,GACR,OAAOA,EAAGsvC,WAAW,SAASh1C,MAAK,MACrC,EAEF,MAAMopE,EACJ,IAAY,GACZ,KAAU,EACV,IACA,KAAa,EACb,WAAAxlE,CAAY2kC,EAAU,KACpBvoC,MAAK,GAAWuoC,CAClB,CACA,GAAAtiC,EAAI,IACF6rD,EAAG,KACHC,EAAI,SACJC,EAAQ,KACR5gD,EAAO+V,IAAG,oBACV8qC,GAAsB,EAAK,SAC3BC,GAAW,IAKX,GAHIF,GACFF,IAEE9xD,MAAK,GACP,OAEF,MAAMmoC,EAAO,CACX2pB,MACAC,OACA3gD,QAEF,IAAwB,IAApBpR,MAAK,GAMP,OALIA,MAAK,GAAUqL,OAAS,IAC1BrL,MAAK,GAAUqL,OAAS,GAE1BrL,MAAK,GAAY,OACjBA,MAAK,GAAUiM,KAAKk8B,GAGtB,GAAI8pB,GAAuBjyD,MAAK,GAAUA,MAAK,IAAWoR,OAASA,EAKjE,OAJI8gD,IACF/pB,EAAK4pB,KAAO/xD,MAAK,GAAUA,MAAK,IAAW+xD,WAE7C/xD,MAAK,GAAUA,MAAK,IAAamoC,GAGnC,MAAMkhC,EAAOrpE,MAAK,GAAY,EAC1BqpE,IAASrpE,MAAK,GAChBA,MAAK,GAAUspE,OAAO,EAAG,IAEzBtpE,MAAK,GAAYqpE,EACbA,EAAOrpE,MAAK,GAAUqL,QACxBrL,MAAK,GAAUspE,OAAOD,IAG1BrpE,MAAK,GAAUiM,KAAKk8B,EACtB,CACA,IAAA4pB,IAC0B,IAApB/xD,MAAK,KAGTA,MAAK,IAAU,EACfA,MAAK,GAAUA,MAAK,IAAW+xD,OAC/B/xD,MAAK,IAAU,EACfA,MAAK,IAAa,EACpB,CACA,IAAAupE,GACMvpE,MAAK,GAAYA,MAAK,GAAUqL,OAAS,IAC3CrL,MAAK,IAAa,EAClBA,MAAK,IAAU,EACfA,MAAK,GAAUA,MAAK,IAAW8xD,MAC/B9xD,MAAK,IAAU,EAEnB,CACA,kBAAAwpE,GACE,OAA2B,IAApBxpE,MAAK,EACd,CACA,kBAAAypE,GACE,OAAOzpE,MAAK,GAAYA,MAAK,GAAUqL,OAAS,CAClD,CACA,OAAAsf,GACE3qB,MAAK,GAAY,IACnB,EAEF,MAAMowD,EACJ,WAAAxsD,CAAY8lE,GACV1pE,KAAKglB,OAAS,GACdhlB,KAAK0pE,UAAY,IAAIr5D,IACrBrQ,KAAK2pE,QAAU,IAAI74D,IACnB,MAAM,MACJwB,GACEmN,EAA6CrN,YAAYC,SAC7D,IAAK,MAAO7H,EAAM8nB,EAAU9jB,EAAU,CAAC,KAAMk7D,EAC3C,IAAK,MAAM30D,KAAOvK,EAAM,CACtB,MAAMo/D,EAAW70D,EAAIigC,WAAW,QAC5B1iC,GAASs3D,GACX5pE,KAAK0pE,UAAU3qD,IAAIhK,EAAI9U,MAAM,GAAI,CAC/BqyB,WACA9jB,YAEFxO,KAAK2pE,QAAQ1jE,IAAI8O,EAAIuH,MAAM,KAAKg8C,IAAI,KAC1BhmD,GAAUs3D,IACpB5pE,KAAK0pE,UAAU3qD,IAAIhK,EAAK,CACtBud,WACA9jB,YAEFxO,KAAK2pE,QAAQ1jE,IAAI8O,EAAIuH,MAAM,KAAKg8C,IAAI,IAExC,CAEJ,CACA,IAAW/vD,GACLA,EAAMoU,QACR3c,KAAKglB,OAAO/Y,KAAK,OAEf1D,EAAMiK,SACRxS,KAAKglB,OAAO/Y,KAAK,QAEf1D,EAAMgK,SACRvS,KAAKglB,OAAO/Y,KAAK,QAEf1D,EAAMyK,UACRhT,KAAKglB,OAAO/Y,KAAK,SAEnBjM,KAAKglB,OAAO/Y,KAAK1D,EAAMwM,KACvB,MAAM5P,EAAMnF,KAAKglB,OAAOxlB,KAAK,KAE7B,OADAQ,KAAKglB,OAAO3Z,OAAS,EACdlG,CACT,CACA,IAAA4nD,CAAK+C,EAAMvnD,GACT,IAAKvI,KAAK2pE,QAAQx8D,IAAI5E,EAAMwM,KAC1B,OAEF,MAAMmiB,EAAOl3B,KAAK0pE,UAAUp5D,IAAItQ,MAAK,GAAWuI,IAChD,IAAK2uB,EACH,OAEF,MAAM,SACJ5E,EACA9jB,SAAS,QACP8hD,GAAU,EAAK,KACf9U,EAAO,GAAE,QACTgV,EAAU,OAEVt5B,EACAs5B,IAAYA,EAAQV,EAAMvnD,KAG9B+pB,EAAShY,KAAKw1C,KAAStU,EAAvBlpB,GACKg+B,IACH/nD,EAAM49D,kBACN59D,EAAM0O,kBAEV,EAEF,MAAM8qD,EACJx3C,sBAAwB,IAAIla,IAAI,CAAC,CAAC,aAAc,CAAC,EAAG,EAAG,IAAK,CAAC,SAAU,CAAC,IAAK,IAAK,QAClF,WAAIu1B,GACF,MAAM5C,EAAS,IAAI3yB,IAAI,CAAC,CAAC,aAAc,MAAO,CAAC,SAAU,QAEzD,OADA,EAAGu3D,EAA+CngB,gBAAgBzkB,IAC3D,EAAGvjB,EAA6C5W,QAAQ7I,KAAM,UAAWgjC,EAClF,CACA,OAAAozB,CAAQ/2D,GACN,MAAMU,GAAM,EAAG6nE,EAA+CjgB,QAAQtoD,GACtE,IAAKqlB,OAAOmlD,WAAW,2BAA2Blc,QAChD,OAAO5tD,EAET,IAAK,MAAOuK,EAAMw/D,KAAQ9pE,KAAK4lC,QAC7B,GAAIkkC,EAAIC,OAAM,CAAC3rE,EAAGme,IAAMne,IAAM2B,EAAIwc,KAChC,OAAOwlD,EAAaiI,eAAe15D,IAAIhG,GAG3C,OAAOvK,CACT,CACA,UAAAwiE,CAAWj4D,GACT,MAAMvK,EAAMC,KAAK4lC,QAAQt1B,IAAIhG,GAC7B,OAAKvK,EAGE0f,EAA6C/Y,KAAKmB,gBAAgB9H,GAFhEuK,CAGX,EAEF,MAAM0lD,EACJ,IAAgB,KAChB,IAAc,IAAI3/C,IAClB,IAAa,IAAIA,IACjB,IAAkB,KAClB,IAAqB,KACrB,IAAkB,IAAI+4D,EACtB,IAAoB,EACpB,IAAgC,IAAIt4D,IACpC,IAAmB,KACnB,IAAe,KACf,IAAoB,IAAIA,IACxB,IAAiB,KACjB,IAA+B,KAC/B,IAAa,IAAI+2D,EACjB,KAAa,EACb,KAAa,EACb,IAAqB,KACrB,IAAQpoD,EAA6C1C,qBAAqBsiB,KAC1E,IAAmB,IAAIvuB,IACvB,IAAc,KACd,IAAa9Q,KAAKiqE,KAAK3vD,KAAKta,MAC5B,IAAcA,KAAKoJ,MAAMkR,KAAKta,MAC9B,IAAaA,KAAKkqE,KAAK5vD,KAAKta,MAC5B,IAAYA,KAAKmqE,IAAI7vD,KAAKta,MAC1B,IAAcA,KAAKg8D,MAAM1hD,KAAKta,MAC9B,IAAgBA,KAAK20D,QAAQr6C,KAAKta,MAClC,IAAwBA,KAAKoqE,gBAAgB9vD,KAAKta,MAClD,IAAuBA,KAAKqqE,eAAe/vD,KAAKta,MAChD,IAAwBA,KAAKi4D,gBAAgB39C,KAAKta,MAClD,IAA2BA,KAAKsqE,mBAAmBhwD,KAAKta,MACxD,IAAkB,CAChBizD,WAAW,EACXrM,SAAS,EACT4iB,oBAAoB,EACpBC,oBAAoB,EACpBc,mBAAmB,GAErB,IAAe,CAAC,EAAG,GACnB,IAAwB,KACxB,GAAa,KACb,IAAU,KACVhgD,uBAAyB,EACzBA,qBAAuB,GACvB,2BAAWolC,GACT,MAAMC,EAAQI,EAA0Bl3C,UAClC+2C,EAAeC,GACZA,GAAK,EAAW6Q,SAASp7D,SAAS6Q,gBAAkB05C,EAAK0a,wBAE5DC,EAAmB,CAACC,GACxB/hE,OAAQgiE,MAER,GAAIA,aAAcC,iBAAkB,CAClC,MAAM,KACJx5D,GACEu5D,EACJ,MAAgB,SAATv5D,GAA4B,WAATA,CAC5B,CACA,OAAO,CAAI,EAEP2+C,EAAQ/vD,KAAKiwD,gBACbC,EAAMlwD,KAAKmwD,cACjB,OAAO,EAAG1wC,EAA6C5W,QAAQ7I,KAAM,mBAAoB,IAAIowD,EAAgB,CAAC,CAAC,CAAC,SAAU,cAAeR,EAAMib,UAAW,CACxJra,QAASia,IACP,CAAC,CAAC,SAAU,cAAe7a,EAAMmC,KAAM,CACzCvB,QAASia,IACP,CAAC,CAAC,SAAU,eAAgB,mBAAoB,eAAgB,oBAAqB7a,EAAM2Z,KAAM,CACnG/Y,QAASia,IACP,CAAC,CAAC,YAAa,gBAAiB,iBAAkB,kBAAmB,gBAAiB,oBAAqB,qBAAsB,SAAU,cAAe,eAAgB,cAAe7a,EAAMxvC,OAAQ,CACzMowC,QAASia,IACP,CAAC,CAAC,QAAS,aAAc7a,EAAMkb,yBAA0B,CAC3Dta,QAASV,GAAQA,GAAK,EAAW6Q,SAASp7D,SAAS6Q,iBAAmB05C,EAAK8S,iBACzE,CAAC,CAAC,IAAK,SAAUhT,EAAMkb,yBAA0B,CACnDta,QAASV,GAAQA,GAAK,EAAW6Q,SAASp7D,SAAS6Q,iBACjD,CAAC,CAAC,SAAU,cAAew5C,EAAM2R,aAAc,CAAC,CAAC,YAAa,iBAAkB3R,EAAMyC,yBAA0B,CAClH7W,KAAM,EAAEuU,EAAO,GACfS,QAASX,IACP,CAAC,CAAC,iBAAkB,uBAAwBD,EAAMyC,yBAA0B,CAC9E7W,KAAM,EAAE0U,EAAK,GACbM,QAASX,IACP,CAAC,CAAC,aAAc,kBAAmBD,EAAMyC,yBAA0B,CACrE7W,KAAM,CAACuU,EAAO,GACdS,QAASX,IACP,CAAC,CAAC,kBAAmB,wBAAyBD,EAAMyC,yBAA0B,CAChF7W,KAAM,CAAC0U,EAAK,GACZM,QAASX,IACP,CAAC,CAAC,UAAW,eAAgBD,EAAMyC,yBAA0B,CAC/D7W,KAAM,CAAC,GAAIuU,GACXS,QAASX,IACP,CAAC,CAAC,eAAgB,qBAAsBD,EAAMyC,yBAA0B,CAC1E7W,KAAM,CAAC,GAAI0U,GACXM,QAASX,IACP,CAAC,CAAC,YAAa,iBAAkBD,EAAMyC,yBAA0B,CACnE7W,KAAM,CAAC,EAAGuU,GACVS,QAASX,IACP,CAAC,CAAC,iBAAkB,uBAAwBD,EAAMyC,yBAA0B,CAC9E7W,KAAM,CAAC,EAAG0U,GACVM,QAASX,MAEb,CACA,WAAAjsD,CAAYgB,EAAWmmE,EAAQC,EAAgB38D,EAAU48D,EAAap6C,GACpE7wB,MAAK,EAAa4E,EAClB5E,MAAK,GAAU+qE,EACf/qE,MAAK,GAAkBgrE,EACvBhrE,KAAKi9D,UAAY5uD,EACjBrO,KAAKi9D,UAAUiO,IAAI,gBAAiBlrE,MAAK,IACzCA,KAAKi9D,UAAUiO,IAAI,eAAgBlrE,MAAK,IACxCA,KAAKi9D,UAAUiO,IAAI,gBAAiBlrE,MAAK,IACzCA,KAAKi9D,UAAUiO,IAAI,mBAAoBlrE,MAAK,IAC5CA,MAAK,GAAqBirE,EAAY3mE,kBACtCtE,MAAK,GAAiBirE,EAAYxjD,cAClCznB,MAAK,GAAc6wB,EACnB7wB,KAAKqiE,eAAiB,CACpBkB,UAAWqE,EAA+C10B,cAAcC,iBACxE5sC,SAAU,EAEd,CACA,OAAAokB,GACE3qB,MAAK,KACLA,MAAK,KACLA,KAAKi9D,UAAUkO,KAAK,gBAAiBnrE,MAAK,IAC1CA,KAAKi9D,UAAUkO,KAAK,eAAgBnrE,MAAK,IACzCA,KAAKi9D,UAAUkO,KAAK,gBAAiBnrE,MAAK,IAC1CA,KAAKi9D,UAAUkO,KAAK,mBAAoBnrE,MAAK,IAC7C,IAAK,MAAMgE,KAAShE,MAAK,GAAWgR,SAClChN,EAAM2mB,UAER3qB,MAAK,GAAWwZ,QAChBxZ,MAAK,GAAYwZ,QACjBxZ,MAAK,GAAkBwZ,QACvBxZ,MAAK,GAAgB,KACrBA,MAAK,GAAiBwZ,QACtBxZ,MAAK,GAAgB2qB,UACrB3qB,MAAK,GAAgB2qB,UACjB3qB,MAAK,KACPkxB,aAAalxB,MAAK,IAClBA,MAAK,GAA+B,MAElCA,MAAK,KACPkxB,aAAalxB,MAAK,IAClBA,MAAK,GAAwB,KAEjC,CACA,aAAI29D,GACF,OAAO,EAAGl+C,EAA6C5W,QAAQ7I,KAAM,YAAaA,MAAK,GAAcA,MAAK,GAAey+B,aAAaz+B,MAAK,GAAYu2C,WAAYv2C,MAAK,GAAY2wB,YAAc,OACpM,CACA,aAAIy6C,GACF,OAAO,EAAG3rD,EAA6C5W,QAAQ7I,KAAM,YAAauqD,iBAAiBvqD,MAAK,GAAYorE,UACtH,CACA,WAAA/E,CAAYtQ,GACV/1D,MAAK,IAAiBqmE,YAAYrmE,KAAM+1D,EAC1C,CACA,cAAAsU,EAAe,WACbx9C,IAEA7sB,MAAK,GAAoB6sB,EAAa,CACxC,CACA,kBAAAw+C,GACErrE,MAAK,EAAWoJ,OAClB,CACA,UAAAq4D,CAAWrjE,EAAGI,GACZ,IAAK,MAAMwF,KAAShE,MAAK,GAAWgR,SAAU,CAC5C,MACE5S,EAAGktE,EACH9sE,EAAG+sE,EAAM,MACT9qE,EAAK,OACLC,GACEsD,EAAMwI,IAAIsnD,wBACd,GAAI11D,GAAKktE,GAAUltE,GAAKktE,EAAS7qE,GAASjC,GAAK+sE,GAAU/sE,GAAK+sE,EAAS7qE,EACrE,OAAOsD,CAEX,CACA,OAAO,IACT,CACA,iBAAAwnE,CAAkBn6D,GAAQ,GACxBrR,MAAK,GAAQgG,UAAU4uD,OAAO,eAAgBvjD,EAChD,CACA,gBAAA2mD,CAAiBjC,GACf/1D,MAAK,GAAkBiG,IAAI8vD,EAC7B,CACA,mBAAAgC,CAAoBhC,GAClB/1D,MAAK,GAAkBogB,OAAO21C,EAChC,CACA,eAAAkC,EAAgB,MACdvoC,IAEA1vB,KAAKqwD,iBACLrwD,KAAKqiE,eAAekB,UAAY7zC,EAAQk4C,EAA+C10B,cAAcC,iBACrG,IAAK,MAAM4iB,KAAU/1D,MAAK,GACxB+1D,EAAOkC,iBAEX,CACA,kBAAAqS,EAAmB,cACjBmB,IAEAzrE,KAAKqwD,iBACLrwD,KAAKqiE,eAAe97D,SAAWklE,CACjC,CACA,sBAAAnS,CAAuBvD,GAChBA,EAAOnP,YAAa5mD,MAAK,IAAuBA,MAAK,GAAmBmN,IAAI4oD,EAAOrwD,KACtF1F,MAAK,GAAmB4I,SAASmtD,EAAOrwD,GAAIqwD,EAEhD,CACA,MACErxC,OAAOtW,iBAAiB,QAASpO,MAAK,IACtC0kB,OAAOtW,iBAAiB,OAAQpO,MAAK,GACvC,CACA,MACE0kB,OAAO9L,oBAAoB,QAAS5Y,MAAK,IACzC0kB,OAAO9L,oBAAoB,OAAQ5Y,MAAK,GAC1C,CACA,IAAAiqE,GACE,IAAKjqE,KAAK0rE,aACR,OAEF,MAAM,cACJt1D,GACE7Q,SACJ,IAAK,MAAMwwD,KAAU/1D,MAAK,GACxB,GAAI+1D,EAAOvpD,IAAIm0D,SAASvqD,GAAgB,CACtCpW,MAAK,GAAqB,CAAC+1D,EAAQ3/C,GACnC2/C,EAAO5C,qBAAsB,EAC7B,KACF,CAEJ,CACA,KAAA/pD,GACE,IAAKpJ,MAAK,GACR,OAEF,MAAO2rE,EAAYC,GAAqB5rE,MAAK,GAC7CA,MAAK,GAAqB,KAC1B4rE,EAAkBx9D,iBAAiB,WAAW,KAC5Cu9D,EAAWxY,qBAAsB,CAAI,GACpC,CACDyN,MAAM,IAERgL,EAAkBxiE,OACpB,CACA,MACEsb,OAAOtW,iBAAiB,UAAWpO,MAAK,GAC1C,CACA,MACE0kB,OAAO9L,oBAAoB,UAAW5Y,MAAK,GAC7C,CACA,MACEuF,SAAS6I,iBAAiB,OAAQpO,MAAK,IACvCuF,SAAS6I,iBAAiB,MAAOpO,MAAK,IACtCuF,SAAS6I,iBAAiB,QAASpO,MAAK,GAC1C,CACA,MACEuF,SAASqT,oBAAoB,OAAQ5Y,MAAK,IAC1CuF,SAASqT,oBAAoB,MAAO5Y,MAAK,IACzCuF,SAASqT,oBAAoB,QAAS5Y,MAAK,GAC7C,CACA,gBAAA6rE,GACE7rE,MAAK,KACLA,MAAK,IACP,CACA,mBAAA8rE,GACE9rE,MAAK,KACLA,MAAK,IACP,CACA,IAAAkqE,CAAK3hE,GAGH,GAFAA,EAAM0O,iBACNjX,MAAK,IAAeqwD,kBACfrwD,KAAK0rE,aACR,OAEF,MAAMK,EAAU,GAChB,IAAK,MAAMhW,KAAU/1D,MAAK,GAAkB,CAC1C,MAAMmhB,EAAa40C,EAAO30C,WAAU,GAChCD,GACF4qD,EAAQ9/D,KAAKkV,EAEjB,CACuB,IAAnB4qD,EAAQ1gE,QAGZ9C,EAAMyjE,cAAcC,QAAQ,oBAAqBp6D,KAAKC,UAAUi6D,GAClE,CACA,GAAA5B,CAAI5hE,GACFvI,KAAKkqE,KAAK3hE,GACVvI,KAAKogB,QACP,CACA,KAAA47C,CAAMzzD,GACJA,EAAM0O,iBACN,MAAM,cACJ+0D,GACEzjE,EACJ,IAAK,MAAMsR,KAAQmyD,EAAczyD,MAC/B,IAAK,MAAM2jD,KAAcl9D,MAAK,GAC5B,GAAIk9D,EAAWpB,yBAAyBjiD,EAAKzI,MAE3C,YADA8rD,EAAWlB,MAAMniD,EAAM7Z,KAAK+zD,cAKlC,IAAIjzD,EAAOkrE,EAAcj+C,QAAQ,qBACjC,IAAKjtB,EACH,OAEF,IACEA,EAAO+Q,KAAKq6D,MAAMprE,EACpB,CAAE,MAAO+pB,GAEP,YADA,EAAGpL,EAA6ChY,MAAM,WAAWojB,EAAGoK,YAEtE,CACA,IAAKpnB,MAAMC,QAAQhN,GACjB,OAEFd,KAAKuhE,cACL,MAAMv9D,EAAQhE,KAAK+zD,aACnB,IACE,MAAMoY,EAAa,GACnB,IAAK,MAAMpW,KAAUj1D,EAAM,CACzB,MAAMsrE,EAAqBpoE,EAAM4xD,YAAYG,GAC7C,IAAKqW,EACH,OAEFD,EAAWlgE,KAAKmgE,EAClB,CACA,MAAMta,EAAM,KACV,IAAK,MAAMiE,KAAUoW,EACnBnsE,MAAK,GAAkB+1D,GAEzB/1D,MAAK,GAAemsE,EAAW,EAE3Bpa,EAAO,KACX,IAAK,MAAMgE,KAAUoW,EACnBpW,EAAOp9C,QACT,EAEF3Y,KAAK6xD,YAAY,CACfC,MACAC,OACAC,UAAU,GAEd,CAAE,MAAOnnC,IACP,EAAGpL,EAA6ChY,MAAM,WAAWojB,EAAGoK,YACtE,CACF,CACA,OAAA0/B,CAAQpsD,GACDvI,KAAKqsE,0BACRrc,EAA0BL,iBAAiB5C,KAAK/sD,KAAMuI,EAE1D,CACA,eAAA6hE,CAAgBvvC,GACV,CAAC,OAAQ,OAAQ,SAAU,aAAa/nB,SAAS+nB,EAAQvwB,OAC3DtK,KAAK66B,EAAQvwB,OAEjB,CACA,IAAsBuwB,GACDtwB,OAAOQ,QAAQ8vB,GAAS07B,MAAK,EAAExhD,EAAK1D,KAAWrR,MAAK,GAAgB+U,KAAS1D,KAE9FrR,KAAKi9D,UAAU3uD,SAAS,gCAAiC,CACvDC,OAAQvO,KACR66B,QAAStwB,OAAO4V,OAAOngB,MAAK,GAAiB66B,IAGnD,CACA,IAAkBA,GAChB76B,KAAKi9D,UAAU3uD,SAAS,gCAAiC,CACvDC,OAAQvO,KACR66B,WAEJ,CACA,eAAA83B,CAAgBM,GACVA,GACFjzD,MAAK,KACLA,MAAK,KACLA,MAAK,KACLA,MAAK,GAAsB,CACzBizD,UAAWjzD,MAAK,KAAUyf,EAA6C1C,qBAAqBsiB,KAC5FunB,QAAS5mD,MAAK,KACdwpE,mBAAoBxpE,MAAK,GAAgBwpE,qBACzCC,mBAAoBzpE,MAAK,GAAgBypE,qBACzCc,mBAAmB,MAGrBvqE,MAAK,KACLA,MAAK,KACLA,MAAK,KACLA,MAAK,GAAsB,CACzBizD,WAAW,IAEbjzD,KAAKwrE,mBAAkB,GAE3B,CACA,mBAAAxM,CAAoBsN,GAClB,IAAItsE,MAAK,GAAT,CAGAA,MAAK,GAAessE,EACpB,IAAK,MAAMpP,KAAcl9D,MAAK,GAC5BA,MAAK,GAAkBk9D,EAAW3L,0BAHpC,CAKF,CACA,KAAAwP,GACE,OAAO/gE,MAAK,GAAW+gE,OACzB,CACA,gBAAIhN,GACF,OAAO/zD,MAAK,GAAWsQ,IAAItQ,MAAK,GAClC,CACA,QAAAusE,CAAS59C,GACP,OAAO3uB,MAAK,GAAWsQ,IAAIqe,EAC7B,CACA,oBAAI69C,GACF,OAAOxsE,MAAK,EACd,CACA,QAAAi/D,CAASj7D,GACPhE,MAAK,GAAW+e,IAAI/a,EAAM2qB,UAAW3qB,GACjChE,MAAK,GACPgE,EAAMw7D,SAENx7D,EAAM67D,SAEV,CACA,WAAA6B,CAAY19D,GACVhE,MAAK,GAAWogB,OAAOpc,EAAM2qB,UAC/B,CACA,UAAAuwC,CAAWhxD,EAAMC,EAAS,KAAMs+D,GAAiB,GAC/C,GAAIzsE,MAAK,KAAUkO,EAAnB,CAIA,GADAlO,MAAK,GAAQkO,EACTA,IAASuR,EAA6C1C,qBAAqBsiB,KAG7E,OAFAr/B,KAAK2yD,iBAAgB,QACrB3yD,MAAK,KAGPA,KAAK2yD,iBAAgB,GACrB3yD,MAAK,KACLA,KAAKuhE,cACL,IAAK,MAAMv9D,KAAShE,MAAK,GAAWgR,SAClChN,EAAMk7D,WAAWhxD,GAEnB,GAAKC,IAAUs+D,GAIf,GAAKt+D,EAGL,IAAK,MAAM4nD,KAAU/1D,MAAK,GAAYgR,SACpC,GAAI+kD,EAAOZ,sBAAwBhnD,EAAQ,CACzCnO,KAAKmhE,YAAYpL,GACjBA,EAAOtB,kBACP,KACF,OAXAz0D,KAAK8qE,0BAdP,CA2BF,CACA,wBAAAA,GACE9qE,KAAK+zD,aAAamN,cACpB,CACA,aAAAtO,CAAc1kD,GACRA,IAASlO,MAAK,IAGlBA,KAAKi9D,UAAU3uD,SAAS,6BAA8B,CACpDC,OAAQvO,KACRkO,QAEJ,CACA,YAAAojD,CAAalgD,EAAMC,GACjB,GAAKrR,MAAK,GAGV,GAAIoR,IAASqO,EAA6C0xC,2BAA2Bub,OAArF,CAIA,IAAK,MAAM3W,KAAU/1D,MAAK,GACxB+1D,EAAOzE,aAAalgD,EAAMC,GAE5B,IAAK,MAAM6rD,KAAcl9D,MAAK,GAC5Bk9D,EAAWhM,oBAAoB9/C,EAAMC,EALvC,MAFErR,KAAK+zD,aAAamN,cAStB,CACA,aAAA7E,CAAcsQ,GAAW,GACvB,GAAI3sE,MAAK,KAAe2sE,EAAxB,CAGA3sE,MAAK,GAAa2sE,EAClB,IAAK,MAAM3oE,KAAShE,MAAK,GAAWgR,SAC9B27D,EACF3oE,EAAMo7D,eAENp7D,EAAMq7D,cAERr7D,EAAMwI,IAAIxG,UAAU4uD,OAAO,UAAW+X,EARxC,CAUF,CACA,MACE,IAAK3sE,MAAK,GAAY,CACpBA,MAAK,IAAa,EAClB,IAAK,MAAMgE,KAAShE,MAAK,GAAWgR,SAClChN,EAAMw7D,QAEV,CACF,CACA,MAEE,GADAx/D,KAAKuhE,cACDvhE,MAAK,GAAY,CACnBA,MAAK,IAAa,EAClB,IAAK,MAAMgE,KAAShE,MAAK,GAAWgR,SAClChN,EAAM67D,SAEV,CACF,CACA,UAAA8B,CAAWhzC,GACT,MAAMo9C,EAAU,GAChB,IAAK,MAAMhW,KAAU/1D,MAAK,GAAYgR,SAChC+kD,EAAOpnC,YAAcA,GACvBo9C,EAAQ9/D,KAAK8pD,GAGjB,OAAOgW,CACT,CACA,SAAAa,CAAUlnE,GACR,OAAO1F,MAAK,GAAYsQ,IAAI5K,EAC9B,CACA,SAAA+6D,CAAU1K,GACR/1D,MAAK,GAAY+e,IAAIg3C,EAAOrwD,GAAIqwD,EAClC,CACA,YAAAuK,CAAavK,GACPA,EAAOvpD,IAAIm0D,SAASp7D,SAAS6Q,iBAC3BpW,MAAK,IACPkxB,aAAalxB,MAAK,IAEpBA,MAAK,GAA+BqJ,YAAW,KAC7CrJ,KAAKqrE,qBACLrrE,MAAK,GAA+B,IAAI,GACvC,IAELA,MAAK,GAAYogB,OAAO21C,EAAOrwD,IAC/B1F,KAAKshE,SAASvL,GACTA,EAAOZ,qBAAwBn1D,MAAK,GAA8BmN,IAAI4oD,EAAOZ,sBAChFn1D,MAAK,IAAoB2Y,OAAOo9C,EAAOrwD,GAE3C,CACA,2BAAA26D,CAA4BtK,GAC1B/1D,MAAK,GAA8BiG,IAAI8vD,EAAOZ,qBAC9CY,EAAOD,SAAU,CACnB,CACA,0BAAA6J,CAA2BxK,GACzB,OAAOn1D,MAAK,GAA8BmN,IAAIgoD,EAChD,CACA,8BAAA+K,CAA+BnK,GAC7B/1D,MAAK,GAA8BogB,OAAO21C,EAAOZ,qBACjDY,EAAOD,SAAU,CACnB,CACA,IAAkBC,GAChB,MAAM/xD,EAAQhE,MAAK,GAAWsQ,IAAIylD,EAAOpnC,WACrC3qB,EACFA,EAAM47D,aAAa7J,GAEnB/1D,KAAKygE,UAAU1K,EAEnB,CACA,eAAAgK,CAAgBhK,GACV/1D,MAAK,KAAkB+1D,IAG3B/1D,MAAK,GAAgB+1D,EACjBA,GACF/1D,MAAK,GAAkB+1D,EAAOvE,oBAElC,CACA,cAAA4P,CAAerL,GACb,GAAI/1D,MAAK,GAAiBmN,IAAI4oD,GAM5B,OALA/1D,MAAK,GAAiBogB,OAAO21C,GAC7BA,EAAOuL,gBACPthE,MAAK,GAAsB,CACzBuqE,kBAAmBvqE,KAAK0rE,eAI5B1rE,MAAK,GAAiBiG,IAAI8vD,GAC1BA,EAAO2R,SACP1nE,MAAK,GAAkB+1D,EAAOvE,oBAC9BxxD,MAAK,GAAsB,CACzBuqE,mBAAmB,GAEvB,CACA,WAAApJ,CAAYpL,GACV,IAAK,MAAM8W,KAAM7sE,MAAK,GAChB6sE,IAAO9W,GACT8W,EAAGvL,WAGPthE,MAAK,GAAiBwZ,QACtBxZ,MAAK,GAAiBiG,IAAI8vD,GAC1BA,EAAO2R,SACP1nE,MAAK,GAAkB+1D,EAAOvE,oBAC9BxxD,MAAK,GAAsB,CACzBuqE,mBAAmB,GAEvB,CACA,UAAAlJ,CAAWtL,GACT,OAAO/1D,MAAK,GAAiBmN,IAAI4oD,EACnC,CACA,uBAAI+W,GACF,OAAO9sE,MAAK,GAAiBgR,SAASq4D,OAAOh4D,KAC/C,CACA,QAAAiwD,CAASvL,GACPA,EAAOuL,WACPthE,MAAK,GAAiBogB,OAAO21C,GAC7B/1D,MAAK,GAAsB,CACzBuqE,kBAAmBvqE,KAAK0rE,cAE5B,CACA,gBAAIA,GACF,OAAsC,IAA/B1rE,MAAK,GAAiBiY,IAC/B,CACA,kBAAI2qD,GACF,OAAsC,IAA/B5iE,MAAK,GAAiBiY,MAAcjY,KAAK8sE,oBAAoBlK,cACtE,CACA,IAAA7Q,GACE/xD,MAAK,GAAgB+xD,OACrB/xD,MAAK,GAAsB,CACzBwpE,mBAAoBxpE,MAAK,GAAgBwpE,qBACzCC,oBAAoB,EACpB7iB,QAAS5mD,MAAK,MAElB,CACA,IAAAupE,GACEvpE,MAAK,GAAgBupE,OACrBvpE,MAAK,GAAsB,CACzBwpE,oBAAoB,EACpBC,mBAAoBzpE,MAAK,GAAgBypE,qBACzC7iB,QAAS5mD,MAAK,MAElB,CACA,WAAA6xD,CAAYvzC,GACVte,MAAK,GAAgBiG,IAAIqY,GACzBte,MAAK,GAAsB,CACzBwpE,oBAAoB,EACpBC,oBAAoB,EACpB7iB,QAAS5mD,MAAK,MAElB,CACA,MACE,GAA8B,IAA1BA,MAAK,GAAYiY,KACnB,OAAO,EAET,GAA8B,IAA1BjY,MAAK,GAAYiY,KACnB,IAAK,MAAM89C,KAAU/1D,MAAK,GAAYgR,SACpC,OAAO+kD,EAAOnP,UAGlB,OAAO,CACT,CACA,SAEE,GADA5mD,KAAKqwD,kBACArwD,KAAK0rE,aACR,OAEF,MAAMK,EAAU,IAAI/rE,MAAK,IAWzBA,KAAK6xD,YAAY,CACfC,IAXU,KACV,IAAK,MAAMiE,KAAUgW,EACnBhW,EAAOp9C,QACT,EASAo5C,KAPW,KACX,IAAK,MAAMgE,KAAUgW,EACnB/rE,MAAK,GAAkB+1D,EACzB,EAKA/D,UAAU,GAEd,CACA,cAAA3B,GACErwD,MAAK,IAAeqwD,gBACtB,CACA,qBAAAma,GACE,OAAOxqE,MAAK,IAAiBA,KAAK0rE,YACpC,CACA,IAAeK,GACb/rE,MAAK,GAAiBwZ,QACtB,IAAK,MAAMu8C,KAAUgW,EACfhW,EAAOnP,YAGX5mD,MAAK,GAAiBiG,IAAI8vD,GAC1BA,EAAO2R,UAET1nE,MAAK,GAAsB,CACzBuqE,mBAAmB,GAEvB,CACA,SAAAM,GACE,IAAK,MAAM9U,KAAU/1D,MAAK,GACxB+1D,EAAO5B,SAETn0D,MAAK,GAAeA,MAAK,GAAYgR,SACvC,CACA,WAAAuwD,GACE,GAAIvhE,MAAK,GACPA,MAAK,GAAcqwD,sBAGrB,GAAKrwD,KAAK0rE,aAAV,CAGA,IAAK,MAAM3V,KAAU/1D,MAAK,GACxB+1D,EAAOuL,WAETthE,MAAK,GAAiBwZ,QACtBxZ,MAAK,GAAsB,CACzBuqE,mBAAmB,GANrB,CAQF,CACA,wBAAAlY,CAAyBj0D,EAAGI,EAAGuuE,GAAW,GAIxC,GAHKA,GACH/sE,KAAKqwD,kBAEFrwD,KAAK0rE,aACR,OAEF1rE,MAAK,GAAa,IAAM5B,EACxB4B,MAAK,GAAa,IAAMxB,EACxB,MAAOwuE,EAAQC,GAAUjtE,MAAK,GACxB+rE,EAAU,IAAI/rE,MAAK,IAErBA,MAAK,IACPkxB,aAAalxB,MAAK,IAEpBA,MAAK,GAAwBqJ,YAAW,KACtCrJ,MAAK,GAAwB,KAC7BA,MAAK,GAAa,GAAKA,MAAK,GAAa,GAAK,EAC9CA,KAAK6xD,YAAY,CACfC,IAAK,KACH,IAAK,MAAMiE,KAAUgW,EACf/rE,MAAK,GAAYmN,IAAI4oD,EAAOrwD,KAC9BqwD,EAAOiN,gBAAgBgK,EAAQC,EAEnC,EAEFlb,KAAM,KACJ,IAAK,MAAMgE,KAAUgW,EACf/rE,MAAK,GAAYmN,IAAI4oD,EAAOrwD,KAC9BqwD,EAAOiN,iBAAiBgK,GAASC,EAErC,EAEFjb,UAAU,GACV,GAvBiB,KAyBrB,IAAK,MAAM+D,KAAUgW,EACnBhW,EAAOiN,gBAAgB5kE,EAAGI,EAE9B,CACA,gBAAAuoE,GACE,GAAK/mE,KAAK0rE,aAAV,CAGA1rE,KAAKwrE,mBAAkB,GACvBxrE,MAAK,GAAmB,IAAIqQ,IAC5B,IAAK,MAAM0lD,KAAU/1D,MAAK,GACxBA,MAAK,GAAiB+e,IAAIg3C,EAAQ,CAChCqO,OAAQrO,EAAO33D,EACfimE,OAAQtO,EAAOv3D,EACf0uE,eAAgBnX,EAAOpnC,UACvBi2C,KAAM,EACNC,KAAM,EACNsI,cAAe,GAVnB,CAaF,CACA,cAAAlG,GACE,IAAKjnE,MAAK,GACR,OAAO,EAETA,KAAKwrE,mBAAkB,GACvB,MAAMlsE,EAAMU,MAAK,GACjBA,MAAK,GAAmB,KACxB,IAAIotE,GAAyB,EAC7B,IAAK,OAAO,EACVhvE,EAAC,EACDI,EAAC,UACDmwB,GACCtd,KAAU/R,EACX+R,EAAMuzD,KAAOxmE,EACbiT,EAAMwzD,KAAOrmE,EACb6S,EAAM87D,aAAex+C,EACrBy+C,IAA2BhvE,IAAMiT,EAAM+yD,QAAU5lE,IAAM6S,EAAMgzD,QAAU11C,IAActd,EAAM67D,eAE7F,IAAKE,EACH,OAAO,EAET,MAAMC,EAAO,CAACtX,EAAQ33D,EAAGI,EAAGmwB,KAC1B,GAAI3uB,MAAK,GAAYmN,IAAI4oD,EAAOrwD,IAAK,CACnC,MAAMf,EAAS3E,MAAK,GAAWsQ,IAAIqe,GAC/BhqB,EACFoxD,EAAOmR,sBAAsBviE,EAAQvG,EAAGI,IAExCu3D,EAAOpnC,UAAYA,EACnBonC,EAAO33D,EAAIA,EACX23D,EAAOv3D,EAAIA,EAEf,GAuBF,OArBAwB,KAAK6xD,YAAY,CACfC,IAAK,KACH,IAAK,MAAOiE,GAAQ,KAClB6O,EAAI,KACJC,EAAI,aACJsI,MACI7tE,EACJ+tE,EAAKtX,EAAQ6O,EAAMC,EAAMsI,EAC3B,EAEFpb,KAAM,KACJ,IAAK,MAAOgE,GAAQ,OAClBqO,EAAM,OACNC,EAAM,eACN6I,MACI5tE,EACJ+tE,EAAKtX,EAAQqO,EAAQC,EAAQ6I,EAC/B,EAEFlb,UAAU,KAEL,CACT,CACA,mBAAAgV,CAAoBn8B,EAAIC,GACtB,GAAK9qC,MAAK,GAGV,IAAK,MAAM+1D,KAAU/1D,MAAK,GAAiBwK,OACzCurD,EAAOoN,KAAKt4B,EAAIC,EAEpB,CACA,OAAAynB,CAAQwD,GACN,GAAsB,OAAlBA,EAAOpxD,OAAiB,CAC1B,MAAMA,EAAS3E,KAAKusE,SAASxW,EAAOpnC,WAChChqB,GACFA,EAAO47D,aAAaxK,GACpBpxD,EAAOi7D,aAAa7J,KAEpB/1D,KAAKygE,UAAU1K,GACf/1D,KAAKs5D,uBAAuBvD,GAC5BA,EAAOxD,UAEX,MACEwD,EAAOpxD,OAAOi7D,aAAa7J,EAE/B,CACA,4BAAIsW,GACF,OAAOrsE,KAAKggE,aAAaxL,2BAA4D,IAA/Bx0D,MAAK,GAAiBiY,MAAcjY,KAAK8sE,oBAAoBtY,yBACrH,CACA,QAAA8Y,CAASvX,GACP,OAAO/1D,MAAK,KAAkB+1D,CAChC,CACA,SAAAiK,GACE,OAAOhgE,MAAK,EACd,CACA,OAAAm/D,GACE,OAAOn/D,MAAK,EACd,CACA,gBAAIs8D,GACF,OAAO,EAAG78C,EAA6C5W,QAAQ7I,KAAM,eAAgB,IAAI+nE,EAC3F,EAIK,EAED,IACA,CAAE7qE,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzCwsB,eAAgB,IAAM,IAExB,IAAIlK,EAA+C,EAAoB,KACnE8tD,EAAiD,EAAoB,KAI9F,SAASC,EAAmBC,EAASpoD,EAAiBqoD,GACpD,MAAO,CACLC,OAAQ,MACRF,UACAG,OAAQF,EAAgBE,OACxB1/D,KAAM,OACN2/D,YAAaxoD,EAAkB,UAAY,cAC3CyoD,SAAU,SAEd,CACA,SAASC,EAAc3oD,GACrB,MAAMqoD,EAAU,IAAIO,QACpB,IAAK,MAAM99B,KAAY9qB,EAAa,CAClC,MAAM/T,EAAQ+T,EAAY8qB,QACZnwB,IAAV1O,GAGJo8D,EAAQ5hE,OAAOqkC,EAAU7+B,EAC3B,CACA,OAAOo8D,CACT,CACA,SAASQ,EAAevtD,GACtB,OAAIA,aAAeoE,WACVpE,EAAIsE,OAETtE,aAAe6Y,YACV7Y,IAET,EAAGjB,EAA6ChY,MAAM,4CAA4CiZ,KAC3F,IAAIoE,WAAWpE,GAAKsE,OAC7B,CACA,MAAM2E,EACJ,WAAA/lB,CAAY2K,GACVvO,KAAKuO,OAASA,EACdvO,KAAKkuE,OAAS,YAAYnwD,KAAKxP,EAAOM,KACtC7O,KAAKolB,YAAcplB,KAAKkuE,QAAU3/D,EAAO6W,aAAe,CAAC,EACzDplB,KAAKmuE,mBAAqB,KAC1BnuE,KAAKouE,qBAAuB,EAC9B,CACA,0BAAIC,GACF,OAAOruE,KAAKmuE,oBAAoBG,SAAW,CAC7C,CACA,aAAAl1C,GAGE,OAFA,EAAG3Z,EAA6C0Z,SAASn5B,KAAKmuE,mBAAoB,yDAClFnuE,KAAKmuE,mBAAqB,IAAII,EAAqBvuE,MAC5CA,KAAKmuE,kBACd,CACA,cAAAh0C,CAAe1O,EAAOS,GACpB,GAAIA,GAAOlsB,KAAKquE,uBACd,OAAO,KAET,MAAM56C,EAAS,IAAI+6C,EAA0BxuE,KAAMyrB,EAAOS,GAE1D,OADAlsB,KAAKouE,qBAAqBniE,KAAKwnB,GACxBA,CACT,CACA,iBAAAwF,CAAkB9G,GAChBnyB,KAAKmuE,oBAAoB/5C,OAAOjC,GAChC,IAAK,MAAMsB,KAAUzzB,KAAKouE,qBAAqBnuE,MAAM,GACnDwzB,EAAOW,OAAOjC,EAElB,EAEF,MAAMo8C,EACJ,WAAA3qE,CAAY6qE,GACVzuE,KAAK0uE,QAAUD,EACfzuE,KAAK2uE,QAAU,KACf3uE,KAAKsuE,QAAU,EACftuE,KAAK4uE,UAAY,KACjB,MAAMrgE,EAASkgE,EAAOlgE,OACtBvO,KAAK6uE,iBAAmBtgE,EAAO8W,kBAAmB,EAClDrlB,KAAK8uE,eAAiBvgE,EAAOlD,OAC7BrL,KAAK+uE,mBAAqB,IAAItvD,EAA6C+K,kBAC3ExqB,KAAKgvE,cAAgBzgE,EAAOwY,eAAgB,EAC5C/mB,KAAKivE,gBAAkB1gE,EAAOiX,eACzBxlB,KAAKivE,iBAAoBjvE,KAAKgvE,gBACjChvE,KAAKgvE,eAAgB,GAEvBhvE,KAAKkvE,iBAAmB,IAAIC,gBAC5BnvE,KAAKovE,uBAAyB7gE,EAAOyY,cACrChnB,KAAKqvE,mBAAqB9gE,EAAOwY,aACjC/mB,KAAKsvE,SAAWvB,EAAc/tE,KAAK0uE,QAAQtpD,aAC3C,MAAMvW,EAAMN,EAAOM,IACnB+sB,MAAM/sB,EAAK2+D,EAAmBxtE,KAAKsvE,SAAUtvE,KAAK6uE,iBAAkB7uE,KAAKkvE,mBAAmBhsD,MAAK0nC,IAC/F,KAAK,EAAG2iB,EAA+CgC,wBAAwB3kB,EAASjwB,QACtF,MAAM,EAAG4yC,EAA+CiC,2BAA2B5kB,EAASjwB,OAAQ9rB,GAEtG7O,KAAK2uE,QAAU/jB,EAAStC,KAAK50B,YAC7B1zB,KAAK+uE,mBAAmB3lD,UACxB,MAAMqmD,EAAoBnlE,GACjBsgD,EAAS6iB,QAAQn9D,IAAIhG,IAExB,mBACJolE,EAAkB,gBAClBC,IACE,EAAGpC,EAA+CqC,kCAAkC,CACtFH,oBACAvB,OAAQluE,KAAK0uE,QAAQR,OACrB1oD,eAAgBxlB,KAAKivE,gBACrBloD,aAAc/mB,KAAKgvE,gBAErBhvE,KAAKqvE,kBAAoBK,EACzB1vE,KAAK8uE,eAAiBa,GAAmB3vE,KAAK8uE,eAC9C9uE,KAAK4uE,WAAY,EAAGrB,EAA+CsC,2BAA2BJ,IACzFzvE,KAAKovE,uBAAyBpvE,KAAKqvE,mBACtCrvE,KAAKo0B,OAAO,IAAI3U,EAA6CuV,eAAe,0BAC9E,IACC5K,MAAMpqB,KAAK+uE,mBAAmBzkD,QACjCtqB,KAAK0qB,WAAa,IACpB,CACA,gBAAIoP,GACF,OAAO95B,KAAK+uE,mBAAmBpmD,OACjC,CACA,YAAIxY,GACF,OAAOnQ,KAAK4uE,SACd,CACA,iBAAI30C,GACF,OAAOj6B,KAAK8uE,cACd,CACA,oBAAI90C,GACF,OAAOh6B,KAAKqvE,iBACd,CACA,wBAAIt1C,GACF,OAAO/5B,KAAKovE,qBACd,CACA,UAAMv7C,SACE7zB,KAAK+uE,mBAAmBpmD,QAC9B,MAAM,MACJtX,EAAK,KACLyiB,SACQ9zB,KAAK2uE,QAAQ96C,OACvB,OAAIC,EACK,CACLziB,QACAyiB,SAGJ9zB,KAAKsuE,SAAWj9D,EAAM0T,WACtB/kB,KAAK0qB,aAAa,CAChBkB,OAAQ5rB,KAAKsuE,QACbziD,MAAO7rB,KAAK8uE,iBAEP,CACLz9D,MAAO48D,EAAe58D,GACtByiB,MAAM,GAEV,CACA,MAAAM,CAAOjC,GACLnyB,KAAK2uE,SAASv6C,OAAOjC,GACrBnyB,KAAKkvE,iBAAiB/iD,OACxB,EAEF,MAAMqiD,EACJ,WAAA5qE,CAAY6qE,EAAQhjD,EAAOS,GACzBlsB,KAAK0uE,QAAUD,EACfzuE,KAAK2uE,QAAU,KACf3uE,KAAKsuE,QAAU,EACf,MAAM//D,EAASkgE,EAAOlgE,OACtBvO,KAAK6uE,iBAAmBtgE,EAAO8W,kBAAmB,EAClDrlB,KAAK8vE,gBAAkB,IAAIrwD,EAA6C+K,kBACxExqB,KAAKovE,uBAAyB7gE,EAAOyY,cACrChnB,KAAKkvE,iBAAmB,IAAIC,gBAC5BnvE,KAAKsvE,SAAWvB,EAAc/tE,KAAK0uE,QAAQtpD,aAC3CplB,KAAKsvE,SAASzjE,OAAO,QAAS,SAAS4f,KAASS,EAAM,KACtD,MAAMrd,EAAMN,EAAOM,IACnB+sB,MAAM/sB,EAAK2+D,EAAmBxtE,KAAKsvE,SAAUtvE,KAAK6uE,iBAAkB7uE,KAAKkvE,mBAAmBhsD,MAAK0nC,IAC/F,KAAK,EAAG2iB,EAA+CgC,wBAAwB3kB,EAASjwB,QACtF,MAAM,EAAG4yC,EAA+CiC,2BAA2B5kB,EAASjwB,OAAQ9rB,GAEtG7O,KAAK8vE,gBAAgB1mD,UACrBppB,KAAK2uE,QAAU/jB,EAAStC,KAAK50B,WAAW,IACvCtJ,MAAMpqB,KAAK8vE,gBAAgBxlD,QAC9BtqB,KAAK0qB,WAAa,IACpB,CACA,wBAAIqP,GACF,OAAO/5B,KAAKovE,qBACd,CACA,UAAMv7C,SACE7zB,KAAK8vE,gBAAgBnnD,QAC3B,MAAM,MACJtX,EAAK,KACLyiB,SACQ9zB,KAAK2uE,QAAQ96C,OACvB,OAAIC,EACK,CACLziB,QACAyiB,SAGJ9zB,KAAKsuE,SAAWj9D,EAAM0T,WACtB/kB,KAAK0qB,aAAa,CAChBkB,OAAQ5rB,KAAKsuE,UAER,CACLj9D,MAAO48D,EAAe58D,GACtByiB,MAAM,GAEV,CACA,MAAAM,CAAOjC,GACLnyB,KAAK2uE,SAASv6C,OAAOjC,GACrBnyB,KAAKkvE,iBAAiB/iD,OACxB,EAIK,EAED,IACA,CAAEjvB,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzCo+B,eAAgB,IAAM,EACtB1D,WAAY,IAAM,IAEpB,IAAIpY,EAA+C,EAAoB,KAE5F,MAAMoY,EACJ,IAAe,IAAI/mB,IACnB,WAAAlN,EAAY,cACVijB,EAAgBC,WAAWvhB,SAAQ,aACnCmjB,EAAe,OAEf1oB,KAAKyqD,UAAY5jC,EACjB7mB,KAAK+vE,gBAAkB,IAAIj/D,IAC3B9Q,KAAK0oB,aAAe,KACpB1oB,KAAKgwE,gBAAkB,GACvBhwE,KAAKiwE,eAAiB,CACxB,CACA,iBAAAC,CAAkBC,GAChBnwE,KAAK+vE,gBAAgB9pE,IAAIkqE,GACzBnwE,KAAKyqD,UAAU2lB,MAAMnqE,IAAIkqE,EAC3B,CACA,oBAAAE,CAAqBF,GACnBnwE,KAAK+vE,gBAAgB3vD,OAAO+vD,GAC5BnwE,KAAKyqD,UAAU2lB,MAAMhwD,OAAO+vD,EAC9B,CACA,UAAAG,CAAW11B,GACJ56C,KAAK0oB,eACR1oB,KAAK0oB,aAAe1oB,KAAKyqD,UAAUjlD,cAAc,SACjDxF,KAAKyqD,UAAUsG,gBAAgB2C,qBAAqB,QAAQ,GAAG7nD,OAAO7L,KAAK0oB,eAE7E,MAAM6nD,EAAavwE,KAAK0oB,aAAa8nD,MACrCD,EAAWD,WAAW11B,EAAM21B,EAAWE,SAASplE,OAClD,CACA,KAAAmO,GACE,IAAK,MAAM22D,KAAkBnwE,KAAK+vE,gBAChC/vE,KAAKyqD,UAAU2lB,MAAMhwD,OAAO+vD,GAE9BnwE,KAAK+vE,gBAAgBv2D,QACrBxZ,MAAK,GAAawZ,QACdxZ,KAAK0oB,eACP1oB,KAAK0oB,aAAa/P,SAClB3Y,KAAK0oB,aAAe,KAExB,CACA,oBAAMgoD,EACJ3yB,eAAgB7mB,EAAI,aACpBy5C,IAEA,GAAKz5C,IAAQl3B,MAAK,GAAamN,IAAI+pB,EAAK2mB,YAIxC,IADA,EAAGp+B,EAA6C0Z,SAASn5B,KAAK0mB,gBAAiB,qEAC3E1mB,KAAK4wE,0BAAT,CACE,MAAM,WACJ/yB,EAAU,IACVlsC,EAAG,MACH/L,GACEsxB,EACE25C,EAAW,IAAIC,SAASjzB,EAAYlsC,EAAK/L,GAC/C5F,KAAKkwE,kBAAkBW,GACvB,UACQA,EAASE,OACf/wE,MAAK,GAAaiG,IAAI43C,GACtB8yB,IAAez5C,EACjB,CAAE,OACA,EAAGzX,EAA6ChY,MAAM,4BAA4ByvB,EAAK85C,oEACvFhxE,KAAKqwE,qBAAqBQ,EAC5B,CAEF,MACA,EAAGpxD,EAA6C/S,aAAa,gEAC/D,CACA,UAAM4N,CAAK+gB,GACT,GAAIA,EAAK41C,UAAY51C,EAAK8jB,cAAgB9jB,EAAK0iB,eAC7C,OAGF,GADA1iB,EAAK41C,UAAW,EACZ51C,EAAK0iB,eAEP,kBADM/9C,KAAK0wE,eAAer1C,GAG5B,GAAIr7B,KAAK4wE,0BAA2B,CAClC,MAAMT,EAAiB90C,EAAK61C,uBAC5B,GAAIf,EAAgB,CAClBnwE,KAAKkwE,kBAAkBC,GACvB,UACQA,EAAevkD,MACvB,CAAE,MAAOf,GAGP,MAFA,EAAGpL,EAA6ChY,MAAM,wBAAwB0oE,EAAegB,aAAatmD,OAC1GwQ,EAAK3U,iBAAkB,EACjBmE,CACR,CACF,CACA,MACF,CACA,MAAM+vB,EAAOvf,EAAK+1C,qBAClB,GAAIx2B,EAAM,CAER,GADA56C,KAAKswE,WAAW11B,GACZ56C,KAAKqxE,2BACP,aAEI,IAAIloD,SAAQC,IAChB,MAAM6hC,EAAUjrD,KAAKsxE,sBAAsBloD,GAC3CppB,KAAKuxE,sBAAsBl2C,EAAM4vB,EAAQ,GAE7C,CACF,CACA,6BAAI2lB,GACF,MAAMY,IAAaxxE,KAAKyqD,WAAW2lB,MACnC,OAAO,EAAG3wD,EAA6C5W,QAAQ7I,KAAM,4BAA6BwxE,EACpG,CACA,8BAAIH,GACF,IAAII,GAAY,EAMhB,OALIhyD,EAA6C8D,UAEjB,oBAAdmuD,WAA6D,iBAAzBA,WAAWC,WAA0B,iCAAiC5zD,KAAK2zD,UAAUC,cADzIF,GAAY,IAIP,EAAGhyD,EAA6C5W,QAAQ7I,KAAM,6BAA8ByxE,EACrG,CACA,qBAAAH,CAAsBh/C,GASpB,MAAM,gBACJ09C,GACEhwE,KACEirD,EAAU,CACdn3B,MAAM,EACNjC,SAbF,WAGE,KAFA,EAAGpS,EAA6C0Z,SAAS8xB,EAAQn3B,KAAM,6CACvEm3B,EAAQn3B,MAAO,EACRk8C,EAAgB3kE,OAAS,GAAK2kE,EAAgB,GAAGl8C,MAAM,CAC5D,MAAM89C,EAAe5B,EAAgBj9D,QACrC1J,WAAWuoE,EAAat/C,SAAU,EACpC,CACF,EAOEA,YAGF,OADA09C,EAAgB/jE,KAAKg/C,GACdA,CACT,CACA,iBAAI4mB,GACF,MAAMC,EAAWC,KAAK,49CACtB,OAAO,EAAGtyD,EAA6C5W,QAAQ7I,KAAM,gBAAiB8xE,EACxF,CACA,qBAAAP,CAAsBl2C,EAAM4vB,GAC1B,SAAS+mB,EAAMlxE,EAAMygD,GACnB,OAAOzgD,EAAKmxE,WAAW1wB,IAAW,GAAKzgD,EAAKmxE,WAAW1wB,EAAS,IAAM,GAAKzgD,EAAKmxE,WAAW1wB,EAAS,IAAM,EAAkC,IAA9BzgD,EAAKmxE,WAAW1wB,EAAS,EACzI,CACA,SAAS2wB,EAAa9X,EAAG7Y,EAAQ5oC,EAAQc,GAGvC,OAFe2gD,EAAEpjD,UAAU,EAAGuqC,GAEd9nC,EADD2gD,EAAEpjD,UAAUuqC,EAAS5oC,EAEtC,CACA,IAAI4D,EAAGC,EACP,MAAM0C,EAASlf,KAAKyqD,UAAUjlD,cAAc,UAC5C0Z,EAAOze,MAAQ,EACfye,EAAOxe,OAAS,EAChB,MAAMi/B,EAAMzgB,EAAO6f,WAAW,MAC9B,IAAIozC,EAAS,EAgBb,MAAMlC,EAAiB,KAAKv6B,KAAKC,QAAQ31C,KAAKiwE,mBAC9C,IAAInvE,EAAOd,KAAK6xE,cAEhB/wE,EAAOoxE,EAAapxE,EADG,IACmBmvE,EAAe5kE,OAAQ4kE,GACjE,MACMmC,EAAa,WACnB,IAAIC,EAAWL,EAAMlxE,EAFO,IAG5B,IAAKyb,EAAI,EAAGC,EAAKyzD,EAAe5kE,OAAS,EAAGkR,EAAIC,EAAID,GAAK,EACvD81D,EAAWA,EAAWD,EAAaJ,EAAM/B,EAAgB1zD,GAAK,EAE5DA,EAAI0zD,EAAe5kE,SACrBgnE,EAAWA,EAAWD,EAAaJ,EAAM/B,EAAiB,MAAO1zD,GAAK,GAExEzb,EAAOoxE,EAAapxE,EATQ,GASmB,GAAG,EAAG2e,EAA6C6yD,UAAUD,IAC5G,MACMz3B,EAAO,4BAA4Bq1B,UAD7B,iCAAiCsC,KAAKzxE,UAElDd,KAAKswE,WAAW11B,GAChB,MAAMpuC,EAAMxM,KAAKyqD,UAAUjlD,cAAc,OACzCgH,EAAI5G,MAAMoD,WAAa,SACvBwD,EAAI5G,MAAMnF,MAAQ+L,EAAI5G,MAAMlF,OAAS,OACrC8L,EAAI5G,MAAMwiD,SAAW,WACrB57C,EAAI5G,MAAMmC,IAAMyE,EAAI5G,MAAMkC,KAAO,MACjC,IAAK,MAAMwC,IAAQ,CAAC+wB,EAAKwiB,WAAYoyB,GAAiB,CACpD,MAAMxhB,EAAOzuD,KAAKyqD,UAAUjlD,cAAc,QAC1CipD,EAAKv5C,YAAc,KACnBu5C,EAAK7oD,MAAM4sE,WAAaloE,EACxBkC,EAAIX,OAAO4iD,EACb,CACAzuD,KAAKyqD,UAAUnC,KAAKz8C,OAAOW,GA3C3B,SAASimE,EAAYnoE,EAAMgoB,GACzB,KAAM6/C,EAAS,GAGb,OAFA,EAAG1yD,EAA6ChY,MAAM,qCACtD6qB,IAGFqN,EAAItE,KAAO,QAAU/wB,EACrBq1B,EAAI4f,SAAS,IAAK,EAAG,IACH5f,EAAI+S,aAAa,EAAG,EAAG,EAAG,GAC9B5xC,KAAK,GAAK,EACtBwxB,IAGFjpB,WAAWopE,EAAYn4D,KAAK,KAAMhQ,EAAMgoB,GAC1C,CA8BAmgD,CAAYxC,GAAgB,KAC1BzjE,EAAImM,SACJsyC,EAAQp5B,UAAU,GAEtB,EAEF,MAAM0J,EACJ,WAAA33B,CAAY8uE,GAAgB,gBAC1BnsD,GAAkB,EAAI,gBACtBG,GAAkB,EAAK,aACvBN,GAAe,EAAK,YACpB8U,EAAc,OAEdl7B,KAAK2yE,eAAiBpoE,OAAO3J,OAAO,MACpC,IAAK,MAAM2b,KAAKm2D,EACd1yE,KAAKuc,GAAKm2D,EAAen2D,GAE3Bvc,KAAKumB,iBAAsC,IAApBA,EACvBvmB,KAAK0mB,iBAAsC,IAApBA,EACvB1mB,KAAKomB,cAAgC,IAAjBA,EACpBpmB,KAAK2wE,aAAez1C,CACtB,CACA,oBAAAg2C,GACE,IAAKlxE,KAAKc,MAAQd,KAAK0mB,gBACrB,OAAO,KAET,IAAIypD,EACJ,GAAKnwE,KAAK4yE,YAEH,CACL,MAAM50B,EAAM,CACV60B,OAAQ7yE,KAAK4yE,YAAYE,YAEvB9yE,KAAK4yE,YAAYG,cACnB/0B,EAAIp4C,MAAQ,WAAW5F,KAAK4yE,YAAYG,kBAE1C5C,EAAiB,IAAIW,SAAS9wE,KAAK4yE,YAAYJ,WAAYxyE,KAAKc,KAAMk9C,EACxE,MATEmyB,EAAiB,IAAIW,SAAS9wE,KAAK69C,WAAY79C,KAAKc,KAAM,CAAC,GAW7D,OADAd,KAAK2wE,eAAe3wE,MACbmwE,CACT,CACA,kBAAAiB,GACE,IAAKpxE,KAAKc,MAAQd,KAAK0mB,gBACrB,OAAO,KAET,MAAM5lB,GAAO,EAAG2e,EAA6CuzD,eAAehzE,KAAKc,MAC3E+N,EAAM,YAAY7O,KAAKizE,mBAAmBV,KAAKzxE,OACrD,IAAI85C,EACJ,GAAK56C,KAAK4yE,YAEH,CACL,IAAI50B,EAAM,gBAAgBh+C,KAAK4yE,YAAYE,cACvC9yE,KAAK4yE,YAAYG,cACnB/0B,GAAO,uBAAuBh+C,KAAK4yE,YAAYG,mBAEjDn4B,EAAO,4BAA4B56C,KAAK4yE,YAAYJ,eAAex0B,QAAUnvC,IAC/E,MAPE+rC,EAAO,4BAA4B56C,KAAK69C,mBAAmBhvC,KAS7D,OADA7O,KAAK2wE,eAAe3wE,KAAM6O,GACnB+rC,CACT,CACA,gBAAAwE,CAAiBjwB,EAAM0vB,GACrB,QAAuC9+B,IAAnC/f,KAAK2yE,eAAe9zB,GACtB,OAAO7+C,KAAK2yE,eAAe9zB,GAE7B,IAAIq0B,EACJ,IACEA,EAAO/jD,EAAK7e,IAAItQ,KAAK69C,WAAa,SAAWgB,EAC/C,CAAE,MAAOh0B,GACP,IAAK7qB,KAAKomB,aACR,MAAMyE,EAGR,OADA,EAAGpL,EAA6ChY,MAAM,2CAA2CojB,OAC1F7qB,KAAK2yE,eAAe9zB,GAAa,SAAUtgD,EAAG0Z,GAAO,CAC9D,CACA,GAAIjY,KAAKumB,iBAAmB9G,EAA6CrN,YAAYmU,gBAAiB,CACpG,MAAM4sD,EAAQ,GACd,IAAK,MAAM7xC,KAAW4xC,EAAM,CAC1B,MAAM13B,OAAwBz7B,IAAjBuhB,EAAQka,KAAqBla,EAAQka,KAAKh8C,KAAK,KAAO,GACnE2zE,EAAMlnE,KAAK,KAAMq1B,EAAQwwB,IAAK,IAAKtW,EAAM,OAC3C,CACA,OAAOx7C,KAAK2yE,eAAe9zB,GAAa,IAAIu0B,SAAS,IAAK,OAAQD,EAAM3zE,KAAK,IAC/E,CACA,OAAOQ,KAAK2yE,eAAe9zB,GAAa,SAAUtgD,EAAG0Z,GACnD,IAAK,MAAMqpB,KAAW4xC,EACA,UAAhB5xC,EAAQwwB,MACVxwB,EAAQka,KAAO,CAACvjC,GAAOA,IAEzB1Z,EAAE+iC,EAAQwwB,KAAK7b,MAAM13C,EAAG+iC,EAAQka,KAEpC,CACF,EAIK,EAED,IACA,CAAEt+C,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzC++B,SAAU,IAAM,IAElB,IAAIzc,EAA+C,EAAoB,KAE5F,MAAMyc,EACJ,IACA,IACA,WAAAt4B,EAAY,WACVyvE,EAAU,QACVjL,IAEApoE,MAAK,GAAeqzE,EACpBrzE,MAAK,GAAQooE,CACf,CACA,MAAAkL,GACE,OAAOtzE,MAAK,EACd,CACA,GAAAsQ,CAAIhG,GACF,OAAOtK,MAAK,GAAasQ,IAAIhG,IAAS,IACxC,CACA,MAAAsW,GACE,OAAO,EAAGnB,EAA6CoB,eAAe7gB,MAAK,GAC7E,CACA,GAAAmN,CAAI7C,GACF,OAAOtK,MAAK,GAAamN,IAAI7C,EAC/B,EAIK,EAED,IACA,CAAEpN,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzCysB,iBAAkB,IAAM,IAE1B,IAAInK,EAA+C,EAAoB,KACnE8tD,EAAiD,EAAoB,KAa9F,MAAMgG,EACJ,WAAA3vE,CAAYiL,EAAK2sC,EAAO,CAAC,GACvBx7C,KAAK6O,IAAMA,EACX7O,KAAKkuE,OAAS,YAAYnwD,KAAKlP,GAC/B7O,KAAKolB,YAAcplB,KAAKkuE,QAAU1yB,EAAKp2B,aAAe7a,OAAO3J,OAAO,MACpEZ,KAAKqlB,gBAAkBm2B,EAAKn2B,kBAAmB,EAC/CrlB,KAAKwzE,UAAY,EACjBxzE,KAAKyzE,gBAAkBlpE,OAAO3J,OAAO,KACvC,CACA,YAAA8yE,CAAajoD,EAAOS,EAAKynD,GACvB,MAAMn4B,EAAO,CACX/vB,QACAS,OAEF,IAAK,MAAM0nD,KAAQD,EACjBn4B,EAAKo4B,GAAQD,EAAUC,GAEzB,OAAO5zE,KAAKirD,QAAQzP,EACtB,CACA,WAAAq4B,CAAYF,GACV,OAAO3zE,KAAKirD,QAAQ0oB,EACtB,CACA,OAAA1oB,CAAQzP,GACN,MAAMs4B,EAAM,IAAI5oB,eACV6oB,EAAQ/zE,KAAKwzE,YACbQ,EAAiBh0E,KAAKyzE,gBAAgBM,GAAS,CACnDD,OAEFA,EAAI35D,KAAK,MAAOna,KAAK6O,KACrBilE,EAAIzuD,gBAAkBrlB,KAAKqlB,gBAC3B,IAAK,MAAM6qB,KAAYlwC,KAAKolB,YAAa,CACvC,MAAM/T,EAAQrR,KAAKolB,YAAY8qB,QACjBnwB,IAAV1O,GAGJyiE,EAAIG,iBAAiB/jC,EAAU7+B,EACjC,CAoBA,OAnBIrR,KAAKkuE,QAAU,UAAW1yB,GAAQ,QAASA,GAC7Cs4B,EAAIG,iBAAiB,QAAS,SAASz4B,EAAK/vB,SAAS+vB,EAAKtvB,IAAM,KAChE8nD,EAAeE,eA/CY,KAiD3BF,EAAeE,eAlDD,IAoDhBJ,EAAI3oB,aAAe,cACf3P,EAAK24B,UACPL,EAAI/K,QAAU,SAAU/qD,GACtBw9B,EAAK24B,QAAQL,EAAIn5C,OACnB,GAEFm5C,EAAI1oB,mBAAqBprD,KAAKo0E,cAAc95D,KAAKta,KAAM+zE,GACvDD,EAAIO,WAAar0E,KAAK0qB,WAAWpQ,KAAKta,KAAM+zE,GAC5CC,EAAeM,kBAAoB94B,EAAK84B,kBACxCN,EAAeO,OAAS/4B,EAAK+4B,OAC7BP,EAAeG,QAAU34B,EAAK24B,QAC9BH,EAAetpD,WAAa8wB,EAAK9wB,WACjCopD,EAAI3pD,KAAK,MACF4pD,CACT,CACA,UAAArpD,CAAWqpD,EAAO/1D,GAChB,MAAMg2D,EAAiBh0E,KAAKyzE,gBAAgBM,GACvCC,GAGLA,EAAetpD,aAAa1M,EAC9B,CACA,aAAAo2D,CAAcL,EAAO/1D,GACnB,MAAMg2D,EAAiBh0E,KAAKyzE,gBAAgBM,GAC5C,IAAKC,EACH,OAEF,MAAMF,EAAME,EAAeF,IAK3B,GAJIA,EAAIzoB,YAAc,GAAK2oB,EAAeM,oBACxCN,EAAeM,2BACRN,EAAeM,mBAED,IAAnBR,EAAIzoB,WACN,OAEF,KAAM0oB,KAAS/zE,KAAKyzE,iBAClB,OAGF,UADOzzE,KAAKyzE,gBAAgBM,GACT,IAAfD,EAAIn5C,QAAgB36B,KAAKkuE,OAE3B,YADA8F,EAAeG,UAAUL,EAAIn5C,QAG/B,MAAM65C,EAAYV,EAAIn5C,QA/FN,IAiGhB,KAjGgB,MAgGqB65C,GA/FR,MA+FqCR,EAAeE,iBAC5CM,IAAcR,EAAeE,eAEhE,YADAF,EAAeG,UAAUL,EAAIn5C,QAG/B,MAAMjP,EAnGV,SAAwBooD,GACtB,MAAMhzE,EAAOgzE,EAAIlpB,SACjB,MAAoB,iBAAT9pD,EACFA,GAEF,EAAG2e,EAA6CwF,eAAenkB,GAAMkkB,MAC9E,CA6FkBipD,CAAe6F,GAC7B,GArG6B,MAqGzBU,EAAwC,CAC1C,MAAMC,EAAcX,EAAIrE,kBAAkB,iBACpC9hB,EAAU,2BAA2BZ,KAAK0nB,GAChDT,EAAeO,OAAO,CACpB9oD,MAAO5O,SAAS8wC,EAAQ,GAAI,IAC5BjiC,SAEJ,MAAWA,EACTsoD,EAAeO,OAAO,CACpB9oD,MAAO,EACPC,UAGFsoD,EAAeG,UAAUL,EAAIn5C,OAEjC,CACA,aAAA+5C,CAAcX,GACZ,OAAO/zE,KAAKyzE,gBAAgBM,GAAOD,GACrC,CACA,gBAAAa,CAAiBZ,GACf,OAAOA,KAAS/zE,KAAKyzE,eACvB,CACA,YAAAmB,CAAab,GACX,MAAMD,EAAM9zE,KAAKyzE,gBAAgBM,GAAOD,WACjC9zE,KAAKyzE,gBAAgBM,GAC5BD,EAAI3nD,OACN,EAEF,MAAMvC,EACJ,WAAAhmB,CAAY2K,GACVvO,KAAK60E,QAAUtmE,EACfvO,KAAK80E,SAAW,IAAIvB,EAAehlE,EAAOM,IAAK,CAC7CuW,YAAa7W,EAAO6W,YACpBC,gBAAiB9W,EAAO8W,kBAE1BrlB,KAAKivE,gBAAkB1gE,EAAOiX,eAC9BxlB,KAAKmuE,mBAAqB,KAC1BnuE,KAAKouE,qBAAuB,EAC9B,CACA,2BAAA2G,CAA4BthD,GAC1B,MAAMlX,EAAIvc,KAAKouE,qBAAqB4G,QAAQvhD,GACxClX,GAAK,GACPvc,KAAKouE,qBAAqB9E,OAAO/sD,EAAG,EAExC,CACA,aAAA6c,GAGE,OAFA,EAAG3Z,EAA6C0Z,SAASn5B,KAAKmuE,mBAAoB,2DAClFnuE,KAAKmuE,mBAAqB,IAAI8G,EAAkCj1E,KAAK80E,SAAU90E,KAAK60E,SAC7E70E,KAAKmuE,kBACd,CACA,cAAAh0C,CAAe1O,EAAOS,GACpB,MAAMuH,EAAS,IAAIyhD,EAAmCl1E,KAAK80E,SAAUrpD,EAAOS,GAG5E,OAFAuH,EAAO0hD,SAAWn1E,KAAK+0E,4BAA4Bz6D,KAAKta,MACxDA,KAAKouE,qBAAqBniE,KAAKwnB,GACxBA,CACT,CACA,iBAAAwF,CAAkB9G,GAChBnyB,KAAKmuE,oBAAoB/5C,OAAOjC,GAChC,IAAK,MAAMsB,KAAUzzB,KAAKouE,qBAAqBnuE,MAAM,GACnDwzB,EAAOW,OAAOjC,EAElB,EAEF,MAAM8iD,EACJ,WAAArxE,CAAYwxE,EAAS7mE,GACnBvO,KAAK80E,SAAWM,EAChB,MAAM55B,EAAO,CACX84B,kBAAmBt0E,KAAKq1E,mBAAmB/6D,KAAKta,MAChDu0E,OAAQv0E,KAAKs1E,QAAQh7D,KAAKta,MAC1Bm0E,QAASn0E,KAAKu1E,SAASj7D,KAAKta,MAC5B0qB,WAAY1qB,KAAKw1E,YAAYl7D,KAAKta,OAEpCA,KAAKy1E,KAAOlnE,EAAOM,IACnB7O,KAAK01E,eAAiBN,EAAQvB,YAAYr4B,GAC1Cx7C,KAAK21E,2BAA6B,IAAIl2D,EAA6C+K,kBACnFxqB,KAAKgvE,cAAgBzgE,EAAOwY,eAAgB,EAC5C/mB,KAAK8uE,eAAiBvgE,EAAOlD,OAC7BrL,KAAKivE,gBAAkB1gE,EAAOiX,eACzBxlB,KAAKivE,iBAAoBjvE,KAAKgvE,gBACjChvE,KAAKgvE,eAAgB,GAEvBhvE,KAAKovE,uBAAwB,EAC7BpvE,KAAKqvE,mBAAoB,EACzBrvE,KAAK41E,cAAgB,GACrB51E,KAAK61E,UAAY,GACjB71E,KAAK81E,OAAQ,EACb91E,KAAK+1E,kBAAeh2D,EACpB/f,KAAK4uE,UAAY,KACjB5uE,KAAK0qB,WAAa,IACpB,CACA,kBAAA2qD,GACE,MAAMW,EAAmBh2E,KAAK01E,eACxBO,EAAiBj2E,KAAK80E,SAASJ,cAAcsB,GAC7CvG,EAAoBnlE,GACjB2rE,EAAexG,kBAAkBnlE,IAEpC,mBACJolE,EAAkB,gBAClBC,IACE,EAAGpC,EAA+CqC,kCAAkC,CACtFH,oBACAvB,OAAQluE,KAAK80E,SAAS5G,OACtB1oD,eAAgBxlB,KAAKivE,gBACrBloD,aAAc/mB,KAAKgvE,gBAEjBU,IACF1vE,KAAKqvE,mBAAoB,GAE3BrvE,KAAK8uE,eAAiBa,GAAmB3vE,KAAK8uE,eAC9C9uE,KAAK4uE,WAAY,EAAGrB,EAA+CsC,2BAA2BJ,GAC1FzvE,KAAKqvE,mBACPrvE,KAAK80E,SAASF,aAAaoB,GAE7Bh2E,KAAK21E,2BAA2BvsD,SAClC,CACA,OAAAksD,CAAQx0E,GACN,GAAIA,EACF,GAAId,KAAK61E,UAAUxqE,OAAS,EAAG,CACHrL,KAAK61E,UAAU9iE,QACvBqW,QAAQ,CACxB/X,MAAOvQ,EAAK4qB,MACZoI,MAAM,GAEV,MACE9zB,KAAK41E,cAAc3pE,KAAKnL,EAAK4qB,OAIjC,GADA1rB,KAAK81E,OAAQ,IACT91E,KAAK41E,cAAcvqE,OAAS,GAAhC,CAGA,IAAK,MAAM6qE,KAAqBl2E,KAAK61E,UACnCK,EAAkB9sD,QAAQ,CACxB/X,WAAO0O,EACP+T,MAAM,IAGV9zB,KAAK61E,UAAUxqE,OAAS,CAPxB,CAQF,CACA,QAAAkqE,CAAS56C,GACP36B,KAAK+1E,cAAe,EAAGxI,EAA+CiC,2BAA2B70C,EAAQ36B,KAAKy1E,MAC9Gz1E,KAAK21E,2BAA2BrrD,OAAOtqB,KAAK+1E,cAC5C,IAAK,MAAMG,KAAqBl2E,KAAK61E,UACnCK,EAAkB5rD,OAAOtqB,KAAK+1E,cAEhC/1E,KAAK61E,UAAUxqE,OAAS,EACxBrL,KAAK41E,cAAcvqE,OAAS,CAC9B,CACA,WAAAmqE,CAAYx3D,GACVhe,KAAK0qB,aAAa,CAChBkB,OAAQ5N,EAAI4N,OACZC,MAAO7N,EAAIm4D,iBAAmBn4D,EAAI6N,MAAQ7rB,KAAK8uE,gBAEnD,CACA,YAAI3+D,GACF,OAAOnQ,KAAK4uE,SACd,CACA,oBAAI50C,GACF,OAAOh6B,KAAKqvE,iBACd,CACA,wBAAIt1C,GACF,OAAO/5B,KAAKovE,qBACd,CACA,iBAAIn1C,GACF,OAAOj6B,KAAK8uE,cACd,CACA,gBAAIh1C,GACF,OAAO95B,KAAK21E,2BAA2BhtD,OACzC,CACA,UAAMkL,GACJ,GAAI7zB,KAAK+1E,aACP,MAAM/1E,KAAK+1E,aAEb,GAAI/1E,KAAK41E,cAAcvqE,OAAS,EAAG,CAEjC,MAAO,CACLgG,MAFYrR,KAAK41E,cAAc7iE,QAG/B+gB,MAAM,EAEV,CACA,GAAI9zB,KAAK81E,MACP,MAAO,CACLzkE,WAAO0O,EACP+T,MAAM,GAGV,MAAMoiD,EAAoB,IAAIz2D,EAA6C+K,kBAE3E,OADAxqB,KAAK61E,UAAU5pE,KAAKiqE,GACbA,EAAkBvtD,OAC3B,CACA,MAAAyL,CAAOjC,GACLnyB,KAAK81E,OAAQ,EACb91E,KAAK21E,2BAA2BrrD,OAAO6H,GACvC,IAAK,MAAM+jD,KAAqBl2E,KAAK61E,UACnCK,EAAkB9sD,QAAQ,CACxB/X,WAAO0O,EACP+T,MAAM,IAGV9zB,KAAK61E,UAAUxqE,OAAS,EACpBrL,KAAK80E,SAASH,iBAAiB30E,KAAK01E,iBACtC11E,KAAK80E,SAASF,aAAa50E,KAAK01E,gBAElC11E,KAAKmuE,mBAAqB,IAC5B,EAEF,MAAM+G,EACJ,WAAAtxE,CAAYwxE,EAAS3pD,EAAOS,GAC1BlsB,KAAK80E,SAAWM,EAChB,MAAM55B,EAAO,CACX+4B,OAAQv0E,KAAKs1E,QAAQh7D,KAAKta,MAC1Bm0E,QAASn0E,KAAKu1E,SAASj7D,KAAKta,MAC5B0qB,WAAY1qB,KAAKw1E,YAAYl7D,KAAKta,OAEpCA,KAAKy1E,KAAOL,EAAQvmE,IACpB7O,KAAKo2E,WAAahB,EAAQ1B,aAAajoD,EAAOS,EAAKsvB,GACnDx7C,KAAK61E,UAAY,GACjB71E,KAAKq2E,aAAe,KACpBr2E,KAAK81E,OAAQ,EACb91E,KAAK+1E,kBAAeh2D,EACpB/f,KAAK0qB,WAAa,KAClB1qB,KAAKm1E,SAAW,IAClB,CACA,MAAAmB,GACEt2E,KAAKm1E,WAAWn1E,KAClB,CACA,OAAAs1E,CAAQx0E,GACN,MAAM4qB,EAAQ5qB,EAAK4qB,MACnB,GAAI1rB,KAAK61E,UAAUxqE,OAAS,EAAG,CACHrL,KAAK61E,UAAU9iE,QACvBqW,QAAQ,CACxB/X,MAAOqa,EACPoI,MAAM,GAEV,MACE9zB,KAAKq2E,aAAe3qD,EAEtB1rB,KAAK81E,OAAQ,EACb,IAAK,MAAMI,KAAqBl2E,KAAK61E,UACnCK,EAAkB9sD,QAAQ,CACxB/X,WAAO0O,EACP+T,MAAM,IAGV9zB,KAAK61E,UAAUxqE,OAAS,EACxBrL,KAAKs2E,QACP,CACA,QAAAf,CAAS56C,GACP36B,KAAK+1E,cAAe,EAAGxI,EAA+CiC,2BAA2B70C,EAAQ36B,KAAKy1E,MAC9G,IAAK,MAAMS,KAAqBl2E,KAAK61E,UACnCK,EAAkB5rD,OAAOtqB,KAAK+1E,cAEhC/1E,KAAK61E,UAAUxqE,OAAS,EACxBrL,KAAKq2E,aAAe,IACtB,CACA,WAAAb,CAAYx3D,GACLhe,KAAK+5B,sBACR/5B,KAAK0qB,aAAa,CAChBkB,OAAQ5N,EAAI4N,QAGlB,CACA,wBAAImO,GACF,OAAO,CACT,CACA,UAAMlG,GACJ,GAAI7zB,KAAK+1E,aACP,MAAM/1E,KAAK+1E,aAEb,GAA0B,OAAtB/1E,KAAKq2E,aAAuB,CAC9B,MAAM3qD,EAAQ1rB,KAAKq2E,aAEnB,OADAr2E,KAAKq2E,aAAe,KACb,CACLhlE,MAAOqa,EACPoI,MAAM,EAEV,CACA,GAAI9zB,KAAK81E,MACP,MAAO,CACLzkE,WAAO0O,EACP+T,MAAM,GAGV,MAAMoiD,EAAoB,IAAIz2D,EAA6C+K,kBAE3E,OADAxqB,KAAK61E,UAAU5pE,KAAKiqE,GACbA,EAAkBvtD,OAC3B,CACA,MAAAyL,CAAOjC,GACLnyB,KAAK81E,OAAQ,EACb,IAAK,MAAMI,KAAqBl2E,KAAK61E,UACnCK,EAAkB9sD,QAAQ,CACxB/X,WAAO0O,EACP+T,MAAM,IAGV9zB,KAAK61E,UAAUxqE,OAAS,EACpBrL,KAAK80E,SAASH,iBAAiB30E,KAAKo2E,aACtCp2E,KAAK80E,SAASF,aAAa50E,KAAKo2E,YAElCp2E,KAAKs2E,QACP,EAIK,EAED,IACA,CAAEp5E,EAAqC,EAAqB,KAIlE,EAAoBC,EAAE,EAAqB,CACzCqyE,0BAA2B,IAAM,EACjCK,0BAA2B,IAAM,EACjCD,iCAAkC,IAAM,EACxCL,uBAAwB,IAAM,IAIhC,IAAI/xE,EAAO,EAAoB,KAqI/B,IAAIC,EAAgB,EAAoB,KAKxC,SAASmyE,GAAiC,kBACxCH,EAAiB,OACjBvB,EAAM,eACN1oD,EAAc,aACduB,IAEA,MAAMwvD,EAAe,CACnB7G,oBAAoB,EACpBC,qBAAiB5vD,GAEb1U,EAASwR,SAAS4yD,EAAkB,kBAAmB,IAC7D,IAAKhqD,OAAOC,UAAUra,GACpB,OAAOkrE,EAGT,GADAA,EAAa5G,gBAAkBtkE,EAC3BA,GAAU,EAAIma,EAChB,OAAO+wD,EAET,GAAIxvD,IAAiBmnD,EACnB,OAAOqI,EAET,GAA2C,UAAvC9G,EAAkB,iBACpB,OAAO8G,EAGT,MAAwB,cADA9G,EAAkB,qBAAuB,cAIjE8G,EAAa7G,oBAAqB,GAFzB6G,CAIX,CACA,SAAS1G,EAA0BJ,GACjC,MAAM+G,EAAqB/G,EAAkB,uBAC7C,GAAI+G,EAAoB,CACtB,IAAIrmE,EAzKR,SAAiDqmE,GAC/C,IAAIC,GAAqB,EACrBtzC,EAAMuzC,EAAc,cAAe,KAAK3pB,KAAKypB,GACjD,GAAIrzC,EAAK,CACPA,EAAMA,EAAI,GACV,IAAIhzB,EAAWwmE,EAAexzC,GAI9B,OAHAhzB,EAAWymE,SAASzmE,GACpBA,EAAW0mE,EAAc1mE,GACzBA,EAAW2mE,EAAc3mE,GAClB4mE,EAAc5mE,EACvB,CAEA,GADAgzB,EAwCA,SAAyB6zC,GACvB,MAAMrpB,EAAU,GAChB,IAAI52C,EACJ,MAAMkgE,EAAOP,EAAc,kCAAmC,MAC9D,KAAsD,QAA9C3/D,EAAQkgE,EAAKlqB,KAAKiqB,KAAkC,CAC1D,IAAK,CAAEp5E,EAAGs5E,EAAMC,GAAQpgE,EAExB,GADAnZ,EAAIif,SAASjf,EAAG,IACZA,KAAK+vD,GACP,GAAU,IAAN/vD,EACF,WAIJ+vD,EAAQ/vD,GAAK,CAACs5E,EAAMC,EACtB,CACA,MAAMC,EAAQ,GACd,IAAK,IAAIx5E,EAAI,EAAGA,EAAI+vD,EAAQtiD,QACpBzN,KAAK+vD,IADyB/vD,EAAG,CAIvC,IAAKs5E,EAAMC,GAAQxpB,EAAQ/vD,GAC3Bu5E,EAAOR,EAAeQ,GAClBD,IACFC,EAAOP,SAASO,GACN,IAANv5E,IACFu5E,EAAON,EAAcM,KAGzBC,EAAMnrE,KAAKkrE,EACb,CACA,OAAOC,EAAM53E,KAAK,GACpB,CAvEM63E,CAAgBb,GAClBrzC,EAEF,OAAO4zC,EADUD,EAAc3zC,IAIjC,GADAA,EAAMuzC,EAAc,WAAY,KAAK3pB,KAAKypB,GACtCrzC,EAAK,CACPA,EAAMA,EAAI,GACV,IAAIhzB,EAAWwmE,EAAexzC,GAE9B,OADAhzB,EAAW2mE,EAAc3mE,GAClB4mE,EAAc5mE,EACvB,CACA,SAASumE,EAAcY,EAAkBC,GACvC,OAAO,IAAI7pB,OAAO,cAAgB4pB,EAAhB,sDAAmHC,EACvI,CACA,SAASC,EAAWC,EAAUpmE,GAC5B,GAAIomE,EAAU,CACZ,IAAK,iBAAiB15D,KAAK1M,GACzB,OAAOA,EAET,IACE,MAAMqmE,EAAU,IAAIC,YAAYF,EAAU,CACxCG,OAAO,IAEH5yD,GAAS,EAAGxnB,EAAKynB,eAAe5T,GACtCA,EAAQqmE,EAAQvP,OAAOnjD,GACvByxD,GAAqB,CACvB,CAAE,MAAO,CACX,CACA,OAAOplE,CACT,CACA,SAAS0lE,EAAc1lE,GAOrB,OANIolE,GAAsB,cAAc14D,KAAK1M,KAC3CA,EAAQmmE,EAAW,QAASnmE,GACxBolE,IACFplE,EAAQmmE,EAAW,aAAcnmE,KAG9BA,CACT,CAiCA,SAASslE,EAAetlE,GACtB,GAAIA,EAAM2jC,WAAW,KAAM,CACzB,MAAMoiC,EAAQ/lE,EAAMpR,MAAM,GAAGqc,MAAM,OACnC,IAAK,IAAIC,EAAI,EAAGA,EAAI66D,EAAM/rE,SAAUkR,EAAG,CACrC,MAAMs7D,EAAYT,EAAM76D,GAAGy4D,QAAQ,MAChB,IAAf6C,IACFT,EAAM76D,GAAK66D,EAAM76D,GAAGtc,MAAM,EAAG43E,GAC7BT,EAAM/rE,OAASkR,EAAI,GAErB66D,EAAM76D,GAAK66D,EAAM76D,GAAG/G,WAAW,SAAU,KAC3C,CACAnE,EAAQ+lE,EAAM53E,KAAK,IACrB,CACA,OAAO6R,CACT,CACA,SAASwlE,EAAciB,GACrB,MAAMC,EAAcD,EAAS9C,QAAQ,KACrC,OAAqB,IAAjB+C,EACKD,EAKFN,EAHUM,EAAS73E,MAAM,EAAG83E,GACjBD,EAAS73E,MAAM83E,EAAc,GACvBpkB,QAAQ,UAAW,IAE7C,CACA,SAASmjB,EAAczlE,GACrB,OAAKA,EAAM2jC,WAAW,OAAS,uBAAuBj3B,KAAK1M,GAClDA,EAEFA,EAAMmE,WAAW,kDAAkD,SAAUm4C,EAASqqB,EAASP,EAAUzsB,GAC9G,GAAiB,MAAbysB,GAAiC,MAAbA,EAKtB,OAAOD,EAAWQ,EAHlBhtB,GADAA,EAAOA,EAAKx1C,WAAW,IAAK,MAChBA,WAAW,sBAAsB,SAAUuB,EAAOkhE,GAC5D,OAAOC,OAAOC,aAAat7D,SAASo7D,EAAK,IAC3C,KAGF,IACEjtB,EAAO+mB,KAAK/mB,EACd,CAAE,MAAO,CACT,OAAOwsB,EAAWQ,EAAShtB,EAC7B,GACF,CACA,MAAO,EACT,CA0CmBotB,CAAwC5B,GACvD,GAAIrmE,EAAS2C,SAAS,KACpB,IACE3C,EAAW88C,mBAAmB98C,EAChC,CAAE,MAAO,CAEX,IAAI,EAAG1S,EAAcoqD,WAAW13C,GAC9B,OAAOA,CAEX,CACA,OAAO,IACT,CACA,SAASq/D,EAA0B70C,EAAQ9rB,GACzC,OAAe,MAAX8rB,GAA6B,IAAXA,GAAgB9rB,EAAImmC,WAAW,SAC5C,IAAIx3C,EAAKi9B,oBAAoB,gBAAkB5rB,EAAM,MAEvD,IAAIrR,EAAKk9B,4BAA4B,+BAA+BC,4BAAiC9rB,MAAS8rB,EACvH,CACA,SAAS40C,EAAuB50C,GAC9B,OAAkB,MAAXA,GAA6B,MAAXA,CAC3B,CAGO,EAED,IACA,CAAElZ,EAAoB,EAAqB,KAEjD,EAAoBC,EAAED,GAAoBE,MAAOC,EAAuCC,KAA+B,IAClG,EAAoB1kB,EAAE,EAAqB,CACzCusB,cAAe,IAAM,IAEvB,IAAIjK,EAA+C,EAAoB,KACnE8tD,EAAiD,EAAoB,KAI9F,IAAI8K,EAAIC,EAAMC,EAAO1pE,EACjB4Q,EAA6C8D,WAC/C80D,QAAW5gD,OAAiC,MAC5C6gD,QAAa7gD,OAAiC,QAC9C8gD,QAAc9gD,OAAiC,SAC/C5oB,QAAY4oB,OAAiC,QAE/C,MAAM+gD,EAAe,0BAcrB,MAAM9uD,EACJ,WAAA9lB,CAAY2K,GACVvO,KAAKuO,OAASA,EACdvO,KAAK6O,IAhBT,SAAkB4pE,GAChB,MAAMC,EAAY7pE,EAAIq9D,MAAMuM,GAC5B,MAA2B,UAAvBC,EAAUnrB,UAAwBmrB,EAAUC,KACvCD,EAEL,gBAAgB36D,KAAK06D,GAChB5pE,EAAIq9D,MAAM,WAAWuM,MAEzBC,EAAUC,OACbD,EAAUnrB,SAAW,SAEhBmrB,EACT,CAIeE,CAASrqE,EAAOM,KAC3B7O,KAAKkuE,OAA+B,UAAtBluE,KAAK6O,IAAI0+C,UAA8C,WAAtBvtD,KAAK6O,IAAI0+C,SACxDvtD,KAAK64E,QAAgC,UAAtB74E,KAAK6O,IAAI0+C,SACxBvtD,KAAKolB,YAAcplB,KAAKkuE,QAAU3/D,EAAO6W,aAAe,CAAC,EACzDplB,KAAKmuE,mBAAqB,KAC1BnuE,KAAKouE,qBAAuB,EAC9B,CACA,0BAAIC,GACF,OAAOruE,KAAKmuE,oBAAoBG,SAAW,CAC7C,CACA,aAAAl1C,GAGE,OAFA,EAAG3Z,EAA6C0Z,SAASn5B,KAAKmuE,mBAAoB,wDAClFnuE,KAAKmuE,mBAAqBnuE,KAAK64E,QAAU,IAAIC,EAA0B94E,MAAQ,IAAI+4E,EAAwB/4E,MACpGA,KAAKmuE,kBACd,CACA,cAAAh0C,CAAeivB,EAAOl9B,GACpB,GAAIA,GAAOlsB,KAAKquE,uBACd,OAAO,KAET,MAAMn0C,EAAcl6B,KAAK64E,QAAU,IAAIG,EAA2Bh5E,KAAMopD,EAAOl9B,GAAO,IAAI+sD,EAAyBj5E,KAAMopD,EAAOl9B,GAEhI,OADAlsB,KAAKouE,qBAAqBniE,KAAKiuB,GACxBA,CACT,CACA,iBAAAjB,CAAkB9G,GAChBnyB,KAAKmuE,oBAAoB/5C,OAAOjC,GAChC,IAAK,MAAMsB,KAAUzzB,KAAKouE,qBAAqBnuE,MAAM,GACnDwzB,EAAOW,OAAOjC,EAElB,EAEF,MAAM+mD,EACJ,WAAAt1E,CAAY6qE,GACVzuE,KAAKy1E,KAAOhH,EAAO5/D,IACnB7O,KAAK81E,OAAQ,EACb91E,KAAK+1E,aAAe,KACpB/1E,KAAK0qB,WAAa,KAClB,MAAMnc,EAASkgE,EAAOlgE,OACtBvO,KAAK8uE,eAAiBvgE,EAAOlD,OAC7BrL,KAAKsuE,QAAU,EACftuE,KAAK4uE,UAAY,KACjB5uE,KAAKgvE,cAAgBzgE,EAAOwY,eAAgB,EAC5C/mB,KAAKivE,gBAAkB1gE,EAAOiX,eACzBxlB,KAAKivE,iBAAoBjvE,KAAKgvE,gBACjChvE,KAAKgvE,eAAgB,GAEvBhvE,KAAKovE,uBAAyB7gE,EAAOyY,cACrChnB,KAAKqvE,mBAAqB9gE,EAAOwY,aACjC/mB,KAAKm5E,gBAAkB,KACvBn5E,KAAK8vE,gBAAkB,IAAIrwD,EAA6C+K,kBACxExqB,KAAK+uE,mBAAqB,IAAItvD,EAA6C+K,iBAC7E,CACA,gBAAIsP,GACF,OAAO95B,KAAK+uE,mBAAmBpmD,OACjC,CACA,YAAIxY,GACF,OAAOnQ,KAAK4uE,SACd,CACA,iBAAI30C,GACF,OAAOj6B,KAAK8uE,cACd,CACA,oBAAI90C,GACF,OAAOh6B,KAAKqvE,iBACd,CACA,wBAAIt1C,GACF,OAAO/5B,KAAKovE,qBACd,CACA,UAAMv7C,GAEJ,SADM7zB,KAAK8vE,gBAAgBnnD,QACvB3oB,KAAK81E,MACP,MAAO,CACLzkE,WAAO0O,EACP+T,MAAM,GAGV,GAAI9zB,KAAK+1E,aACP,MAAM/1E,KAAK+1E,aAEb,MAAMrqD,EAAQ1rB,KAAKm5E,gBAAgBtlD,OACnC,GAAc,OAAVnI,EAEF,OADA1rB,KAAK8vE,gBAAkB,IAAIrwD,EAA6C+K,kBACjExqB,KAAK6zB,OAEd7zB,KAAKsuE,SAAW5iD,EAAMrgB,OACtBrL,KAAK0qB,aAAa,CAChBkB,OAAQ5rB,KAAKsuE,QACbziD,MAAO7rB,KAAK8uE,iBAGd,MAAO,CACLz9D,MAFa,IAAIyT,WAAW4G,GAAO1G,OAGnC8O,MAAM,EAEV,CACA,MAAAM,CAAOjC,GACAnyB,KAAKm5E,gBAIVn5E,KAAKm5E,gBAAgBxuD,QAAQwH,GAH3BnyB,KAAKo5E,OAAOjnD,EAIhB,CACA,MAAAinD,CAAOjnD,GACLnyB,KAAK+1E,aAAe5jD,EACpBnyB,KAAK8vE,gBAAgB1mD,SACvB,CACA,kBAAAiwD,CAAmB7lD,GACjBxzB,KAAKm5E,gBAAkB3lD,EACvBA,EAAemD,GAAG,YAAY,KAC5B32B,KAAK8vE,gBAAgB1mD,SAAS,IAEhCoK,EAAemD,GAAG,OAAO,KACvBnD,EAAe7I,UACf3qB,KAAK81E,OAAQ,EACb91E,KAAK8vE,gBAAgB1mD,SAAS,IAEhCoK,EAAemD,GAAG,SAASxE,IACzBnyB,KAAKo5E,OAAOjnD,EAAO,KAEhBnyB,KAAKovE,uBAAyBpvE,KAAKqvE,mBACtCrvE,KAAKo5E,OAAO,IAAI35D,EAA6CuV,eAAe,0BAE1Eh1B,KAAK+1E,cACP/1E,KAAKm5E,gBAAgBxuD,QAAQ3qB,KAAK+1E,aAEtC,EAEF,MAAMuD,EACJ,WAAA11E,CAAY6qE,GACVzuE,KAAKy1E,KAAOhH,EAAO5/D,IACnB7O,KAAK81E,OAAQ,EACb91E,KAAK+1E,aAAe,KACpB/1E,KAAK0qB,WAAa,KAClB1qB,KAAKsuE,QAAU,EACftuE,KAAKm5E,gBAAkB,KACvBn5E,KAAK8vE,gBAAkB,IAAIrwD,EAA6C+K,kBACxE,MAAMjc,EAASkgE,EAAOlgE,OACtBvO,KAAKovE,uBAAyB7gE,EAAOyY,aACvC,CACA,wBAAI+S,GACF,OAAO/5B,KAAKovE,qBACd,CACA,UAAMv7C,GAEJ,SADM7zB,KAAK8vE,gBAAgBnnD,QACvB3oB,KAAK81E,MACP,MAAO,CACLzkE,WAAO0O,EACP+T,MAAM,GAGV,GAAI9zB,KAAK+1E,aACP,MAAM/1E,KAAK+1E,aAEb,MAAMrqD,EAAQ1rB,KAAKm5E,gBAAgBtlD,OACnC,GAAc,OAAVnI,EAEF,OADA1rB,KAAK8vE,gBAAkB,IAAIrwD,EAA6C+K,kBACjExqB,KAAK6zB,OAEd7zB,KAAKsuE,SAAW5iD,EAAMrgB,OACtBrL,KAAK0qB,aAAa,CAChBkB,OAAQ5rB,KAAKsuE,UAGf,MAAO,CACLj9D,MAFa,IAAIyT,WAAW4G,GAAO1G,OAGnC8O,MAAM,EAEV,CACA,MAAAM,CAAOjC,GACAnyB,KAAKm5E,gBAIVn5E,KAAKm5E,gBAAgBxuD,QAAQwH,GAH3BnyB,KAAKo5E,OAAOjnD,EAIhB,CACA,MAAAinD,CAAOjnD,GACLnyB,KAAK+1E,aAAe5jD,EACpBnyB,KAAK8vE,gBAAgB1mD,SACvB,CACA,kBAAAiwD,CAAmB7lD,GACjBxzB,KAAKm5E,gBAAkB3lD,EACvBA,EAAemD,GAAG,YAAY,KAC5B32B,KAAK8vE,gBAAgB1mD,SAAS,IAEhCoK,EAAemD,GAAG,OAAO,KACvBnD,EAAe7I,UACf3qB,KAAK81E,OAAQ,EACb91E,KAAK8vE,gBAAgB1mD,SAAS,IAEhCoK,EAAemD,GAAG,SAASxE,IACzBnyB,KAAKo5E,OAAOjnD,EAAO,IAEjBnyB,KAAK+1E,cACP/1E,KAAKm5E,gBAAgBxuD,QAAQ3qB,KAAK+1E,aAEtC,EAEF,SAASwD,EAAqBb,EAAWjL,GACvC,MAAO,CACLlgB,SAAUmrB,EAAUnrB,SACpBisB,KAAMd,EAAUc,KAChBb,KAAMD,EAAUe,SAChBxxD,KAAMywD,EAAUzwD,KAChBi1B,KAAMw7B,EAAUx7B,KAChBywB,OAAQ,MACRF,UAEJ,CACA,MAAMsL,UAAgCG,EACpC,WAAAt1E,CAAY6qE,GACVhgE,MAAMggE,GACN,MAAMiL,EAAiB9uB,IACrB,GAA4B,MAAxBA,EAAS+uB,WAAoB,CAC/B,MAAM7nD,EAAQ,IAAIrS,EAA6Cgb,oBAAoB,gBAAgBz6B,KAAKy1E,UAGxG,OAFAz1E,KAAK+1E,aAAejkD,OACpB9xB,KAAK+uE,mBAAmBzkD,OAAOwH,EAEjC,CACA9xB,KAAK+uE,mBAAmB3lD,UACxBppB,KAAKq5E,mBAAmBzuB,GACxB,MAAM6kB,EAAoBnlE,GACjBtK,KAAKm5E,gBAAgB1L,QAAQnjE,EAAKsH,gBAErC,mBACJ89D,EAAkB,gBAClBC,IACE,EAAGpC,EAA+CqC,kCAAkC,CACtFH,oBACAvB,OAAQO,EAAOP,OACf1oD,eAAgBxlB,KAAKivE,gBACrBloD,aAAc/mB,KAAKgvE,gBAErBhvE,KAAKqvE,kBAAoBK,EACzB1vE,KAAK8uE,eAAiBa,GAAmB3vE,KAAK8uE,eAC9C9uE,KAAK4uE,WAAY,EAAGrB,EAA+CsC,2BAA2BJ,EAAkB,EAElHzvE,KAAK45E,SAAW,KACW,UAAvB55E,KAAKy1E,KAAKloB,SACZvtD,KAAK45E,SAAWtB,EAAKrtB,QAAQsuB,EAAqBv5E,KAAKy1E,KAAMhH,EAAOrpD,aAAcs0D,GAElF15E,KAAK45E,SAAWrB,EAAMttB,QAAQsuB,EAAqBv5E,KAAKy1E,KAAMhH,EAAOrpD,aAAcs0D,GAErF15E,KAAK45E,SAASjjD,GAAG,SAASxE,IACxBnyB,KAAK+1E,aAAe5jD,EACpBnyB,KAAK+uE,mBAAmBzkD,OAAO6H,EAAO,IAExCnyB,KAAK45E,SAAS1tD,KAChB,EAEF,MAAM+sD,UAAiCK,EACrC,WAAA11E,CAAY6qE,EAAQrlB,EAAOl9B,GACzBzd,MAAMggE,GACNzuE,KAAK65E,aAAe,CAAC,EACrB,IAAK,MAAM3pC,KAAYu+B,EAAOrpD,YAAa,CACzC,MAAM/T,EAAQo9D,EAAOrpD,YAAY8qB,QACnBnwB,IAAV1O,IAGJrR,KAAK65E,aAAa3pC,GAAY7+B,EAChC,CACArR,KAAK65E,aAAaC,MAAQ,SAAS1wB,KAASl9B,EAAM,IAClD,MAAMwtD,EAAiB9uB,IACrB,GAA4B,MAAxBA,EAAS+uB,WAKb35E,KAAKq5E,mBAAmBzuB,OALxB,CACE,MAAM94B,EAAQ,IAAIrS,EAA6Cgb,oBAAoB,gBAAgBz6B,KAAKy1E,UACxGz1E,KAAK+1E,aAAejkD,CAEtB,CACiC,EAEnC9xB,KAAK45E,SAAW,KACW,UAAvB55E,KAAKy1E,KAAKloB,SACZvtD,KAAK45E,SAAWtB,EAAKrtB,QAAQsuB,EAAqBv5E,KAAKy1E,KAAMz1E,KAAK65E,cAAeH,GAEjF15E,KAAK45E,SAAWrB,EAAMttB,QAAQsuB,EAAqBv5E,KAAKy1E,KAAMz1E,KAAK65E,cAAeH,GAEpF15E,KAAK45E,SAASjjD,GAAG,SAASxE,IACxBnyB,KAAK+1E,aAAe5jD,CAAM,IAE5BnyB,KAAK45E,SAAS1tD,KAChB,EAEF,MAAM4sD,UAAkCI,EACtC,WAAAt1E,CAAY6qE,GACVhgE,MAAMggE,GACN,IAAIvxB,EAAO+P,mBAAmBjtD,KAAKy1E,KAAKv4B,MACpCs7B,EAAaz6D,KAAK/d,KAAKy1E,KAAK9lE,QAC9ButC,EAAOA,EAAKyW,QAAQ,MAAO,KAE7B0kB,EAAG0B,MAAM78B,GAAM,CAACprB,EAAOkoD,KACrB,GAAIloD,EAMF,MALmB,WAAfA,EAAMyI,OACRzI,EAAQ,IAAIrS,EAA6Cgb,oBAAoB,gBAAgByiB,QAE/Fl9C,KAAK+1E,aAAejkD,OACpB9xB,KAAK+uE,mBAAmBzkD,OAAOwH,GAGjC9xB,KAAK8uE,eAAiBkL,EAAK/hE,KAC3BjY,KAAKq5E,mBAAmBhB,EAAG4B,iBAAiB/8B,IAC5Cl9C,KAAK+uE,mBAAmB3lD,SAAS,GAErC,EAEF,MAAM4vD,UAAmCM,EACvC,WAAA11E,CAAY6qE,EAAQrlB,EAAOl9B,GACzBzd,MAAMggE,GACN,IAAIvxB,EAAO+P,mBAAmBjtD,KAAKy1E,KAAKv4B,MACpCs7B,EAAaz6D,KAAK/d,KAAKy1E,KAAK9lE,QAC9ButC,EAAOA,EAAKyW,QAAQ,MAAO,KAE7B3zD,KAAKq5E,mBAAmBhB,EAAG4B,iBAAiB/8B,EAAM,CAChDkM,QACAl9B,IAAKA,EAAM,IAEf,EAGFrK,GACA,CAAE,MAAMlH,GAAKkH,EAAyBlH,EAAI,IAAK,EAExC,EAED,IACA,CAAE8G,EAAoB,EAAqB,KAEjD,EAAoBC,EAAED,GAAoBE,MAAOC,EAAuCC,KAA+B,IAClG,EAAoB1kB,EAAE,EAAqB,CACzCwmB,sBAAuB,IAAM,EAC7BH,kBAAmB,IAAM,EACzBM,kBAAmB,IAAM,EACzBG,4BAA6B,IAAM,IAErC,IAAI8jC,EAAgD,EAAoB,KAK7F,IAAIswB,EAAIn5D,EAAQg7D,EAChB,GALwE,EAAoB,KAK3C32D,SAAU,CACzD80D,QAAW5gD,OAAiC,MAC5C,IACEvY,QAAeuY,OAAiC,SAClD,CAAE,MAAO,CACT,IACEyiD,QAAwBziD,OAAiC,kBAC3D,CAAE,MAAO,CACX,CAEA,MAAMizB,EAAY,SAAU77C,GAC1B,OAAO,IAAIsa,SAAQ,CAACC,EAASkB,KAC3B+tD,EAAG8B,SAAStrE,GAAK,CAACijB,EAAOhxB,MACnBgxB,GAAUhxB,EAIdsoB,EAAQ,IAAItE,WAAWhkB,IAHrBwpB,EAAO,IAAIjG,MAAMyN,GAGU,GAC7B,GAEN,EACA,MAAMhO,UAA0BikC,EAA8C3pB,mBAC9E,MAAM5a,UAA0BukC,EAA8C5pB,kBAC5E,aAAAW,CAAcr+B,EAAOC,GACnB,OAAOwe,EAAOk7D,aAAa35E,EAAOC,EACpC,EAEF,MAAMijB,UAA8BokC,EAA8C7pB,sBAChF,UAAAoB,CAAWzwB,EAAKqwB,GACd,OAAOwrB,EAAU77C,GAAKqU,MAAKpiB,IAClB,CACL0qD,SAAU1qD,EACVo+B,qBAGN,EAEF,MAAMjb,UAAoC8jC,EAA8CzpB,4BACtF,UAAAgB,CAAWzwB,GACT,OAAO67C,EAAU77C,EACnB,EAGFgT,GACA,CAAE,MAAMlH,GAAKkH,EAAyBlH,EAAI,IAAK,EAExC,EAED,IACA,CAAEzd,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzC6+B,sBAAuB,IAAM,IAE/B,IAAIvc,EAA+C,EAAoB,KACnE46D,EAAsD,EAAoB,KAGnG,MAAMC,EAAWC,OAAO,YACxB,MAAMC,EACJ,KAAW,EACX,WAAA52E,CAAY0G,EAAMuR,GAChB7b,KAAKsK,KAAOA,EACZtK,KAAK6b,OAASA,CAChB,CACA,WAAIyqC,GACF,OAAOtmD,MAAK,EACd,CACA,WAAAy6E,CAAYC,EAAUp0B,GAChBo0B,IAAaJ,IACf,EAAG76D,EAA6C/S,aAAa,yCAE/D1M,MAAK,GAAWsmD,CAClB,EAEF,MAAMtqB,EACJ,IAAiB,KACjB,IAAU,IAAI3rB,IACd,IAAe,KACf,IAAS,KACT,WAAAzM,CAAY9C,GAGV,GAFAd,KAAKsK,KAAO,KACZtK,KAAK26E,QAAU,KACF,OAAT75E,EAAJ,CAGAd,KAAKsK,KAAOxJ,EAAKwJ,KACjBtK,KAAK26E,QAAU75E,EAAK65E,QACpB36E,MAAK,GAASc,EAAK85E,MACnB,IAAK,MAAMx3B,KAAStiD,EAAK+5E,OACvB76E,MAAK,GAAQ+e,IAAIqkC,EAAM19C,GAAI,IAAI80E,EAAqBp3B,EAAM94C,KAAM84C,EAAMvnC,SAExE,GAAuB,QAAnB/a,EAAKg6E,UACP,IAAK,MAAM13B,KAASpjD,MAAK,GAAQgR,SAC/BoyC,EAAMq3B,YAAYH,GAAU,GAGhC,IAAK,MAAM3jD,KAAM71B,EAAK61B,GACpB32B,MAAK,GAAQsQ,IAAIqmB,GAAI8jD,YAAYH,GAAU,GAE7C,IAAK,MAAMS,KAAOj6E,EAAKi6E,IACrB/6E,MAAK,GAAQsQ,IAAIyqE,GAAKN,YAAYH,GAAU,GAE9Ct6E,MAAK,GAAeA,KAAKg7E,SAlBzB,CAmBF,CACA,IAA8BC,GAC5B,MAAM5vE,EAAS4vE,EAAM5vE,OACrB,GAAIA,EAAS,EACX,OAAO,EAET,MAAM6vE,EAAWD,EAAM,GACvB,IAAK,IAAI1+D,EAAI,EAAGA,EAAIlR,EAAQkR,IAAK,CAC/B,MAAM5R,EAAUswE,EAAM1+D,GACtB,IAAI4+D,EACJ,GAAIttE,MAAMC,QAAQnD,GAChBwwE,EAAQn7E,MAAK,GAA8B2K,OACtC,KAAI3K,MAAK,GAAQmN,IAAIxC,GAI1B,OADA,EAAG8U,EAA6ChY,MAAM,qCAAqCkD,MACpF,EAHPwwE,EAAQn7E,MAAK,GAAQsQ,IAAI3F,GAAS27C,OAIpC,CACA,OAAQ40B,GACN,IAAK,MACH,IAAKC,EACH,OAAO,EAET,MACF,IAAK,KACH,GAAIA,EACF,OAAO,EAET,MACF,IAAK,MACH,OAAQA,EACV,QACE,OAAO,EAEb,CACA,MAAoB,QAAbD,CACT,CACA,SAAAt+D,CAAUwmC,GACR,GAA0B,IAAtBpjD,MAAK,GAAQiY,KACf,OAAO,EAET,IAAKmrC,EAEH,OADA,EAAG3jC,EAA6ChY,MAAM,wCAC/C,EAET,GAAmB,QAAf27C,EAAMhyC,KACR,OAAKpR,MAAK,GAAQmN,IAAIi2C,EAAM19C,IAIrB1F,MAAK,GAAQsQ,IAAI8yC,EAAM19C,IAAI4gD,UAHhC,EAAG7mC,EAA6ChY,MAAM,qCAAqC27C,EAAM19C,OAC1F,GAGJ,GAAmB,SAAf09C,EAAMhyC,KAAiB,CAChC,GAAIgyC,EAAMg4B,WACR,OAAOp7E,MAAK,GAA8BojD,EAAMg4B,YAElD,IAAKh4B,EAAMi4B,QAA2B,UAAjBj4B,EAAMi4B,OAAoB,CAC7C,IAAK,MAAM31E,KAAM09C,EAAM3xC,IAAK,CAC1B,IAAKzR,MAAK,GAAQmN,IAAIzH,GAEpB,OADA,EAAG+Z,EAA6ChY,MAAM,qCAAqC/B,MACpF,EAET,GAAI1F,MAAK,GAAQsQ,IAAI5K,GAAI4gD,QACvB,OAAO,CAEX,CACA,OAAO,CACT,CAAO,GAAqB,UAAjBlD,EAAMi4B,OAAoB,CACnC,IAAK,MAAM31E,KAAM09C,EAAM3xC,IAAK,CAC1B,IAAKzR,MAAK,GAAQmN,IAAIzH,GAEpB,OADA,EAAG+Z,EAA6ChY,MAAM,qCAAqC/B,MACpF,EAET,IAAK1F,MAAK,GAAQsQ,IAAI5K,GAAI4gD,QACxB,OAAO,CAEX,CACA,OAAO,CACT,CAAO,GAAqB,WAAjBlD,EAAMi4B,OAAqB,CACpC,IAAK,MAAM31E,KAAM09C,EAAM3xC,IAAK,CAC1B,IAAKzR,MAAK,GAAQmN,IAAIzH,GAEpB,OADA,EAAG+Z,EAA6ChY,MAAM,qCAAqC/B,MACpF,EAET,IAAK1F,MAAK,GAAQsQ,IAAI5K,GAAI4gD,QACxB,OAAO,CAEX,CACA,OAAO,CACT,CAAO,GAAqB,WAAjBlD,EAAMi4B,OAAqB,CACpC,IAAK,MAAM31E,KAAM09C,EAAM3xC,IAAK,CAC1B,IAAKzR,MAAK,GAAQmN,IAAIzH,GAEpB,OADA,EAAG+Z,EAA6ChY,MAAM,qCAAqC/B,MACpF,EAET,GAAI1F,MAAK,GAAQsQ,IAAI5K,GAAI4gD,QACvB,OAAO,CAEX,CACA,OAAO,CACT,CAEA,OADA,EAAG7mC,EAA6ChY,MAAM,mCAAmC27C,EAAMi4B,YACxF,CACT,CAEA,OADA,EAAG57D,EAA6ChY,MAAM,sBAAsB27C,EAAMhyC,UAC3E,CACT,CACA,aAAAkqE,CAAc51E,EAAI4gD,GAAU,GACrBtmD,MAAK,GAAQmN,IAAIzH,IAItB1F,MAAK,GAAQsQ,IAAI5K,GAAI+0E,YAAYH,IAAYh0B,GAC7CtmD,MAAK,GAAiB,OAJpB,EAAGyf,EAA6ChY,MAAM,qCAAqC/B,IAK/F,CACA,wBAAI61E,GACF,OAA6B,OAAtBv7E,MAAK,IAAyBA,KAAKg7E,YAAch7E,MAAK,EAC/D,CACA,QAAAw7E,GACE,OAAKx7E,MAAK,GAAQiY,KAGdjY,MAAK,GACAA,MAAK,GAAOC,QAEd,IAAID,MAAK,GAAQwK,QALf,IAMX,CACA,SAAAixE,GACE,OAAOz7E,MAAK,GAAQiY,KAAO,GAAI,EAAGwH,EAA6CoB,eAAe7gB,MAAK,IAAW,IAChH,CACA,QAAA07E,CAASh2E,GACP,OAAO1F,MAAK,GAAQsQ,IAAI5K,IAAO,IACjC,CACA,OAAAs1E,GACE,GAA4B,OAAxBh7E,MAAK,GACP,OAAOA,MAAK,GAEd,MAAM6f,EAAO,IAAIw6D,EAAoDr5D,eACrE,IAAK,MAAOtb,EAAI09C,KAAUpjD,MAAK,GAC7B6f,EAAKZ,OAAO,GAAGvZ,KAAM09C,EAAMkD,WAE7B,OAAOtmD,MAAK,GAAiB6f,EAAKyB,WACpC,EAIK,EAED,IACA,CAAEpkB,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzCw+E,gBAAiB,IAAM,EACvBC,gBAAiB,IAAM,IAGzB,IAAIn8D,EAA+C,EAAoB,KACnEmoD,EAAiD,EAAoB,KAG9F,MACMiU,EAAoB,GACpBC,EAAsB,GACtBC,EAAc,IAAI1rE,IACxB,SAAS2rE,EAAO/jE,EAAMuO,GACpB,IAAImZ,EACJ,GAAInZ,GAA8B/G,EAA6CrN,YAAYoU,2BACzFmZ,EAAM,IAAI89B,gBAAgBxlD,EAAMA,GAAM8mB,WAAW,KAAM,CACrDkS,OAAO,QAEJ,CACL,MAAM/xB,EAAS3Z,SAASC,cAAc,UACtC0Z,EAAOze,MAAQye,EAAOxe,OAASuX,EAC/B0nB,EAAMzgB,EAAO6f,WAAW,KAAM,CAC5BkS,OAAO,GAEX,CACA,OAAOtR,CACT,CA+CA,SAASs8C,EAAW13D,EAAM23D,EAAMvoD,GAC9B,MAAMwoD,EAAU52E,SAASC,cAAc,QACjC42E,EAAoB,CACxBp0E,MAAO,EACP+7C,YAAa,EACbs4B,QAAsB,KAAbH,EAAK/2E,IACdm3E,OAAQJ,EAAKI,OACbvoE,SAAU,GAEZwQ,EAAKg4D,UAAUtwE,KAAKkwE,GACpB,MAAMtxC,EAAKprB,EAA6C/Y,KAAKgqB,UAAUnM,EAAKi4D,WAAYN,EAAKxrD,WAC7F,IAAI1oB,EAAQnK,KAAK4+E,MAAM5xC,EAAG,GAAIA,EAAG,IACjC,MAAMjlC,EAAQ+tB,EAAOuoD,EAAKQ,UACtB92E,EAAMk6C,WACR93C,GAASnK,KAAK8+E,GAAK,GAErB,MAAMnK,EAAajuD,EAAKq4D,uBAAyBh3E,EAAMi3E,kBAAoBj3E,EAAM4sE,WAC3EsK,EAAaj/E,KAAK4tC,MAAMZ,EAAG,GAAIA,EAAG,IAClCkyC,EAAaD,EAhErB,SAAmBtK,EAAYhsD,GAC7B,MAAMw2D,EAAejB,EAAYzrE,IAAIkiE,GACrC,GAAIwK,EACF,OAAOA,EAET,MAAMr9C,EAAMq8C,EAAOH,EAAmBr1D,GACtCmZ,EAAItE,KAAO,GAAGwgD,OAAuBrJ,IACrC,MAAMyK,EAAUt9C,EAAIwhB,YAAY,IAChC,IAAI+7B,EAASD,EAAQE,sBACjBC,EAAUv/E,KAAKuW,IAAI6oE,EAAQI,wBAC/B,GAAIH,EAAQ,CACV,MAAMI,EAAQJ,GAAUA,EAASE,GAGjC,OAFArB,EAAYh9D,IAAIyzD,EAAY8K,GAC5B39C,EAAIzgB,OAAOze,MAAQk/B,EAAIzgB,OAAOxe,OAAS,EAChC48E,CACT,CACA39C,EAAIkJ,YAAc,MAClBlJ,EAAImC,UAAU,EAAG,EAAG+5C,EAAmBA,GACvCl8C,EAAI6f,WAAW,IAAK,EAAG,GACvB,IAAI+9B,EAAS59C,EAAI+S,aAAa,EAAG,EAAGmpC,EAAmBA,GAAmB/6E,KAC1Es8E,EAAU,EACV,IAAK,IAAI7gE,EAAIghE,EAAOlyE,OAAS,EAAI,EAAGkR,GAAK,EAAGA,GAAK,EAC/C,GAAIghE,EAAOhhE,GAAK,EAAG,CACjB6gE,EAAUv/E,KAAK4jC,KAAKllB,EAAI,EAAIs/D,GAC5B,KACF,CAEFl8C,EAAImC,UAAU,EAAG,EAAG+5C,EAAmBA,GACvCl8C,EAAI6f,WAAW,IAAK,EAAGq8B,GACvB0B,EAAS59C,EAAI+S,aAAa,EAAG,EAAGmpC,EAAmBA,GAAmB/6E,KACtEo8E,EAAS,EACT,IAAK,IAAI3gE,EAAI,EAAGC,EAAK+gE,EAAOlyE,OAAQkR,EAAIC,EAAID,GAAK,EAC/C,GAAIghE,EAAOhhE,GAAK,EAAG,CACjB2gE,EAASrB,EAAoBh+E,KAAKC,MAAMye,EAAI,EAAIs/D,GAChD,KACF,CAGF,GADAl8C,EAAIzgB,OAAOze,MAAQk/B,EAAIzgB,OAAOxe,OAAS,EACnCw8E,EAAQ,CACV,MAAMI,EAAQJ,GAAUA,EAASE,GAEjC,OADArB,EAAYh9D,IAAIyzD,EAAY8K,GACrBA,CACT,CAEA,OADAvB,EAAYh9D,IAAIyzD,EAAYsJ,GACrBA,CACT,CAmBkC0B,CAAUhL,EAAYjuD,EAAKk5D,6BAC3D,IAAI31E,EAAMC,EACI,IAAVC,GACFF,EAAO+iC,EAAG,GACV9iC,EAAM8iC,EAAG,GAAKkyC,IAEdj1E,EAAO+iC,EAAG,GAAKkyC,EAAal/E,KAAK6/E,IAAI11E,GACrCD,EAAM8iC,EAAG,GAAKkyC,EAAal/E,KAAK8/E,IAAI31E,IAEtC,MAAM41E,EAAiB,4BACjBC,EAAW1B,EAAQv2E,MACrB2e,EAAKu5D,aAAev5D,EAAKw5D,gBAC3BF,EAAS/1E,KAAO,IAAI,IAAMA,EAAOyc,EAAKy5D,YAAY1a,QAAQ,MAC1Dua,EAAS91E,IAAM,IAAI,IAAMA,EAAMwc,EAAK05D,aAAa3a,QAAQ,QAEzDua,EAAS/1E,KAAO,GAAG81E,IAAiB91E,EAAKw7D,QAAQ,QACjDua,EAAS91E,IAAM,GAAG61E,IAAiB71E,EAAIu7D,QAAQ,SAEjDua,EAAS9pE,SAAW,GAAG6pE,IAAiBd,EAAWxZ,QAAQ,QAC3Dua,EAASrL,WAAaA,EACtB4J,EAAkBroE,SAAW+oE,EAC7BX,EAAQ12E,aAAa,OAAQ,gBAC7B02E,EAAQjnE,YAAcgnE,EAAK/2E,IAC3Bg3E,EAAQhhE,IAAM+gE,EAAK/gE,IACfoJ,EAAKq4D,wBACPT,EAAQ+B,QAAQxB,SAAW92E,EAAMu4E,4BAA8BjC,EAAKQ,UAExD,IAAV10E,IACFo0E,EAAkBp0E,MAAQA,GAAS,IAAMnK,KAAK8+E,KAEhD,IAAIyB,GAAkB,EACtB,GAAIlC,EAAK/2E,IAAIkG,OAAS,EACpB+yE,GAAkB,OACb,GAAiB,MAAblC,EAAK/2E,KAAe+2E,EAAKxrD,UAAU,KAAOwrD,EAAKxrD,UAAU,GAAI,CACtE,MAAM2tD,EAAYxgF,KAAKuW,IAAI8nE,EAAKxrD,UAAU,IACxC4tD,EAAYzgF,KAAKuW,IAAI8nE,EAAKxrD,UAAU,IAClC2tD,IAAcC,GAAazgF,KAAKE,IAAIsgF,EAAWC,GAAazgF,KAAKG,IAAIqgF,EAAWC,GAAa,MAC/FF,GAAkB,EAEtB,CACIA,IACFhC,EAAkBr4B,YAAcn+C,EAAMk6C,SAAWo8B,EAAKx7E,OAASw7E,EAAKz7E,OAEtE8jB,EAAKg6D,mBAAmBx/D,IAAIo9D,EAASC,GACjC73D,EAAKi6D,mBACPj6D,EAAKk6D,YAAYtC,EAErB,CACA,SAASuC,EAAOpgE,GACd,MAAM,IACJ9R,EAAG,MACHkjB,EAAK,WACLugB,EAAU,IACVtQ,EAAG,aACHg/C,EAAY,eACZC,GACEtgE,GACE,MACJ1Y,GACE4G,EACJ,IAAIkkB,EAAY,GAChB,GAA+B,IAA3Buf,EAAW8T,aAAqB9T,EAAWosC,QAAS,CACtD,MAAM,WACJ7J,GACE5sE,GACE,YACJm+C,EAAW,SACXhwC,GACEk8B,EACA0uC,IAAiB5qE,GAAY6qE,IAAmBpM,IAClD7yC,EAAItE,KAAO,GAAGtnB,EAAW2b,OAAW8iD,IACpCl0D,EAAOqgE,aAAe5qE,EACtBuK,EAAOsgE,eAAiBpM,GAE1B,MAAM,MACJ/xE,GACEk/B,EAAIwhB,YAAY30C,EAAI0I,aACpBzU,EAAQ,IACViwB,EAAY,UAAUqzB,EAAcr0B,EAAQjvB,KAEhD,CACyB,IAArBwvC,EAAWjoC,QACb0oB,EAAY,UAAUuf,EAAWjoC,aAAa0oB,KAE5CA,EAAUrlB,OAAS,IACrBzF,EAAM8qB,UAAYA,EAEtB,CAmBA,MAAMmuD,EACJ,WAAAj7E,EAAY,kBACVk7E,EAAiB,UACjBl6E,EAAS,SACTU,EAAQ,SACRy5E,EAAQ,kBACR3C,EAAiB,oBACjB4C,EAAmB,2BACnBx4D,IAEAxmB,KAAKi/E,mBAAqBH,EAC1B9+E,KAAKw+E,kBAAoBM,aAA6BI,eACtDl/E,KAAK89E,WAAa99E,KAAK+9E,eAAiBn5E,EACxC5E,KAAKu8E,UAAYwC,GAAY,GAC7B/+E,KAAKm/E,qBAAuBH,GAAuB,GACnDh/E,KAAKy9E,4BAA8Bj3D,EACnCxmB,KAAK48E,wBAA0B91D,WAAWqU,eAAeC,QACzDp7B,KAAK2uE,QAAU,KACf3uE,KAAKu+E,mBAAqBnC,GAAqB,IAAI5lD,QACnDx2B,KAAKo/E,WAAY,EACjBp/E,KAAKqqB,YAAc,IAAI5K,EAA6C+K,kBACpExqB,KAAKq/E,kBAAoB,CACvBV,aAAc,KACdC,eAAgB,KAChBpyE,IAAK,KACLkjB,MAAOpqB,EAASoqB,OAAS5I,WAAWmsB,kBAAoB,GACxDhD,WAAY,KACZtQ,IAAKq8C,EAAO,EAAGx1D,IAEjB,MAAM,UACJtgB,EAAS,WACTC,EAAU,MACVC,EAAK,MACLC,GACEf,EAASgB,QACbtG,KAAKw8E,WAAa,CAAC,EAAG,EAAG,GAAI,GAAIp2E,EAAOC,EAAQF,GAChDnG,KAAKg+E,WAAa93E,EAClBlG,KAAKi+E,YAAc93E,GACnB,EAAGyhE,EAA+CppD,oBAAoB5Z,EAAWU,GACjFtF,KAAKqqB,YAAY1B,QAAQ6S,SAAQ,KAC/Bx7B,KAAKq/E,kBAAoB,IAAI,IAC5Bj1D,OAAM,QACX,CACA,WAAIzB,GACF,OAAO3oB,KAAKqqB,YAAY1B,OAC1B,CACA,MAAAyL,GACEp0B,KAAKo/E,WAAY,EACbp/E,KAAK2uE,UACP3uE,KAAK2uE,QAAQv6C,OAAO,IAAI3U,EAA6CuV,eAAe,8BAA8B5K,OAAM,SACxHpqB,KAAK2uE,QAAU,MAEjB3uE,KAAKqqB,YAAYC,OAAO,IAAI7K,EAA6CuV,eAAe,6BAC1F,CACA,aAAAsqD,CAAc/lE,EAAOgmE,GACnB,IAAK,MAAM1lE,KAAQN,EACjB,QAAiBwG,IAAblG,EAAK1U,IAcTnF,KAAKm/E,qBAAqBlzE,KAAK4N,EAAK1U,KACpC82E,EAAWj8E,KAAM6Z,EAAM0lE,QAdrB,GAAkB,4BAAd1lE,EAAKzI,MAAoD,uBAAdyI,EAAKzI,KAA+B,CACjF,MAAMzM,EAAS3E,KAAK89E,WACpB99E,KAAK89E,WAAav4E,SAASC,cAAc,QACzCxF,KAAK89E,WAAW93E,UAAUC,IAAI,iBACd,OAAZ4T,EAAKnU,IACP1F,KAAK89E,WAAWr4E,aAAa,KAAM,GAAGoU,EAAKnU,MAE7Cf,EAAOkH,OAAO7L,KAAK89E,WACrB,KAAyB,qBAAdjkE,EAAKzI,OACdpR,KAAK89E,WAAa99E,KAAK89E,WAAW/zB,WAO1C,CACA,WAAA00B,CAAYtC,GACV,MAAMC,EAAoBp8E,KAAKq/E,kBAAkBpvC,WAAajwC,KAAKu+E,mBAAmBjuE,IAAI6rE,GAM1F,GALAn8E,KAAKq/E,kBAAkB7yE,IAAM2vE,EAC7BuC,EAAO1+E,KAAKq/E,mBACRjD,EAAkBC,SACpBr8E,KAAK89E,WAAWjyE,OAAOswE,GAErBC,EAAkBE,OAAQ,CAC5B,MAAMkD,EAAKj6E,SAASC,cAAc,MAClCg6E,EAAG/5E,aAAa,OAAQ,gBACxBzF,KAAK89E,WAAWjyE,OAAO2zE,EACzB,CACF,CACA,OAAAC,GACE,MAAMxtD,EAAa,IAAIxS,EAA6C+K,kBACpE,IAAI+0D,EAAah1E,OAAO3J,OAAO,MAC/B,GAAIZ,KAAKw+E,kBAAmB,CAC1B,MAAM5qD,EAAO,KACX5zB,KAAK2uE,QAAQ96C,OAAO3Q,MAAK,EACvB7R,QACAyiB,WAEIA,EACF7B,EAAW7I,WAGb7e,OAAO4V,OAAOo/D,EAAYluE,EAAMsiB,QAChC3zB,KAAKs/E,cAAcjuE,EAAMkI,MAAOgmE,GAChC3rD,IAAM,GACL3B,EAAW3H,OAAO,EAEvBtqB,KAAK2uE,QAAU3uE,KAAKi/E,mBAAmBvrD,YACvCE,GACF,KAAO,KAAI5zB,KAAKi/E,mBAQd,MAAM,IAAI56D,MAAM,+CARkB,CAClC,MAAM,MACJ9K,EAAK,OACLoa,GACE3zB,KAAKi/E,mBACTj/E,KAAKs/E,cAAc/lE,EAAOoa,GAC1B1B,EAAW7I,SACb,CAEA,CACA6I,EAAWtJ,QAAQzF,MAAK,KACtBq8D,EAAa,KAxInB,SAAgBh7D,GACd,GAAIA,EAAK66D,UACP,OAEF,MAAML,EAAWx6D,EAAKg4D,UAChBtqD,EAAa1N,EAAK8F,YAExB,GADuB00D,EAAS1zE,OAjLF,IAmL5B4mB,EAAW7I,cADb,CAIA,IAAK7E,EAAKi6D,kBACR,IAAK,MAAMrC,KAAW4C,EACpBx6D,EAAKk6D,YAAYtC,GAGrBlqD,EAAW7I,SANX,CAOF,CAwHM3c,CAAOzM,KAAK,GACXA,KAAKqqB,YAAYC,OACtB,EAEF,SAASqxD,EAAgBr9D,GACvB,MAAMiG,EAAO,IAAIs6D,EAAoBvgE,GAErC,OADAiG,EAAKk7D,UACEl7D,CACT,CACA,SAASq3D,GAAgB,UACvBh3E,EAAS,SACTU,EAAQ,SACRy5E,EAAQ,kBACR3C,EAAiB,2BACjB51D,EAA0B,WAC1BqoC,GAAa,EAAI,YACjB6wB,GAAc,IAOd,GALI7wB,IACF,EAAG+Y,EAA+CppD,oBAAoB5Z,EAAW,CAC/E2B,SAAUjB,EAASiB,WAGnBm5E,EAAa,CACf,MAAM//C,EAAMq8C,EAAO,EAAGx1D,GAEhBlI,EAAS,CACbqgE,aAAc,KACdC,eAAgB,KAChBpyE,IAAK,KACLkjB,MALYpqB,EAASoqB,OAAS5I,WAAWmsB,kBAAoB,GAM7DhD,WAAY,KACZtQ,OAEF,IAAK,MAAMnzB,KAAOuyE,EAChBzgE,EAAO2xB,WAAamsC,EAAkB9rE,IAAI9D,GAC1C8R,EAAO9R,IAAMA,EACbkyE,EAAOpgE,EAEX,CACF,CAGO,EAED,GACA,CAAEphB,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzCmsB,uBAAwB,IAAM,IAEhC,IAAI7J,EAA+C,EAAoB,KACnEmoD,EAAiD,EAAoB,KAG9F,MAAMt+C,EACJ,WAAA1lB,EAAY,OACVyH,EAAM,YACNke,EAAW,gBACXC,GAAkB,EAAK,2BACvBC,EAA6B,KAAI,aACjC1C,GAAe,EAAK,cACpBC,GAAgB,GACf24D,GAKD,IAJA,EAAGlgE,EAA6C0Z,QAAQwmD,EAAuB,+EAC/E3/E,KAAK4/E,cAAgB,GACrB5/E,KAAK6/E,iBAAmBr2D,EACxBxpB,KAAK8/E,4BAA8Br2D,EAC/BF,GAAale,OAAS,EAAG,CAC3B,MAAM2Z,EAASuE,aAAuBzE,YAAcyE,EAAYxE,aAAewE,EAAYvE,OAAOD,WAAawE,EAAYvE,OAAS,IAAIF,WAAWyE,GAAavE,OAChKhlB,KAAK4/E,cAAc3zE,KAAK+Y,EAC1B,CACAhlB,KAAK+/E,uBAAyBJ,EAC9B3/E,KAAKovE,uBAAyBpoD,EAC9BhnB,KAAKqvE,mBAAqBtoD,EAC1B/mB,KAAK8uE,eAAiBzjE,EACtBrL,KAAKmuE,mBAAqB,KAC1BnuE,KAAKggF,cAAgB,GACrBhgF,KAAK+/E,uBAAuB50D,kBAAiB,CAACM,EAAOC,KACnD1rB,KAAKigF,eAAe,CAClBx0D,QACAC,SACA,IAEJ1rB,KAAK+/E,uBAAuB10D,qBAAoB,CAACO,EAAQC,KACvD7rB,KAAKw1E,YAAY,CACf5pD,SACAC,SACA,IAEJ7rB,KAAK+/E,uBAAuBz0D,4BAA2BI,IACrD1rB,KAAKigF,eAAe,CAClBv0D,SACA,IAEJ1rB,KAAK+/E,uBAAuBx0D,4BAA2B,KACrDvrB,KAAKkgF,oBAAoB,IAE3BlgF,KAAK+/E,uBAAuB/zD,gBAC9B,CACA,cAAAi0D,EAAe,MACbx0D,EAAK,MACLC,IAEA,MAAM1G,EAAS0G,aAAiB5G,YAAc4G,EAAM3G,aAAe2G,EAAM1G,OAAOD,WAAa2G,EAAM1G,OAAS,IAAIF,WAAW4G,GAAO1G,OAClI,QAAcjF,IAAV0L,EACEzrB,KAAKmuE,mBACPnuE,KAAKmuE,mBAAmBgS,SAASn7D,GAEjChlB,KAAK4/E,cAAc3zE,KAAK+Y,OAErB,CACL,MAAMo7D,EAAQpgF,KAAKggF,cAAczpB,MAAK,SAAUr8B,GAC9C,OAAIA,EAAYmmD,SAAW50D,IAG3ByO,EAAYimD,SAASn7D,IACd,EACT,KACA,EAAGvF,EAA6C0Z,QAAQinD,EAAO,0EACjE,CACF,CACA,0BAAI/R,GACF,OAAOruE,KAAKmuE,oBAAoBG,SAAW,CAC7C,CACA,WAAAkH,CAAYx3D,QACQ+B,IAAd/B,EAAI6N,MACN7rB,KAAKggF,cAAc,IAAIt1D,aAAa,CAClCkB,OAAQ5N,EAAI4N,SAGd5rB,KAAKmuE,oBAAoBzjD,aAAa,CACpCkB,OAAQ5N,EAAI4N,OACZC,MAAO7N,EAAI6N,OAGjB,CACA,kBAAAq0D,GACElgF,KAAKmuE,oBAAoB3kD,kBACzBxpB,KAAK6/E,kBAAmB,CAC1B,CACA,kBAAAS,CAAmB7sD,GACjB,MAAMlX,EAAIvc,KAAKggF,cAAchL,QAAQvhD,GACjClX,GAAK,GACPvc,KAAKggF,cAAc1W,OAAO/sD,EAAG,EAEjC,CACA,aAAA6c,IACE,EAAG3Z,EAA6C0Z,SAASn5B,KAAKmuE,mBAAoB,iEAClF,MAAMoS,EAAevgF,KAAK4/E,cAE1B,OADA5/E,KAAK4/E,cAAgB,KACd,IAAIY,EAA6BxgF,KAAMugF,EAAcvgF,KAAK6/E,iBAAkB7/E,KAAK8/E,4BAC1F,CACA,cAAA3lD,CAAe1O,EAAOS,GACpB,GAAIA,GAAOlsB,KAAKquE,uBACd,OAAO,KAET,MAAM56C,EAAS,IAAIgtD,EAAkCzgF,KAAMyrB,EAAOS,GAGlE,OAFAlsB,KAAK+/E,uBAAuB9zD,iBAAiBR,EAAOS,GACpDlsB,KAAKggF,cAAc/zE,KAAKwnB,GACjBA,CACT,CACA,iBAAAwF,CAAkB9G,GAChBnyB,KAAKmuE,oBAAoB/5C,OAAOjC,GAChC,IAAK,MAAMsB,KAAUzzB,KAAKggF,cAAc//E,MAAM,GAC5CwzB,EAAOW,OAAOjC,GAEhBnyB,KAAK+/E,uBAAuB5zD,OAC9B,EAEF,MAAMq0D,EACJ,WAAA58E,CAAY6qE,EAAQ8R,EAAc/2D,GAAkB,EAAOC,EAA6B,MACtFzpB,KAAK0uE,QAAUD,EACfzuE,KAAK81E,MAAQtsD,IAAmB,EAChCxpB,KAAK4uE,WAAY,EAAGhH,EAA+C/f,WAAWp+B,GAA8BA,EAA6B,KACzIzpB,KAAK4/E,cAAgBW,GAAgB,GACrCvgF,KAAKsuE,QAAU,EACf,IAAK,MAAM5iD,KAAS1rB,KAAK4/E,cACvB5/E,KAAKsuE,SAAW5iD,EAAM3G,WAExB/kB,KAAK61E,UAAY,GACjB71E,KAAK0gF,cAAgBv3D,QAAQC,UAC7BqlD,EAAON,mBAAqBnuE,KAC5BA,KAAK0qB,WAAa,IACpB,CACA,QAAAy1D,CAASz0D,GACP,IAAI1rB,KAAK81E,MAAT,CAGA,GAAI91E,KAAK61E,UAAUxqE,OAAS,EAAG,CACHrL,KAAK61E,UAAU9iE,QACvBqW,QAAQ,CACxB/X,MAAOqa,EACPoI,MAAM,GAEV,MACE9zB,KAAK4/E,cAAc3zE,KAAKyf,GAE1B1rB,KAAKsuE,SAAW5iD,EAAM3G,UAVtB,CAWF,CACA,gBAAI+U,GACF,OAAO95B,KAAK0gF,aACd,CACA,YAAIvwE,GACF,OAAOnQ,KAAK4uE,SACd,CACA,oBAAI50C,GACF,OAAOh6B,KAAK0uE,QAAQW,iBACtB,CACA,wBAAIt1C,GACF,OAAO/5B,KAAK0uE,QAAQU,qBACtB,CACA,iBAAIn1C,GACF,OAAOj6B,KAAK0uE,QAAQI,cACtB,CACA,UAAMj7C,GACJ,GAAI7zB,KAAK4/E,cAAcv0E,OAAS,EAAG,CAEjC,MAAO,CACLgG,MAFYrR,KAAK4/E,cAAc7sE,QAG/B+gB,MAAM,EAEV,CACA,GAAI9zB,KAAK81E,MACP,MAAO,CACLzkE,WAAO0O,EACP+T,MAAM,GAGV,MAAMoiD,EAAoB,IAAIz2D,EAA6C+K,kBAE3E,OADAxqB,KAAK61E,UAAU5pE,KAAKiqE,GACbA,EAAkBvtD,OAC3B,CACA,MAAAyL,CAAOjC,GACLnyB,KAAK81E,OAAQ,EACb,IAAK,MAAMI,KAAqBl2E,KAAK61E,UACnCK,EAAkB9sD,QAAQ,CACxB/X,WAAO0O,EACP+T,MAAM,IAGV9zB,KAAK61E,UAAUxqE,OAAS,CAC1B,CACA,eAAAme,GACMxpB,KAAK81E,QAGT91E,KAAK81E,OAAQ,EACf,EAEF,MAAM2K,EACJ,WAAA78E,CAAY6qE,EAAQhjD,EAAOS,GACzBlsB,KAAK0uE,QAAUD,EACfzuE,KAAKqgF,OAAS50D,EACdzrB,KAAK2gF,KAAOz0D,EACZlsB,KAAKq2E,aAAe,KACpBr2E,KAAK61E,UAAY,GACjB71E,KAAK81E,OAAQ,EACb91E,KAAK0qB,WAAa,IACpB,CACA,QAAAy1D,CAASz0D,GACP,IAAI1rB,KAAK81E,MAAT,CAGA,GAA8B,IAA1B91E,KAAK61E,UAAUxqE,OACjBrL,KAAKq2E,aAAe3qD,MACf,CACsB1rB,KAAK61E,UAAU9iE,QACvBqW,QAAQ,CACzB/X,MAAOqa,EACPoI,MAAM,IAER,IAAK,MAAMoiD,KAAqBl2E,KAAK61E,UACnCK,EAAkB9sD,QAAQ,CACxB/X,WAAO0O,EACP+T,MAAM,IAGV9zB,KAAK61E,UAAUxqE,OAAS,CAC1B,CACArL,KAAK81E,OAAQ,EACb91E,KAAK0uE,QAAQ4R,mBAAmBtgF,KAlBhC,CAmBF,CACA,wBAAI+5B,GACF,OAAO,CACT,CACA,UAAMlG,GACJ,GAAI7zB,KAAKq2E,aAAc,CACrB,MAAM3qD,EAAQ1rB,KAAKq2E,aAEnB,OADAr2E,KAAKq2E,aAAe,KACb,CACLhlE,MAAOqa,EACPoI,MAAM,EAEV,CACA,GAAI9zB,KAAK81E,MACP,MAAO,CACLzkE,WAAO0O,EACP+T,MAAM,GAGV,MAAMoiD,EAAoB,IAAIz2D,EAA6C+K,kBAE3E,OADAxqB,KAAK61E,UAAU5pE,KAAKiqE,GACbA,EAAkBvtD,OAC3B,CACA,MAAAyL,CAAOjC,GACLnyB,KAAK81E,OAAQ,EACb,IAAK,MAAMI,KAAqBl2E,KAAK61E,UACnCK,EAAkB9sD,QAAQ,CACxB/X,WAAO0O,EACP+T,MAAM,IAGV9zB,KAAK61E,UAAUxqE,OAAS,EACxBrL,KAAK0uE,QAAQ4R,mBAAmBtgF,KAClC,EAIK,EAED,IACA,CAAE9C,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzC+qB,oBAAqB,IAAM,IAElD,MAAMA,EAAsB3d,OAAO3J,OAAO,MAC1CsnB,EAAoBC,WAAa,KACjCD,EAAoByN,UAAY,EAGzB,EAED,IACA,CAAEz4B,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzCue,SAAU,IAAM,IAElB,IAAIklE,EAA4C,EAAoB,KAEzF,MAAMllE,EACJ,mBAAOmlE,CAAajlE,EAAMlW,EAAIiF,EAASuG,EAAS2K,GAC9C,MAAMjR,EAAasG,EAAQ+D,SAASvP,EAAI,CACtC2L,MAAO,OAET,OAAQ1G,EAAQL,MACd,IAAK,WAIH,GAHyB,OAArBM,EAAWyG,QACbuK,EAAK1G,YAActK,EAAWyG,OAEjB,UAAXwK,EACF,MAEFD,EAAKxN,iBAAiB,SAAS7F,IAC7B2I,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO9I,EAAMI,OAAO0I,OACpB,IAEJ,MACF,IAAK,QACH,GAAgC,UAA5B1G,EAAQ4jD,WAAWn9C,MAAgD,aAA5BzG,EAAQ4jD,WAAWn9C,KAAqB,CAMjF,GALIxG,EAAWyG,QAAU1G,EAAQ4jD,WAAWuyB,MAC1CllE,EAAKnW,aAAa,WAAW,GACpBmF,EAAWyG,QAAU1G,EAAQ4jD,WAAWwyB,QACjDnlE,EAAKlH,gBAAgB,WAER,UAAXmH,EACF,MAEFD,EAAKxN,iBAAiB,UAAU7F,IAC9B2I,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO9I,EAAMI,OAAO2O,QAAU/O,EAAMI,OAAO0E,aAAa,SAAW9E,EAAMI,OAAO0E,aAAa,WAC7F,GAEN,KAAO,CAIL,GAHyB,OAArBzC,EAAWyG,OACbuK,EAAKnW,aAAa,QAASmF,EAAWyG,OAEzB,UAAXwK,EACF,MAEFD,EAAKxN,iBAAiB,SAAS7F,IAC7B2I,EAAQtI,SAASlD,EAAI,CACnB2L,MAAO9I,EAAMI,OAAO0I,OACpB,GAEN,CACA,MACF,IAAK,SACH,GAAyB,OAArBzG,EAAWyG,MAAgB,CAC7BuK,EAAKnW,aAAa,QAASmF,EAAWyG,OACtC,IAAK,MAAM+G,KAAUzN,EAAQgP,SACvBvB,EAAOm2C,WAAWl9C,QAAUzG,EAAWyG,MACzC+G,EAAOm2C,WAAWl2C,UAAW,EACpBD,EAAOm2C,WAAWx1B,eAAe,oBACnC3gB,EAAOm2C,WAAWl2C,QAG/B,CACAuD,EAAKxN,iBAAiB,SAAS7F,IAC7B,MAAMiG,EAAUjG,EAAMI,OAAO6F,QACvB6C,GAAmC,IAA3B7C,EAAQyK,cAAuB,GAAKzK,EAAQA,EAAQyK,eAAe5H,MACjFH,EAAQtI,SAASlD,EAAI,CACnB2L,SACA,IAIV,CACA,oBAAO2vE,EAAc,KACnBplE,EAAI,QACJjR,EAAO,QACPuG,EAAU,KAAI,OACd2K,EAAM,YACN5X,IAEA,MAAM,WACJsqD,GACE5jD,EACEs2E,EAAsBrlE,aAAgBslE,kBACpB,UAApB3yB,EAAWn9C,OACbm9C,EAAWjkD,KAAO,GAAGikD,EAAWjkD,QAAQuR,KAE1C,IAAK,MAAO9G,EAAK1D,KAAU9G,OAAOQ,QAAQwjD,GACxC,GAAIl9C,QAGJ,OAAQ0D,GACN,IAAK,QACC1D,EAAMhG,QACRuQ,EAAKnW,aAAasP,EAAK1D,EAAM7R,KAAK,MAEpC,MACF,IAAK,SACH,MACF,IAAK,KACHoc,EAAKnW,aAAa,kBAAmB4L,GACrC,MACF,IAAK,QACH9G,OAAO4V,OAAOvE,EAAKhW,MAAOyL,GAC1B,MACF,IAAK,cACHuK,EAAK1G,YAAc7D,EACnB,MACF,UACO4vE,GAA+B,SAARlsE,GAA0B,cAARA,IAC5C6G,EAAKnW,aAAasP,EAAK1D,GAI3B4vE,GACFh9E,EAAY6K,kBAAkB8M,EAAM2yC,EAAW5+C,KAAM4+C,EAAWx/C,WAE9DmC,GAAWq9C,EAAW4yB,QACxBnhF,KAAK6gF,aAAajlE,EAAM2yC,EAAW4yB,OAAQx2E,EAASuG,EAExD,CACA,aAAOzE,CAAO5L,GACZ,MAAMqQ,EAAUrQ,EAAWyD,kBACrBL,EAAcpD,EAAWoD,YACzBm9E,EAAOvgF,EAAW8a,QAClBE,EAAShb,EAAWgb,QAAU,UAC9BwlE,EAAW97E,SAASC,cAAc47E,EAAK92E,MACzC82E,EAAK7yB,YACPvuD,KAAKghF,cAAc,CACjBplE,KAAMylE,EACN12E,QAASy2E,EACTvlE,SACA5X,gBAGJ,MAAMq9E,EAA8B,aAAXzlE,EACnB0lE,EAAU1gF,EAAW2L,IAE3B,GADA+0E,EAAQ11E,OAAOw1E,GACXxgF,EAAWyE,SAAU,CACvB,MAAMorB,EAAY,UAAU7vB,EAAWyE,SAASorB,UAAUlxB,KAAK,QAC/D+hF,EAAQ37E,MAAM8qB,UAAYA,CAC5B,CACI4wD,GACFC,EAAQ97E,aAAa,QAAS,oBAEhC,MAAMs5E,EAAW,GACjB,GAA6B,IAAzBqC,EAAKznE,SAAStO,OAAc,CAC9B,GAAI+1E,EAAK/vE,MAAO,CACd,MAAMmwE,EAAOj8E,SAASmX,eAAe0kE,EAAK/vE,OAC1CgwE,EAASx1E,OAAO21E,GACZF,GAAoBV,EAA0CrtD,QAAQkuD,gBAAgBL,EAAK92E,OAC7Fy0E,EAAS9yE,KAAKu1E,EAElB,CACA,MAAO,CACLzC,WAEJ,CACA,MAAM2C,EAAQ,CAAC,CAACN,GAAO,EAAGC,IAC1B,KAAOK,EAAMr2E,OAAS,GAAG,CACvB,MAAO1G,EAAQ4X,EAAGX,GAAQ8lE,EAAMppB,IAAI,GACpC,GAAI/7C,EAAI,IAAM5X,EAAOgV,SAAStO,OAAQ,CACpCq2E,EAAMrmC,MACN,QACF,CACA,MAAMmsB,EAAQ7iE,EAAOgV,WAAW+nE,EAAMppB,IAAI,GAAG,IAC7C,GAAc,OAAVkP,EACF,SAEF,MAAM,KACJl9D,GACEk9D,EACJ,GAAa,UAATl9D,EAAkB,CACpB,MAAMk3E,EAAOj8E,SAASmX,eAAe8qD,EAAMn2D,OAC3C0tE,EAAS9yE,KAAKu1E,GACd5lE,EAAK/P,OAAO21E,GACZ,QACF,CACA,MAAMG,EAAYna,GAAOjZ,YAAYqzB,MAAQr8E,SAAS8iD,gBAAgBmf,EAAMjZ,WAAWqzB,MAAOt3E,GAAQ/E,SAASC,cAAc8E,GAW7H,GAVAsR,EAAK/P,OAAO81E,GACRna,EAAMjZ,YACRvuD,KAAKghF,cAAc,CACjBplE,KAAM+lE,EACNh3E,QAAS68D,EACTt2D,UACA2K,SACA5X,gBAGAujE,EAAM7tD,UAAUtO,OAAS,EAC3Bq2E,EAAMz1E,KAAK,CAACu7D,GAAQ,EAAGma,SAClB,GAAIna,EAAMn2D,MAAO,CACtB,MAAMmwE,EAAOj8E,SAASmX,eAAe8qD,EAAMn2D,OACvCiwE,GAAoBV,EAA0CrtD,QAAQkuD,gBAAgBn3E,IACxFy0E,EAAS9yE,KAAKu1E,GAEhBG,EAAU91E,OAAO21E,EACnB,CACF,CACA,IAAK,MAAM7W,KAAM4W,EAAQM,iBAAiB,yDACxClX,EAAGllE,aAAa,YAAY,GAE9B,MAAO,CACLs5E,WAEJ,CACA,aAAO9/D,CAAOpe,GACZ,MAAM6vB,EAAY,UAAU7vB,EAAWyE,SAASorB,UAAUlxB,KAAK,QAC/DqB,EAAW2L,IAAI5G,MAAM8qB,UAAYA,EACjC7vB,EAAW2L,IAAIzD,QAAS,CAC1B,EAIK,EAED,IACA,CAAE7L,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzCo2B,QAAS,IAAM,IAEtC,MAAMA,EACJ,kBAAOre,CAAYoe,GACjB,MAAM/Z,EAAQ,GACRuoE,EAAS,CACbvoE,QACAoa,OAAQppB,OAAO3J,OAAO,OA8BxB,OA5BA,SAASmhF,EAAKP,GACZ,IAAKA,EACH,OAEF,IAAIr8E,EAAM,KACV,MAAMmF,EAAOk3E,EAAKl3E,KAClB,GAAa,UAATA,EACFnF,EAAMq8E,EAAKnwE,UACN,KAAKkiB,EAAQkuD,gBAAgBn3E,GAClC,OACSk3E,GAAMjzB,YAAYr5C,YAC3B/P,EAAMq8E,EAAKjzB,WAAWr5C,YACbssE,EAAKnwE,QACdlM,EAAMq8E,EAAKnwE,MACb,CAMA,GALY,OAARlM,GACFoU,EAAMtN,KAAK,CACT9G,QAGCq8E,EAAK7nE,SAGV,IAAK,MAAM6tD,KAASga,EAAK7nE,SACvBooE,EAAKva,EAET,CACAua,CAAKzuD,GACEwuD,CACT,CACA,sBAAOL,CAAgBn3E,GACrB,QAAkB,aAATA,GAAgC,UAATA,GAA6B,WAATA,GAA8B,WAATA,EAC3E,EAIK,EAED,IACA,CAAEmX,EAAoB,EAAqB,KAEjD,EAAoBC,EAAED,GAAoBE,MAAOC,EAAuCC,KAA+B,IAClG,EAAoB1kB,EAAE,EAAqB,CACzC63B,eAAgB,IAA2BvV,EAA2D,eACtGyvC,sBAAuB,IAA2B8yB,EAA6F,sBAC/I7wB,2BAA4B,IAA2B1xC,EAAuE,2BAC9H1C,qBAAsB,IAA2B0C,EAAiE,qBAClHuwC,0BAA2B,IAA2BiyB,EAA+E,0BACrI7kF,gBAAiB,IAA2B8kF,EAAyE,gBACrH1xD,eAAgB,IAA2B/Q,EAA2D,eACtG0f,oBAAqB,IAA2B1f,EAAgE,oBAChHd,cAAe,IAA2BwjE,EAAoE,cAC9G/vE,YAAa,IAA2BqN,EAAwD,YAChGyI,oBAAqB,IAA2Bk6D,EAA2E,oBAC3HrzC,UAAW,IAA2BtvB,EAAsD,UAC5F+a,oBAAqB,IAA2B/a,EAAgE,oBAChHgb,oBAAqB,IAA2Bhb,EAAgE,oBAChHs2B,IAAK,IAA2Bt2B,EAAgD,IAChFqC,sBAAuB,IAA2BugE,EAAkE,sBACpH9nE,cAAe,IAA2B4nE,EAAoE,cAC9GpgE,UAAW,IAA2BsgE,EAAsD,UAC5FC,kBAAmB,IAA2B7iE,EAA8D,kBAC5G8iE,eAAgB,IAA2B9iE,EAA2D,eACtGyzB,cAAe,IAA2BivC,EAAoE,cAC9G33D,kBAAmB,IAA2B/K,EAA8D,kBAC5GoV,4BAA6B,IAA2BstD,EAAkF,4BAC1IznD,4BAA6B,IAA2Bjb,EAAwE,4BAChI/Y,KAAM,IAA2B+Y,EAAiD,KAClF+iE,eAAgB,IAA2B/iE,EAA2D,eACtG/D,SAAU,IAA2B+mE,EAA2D,SAChGzgE,MAAO,IAA2BqgE,EAAkD,MACpFK,uBAAwB,IAA2BjjE,EAAmE,uBACtHwC,YAAa,IAA2BogE,EAAwD,YAChGxkE,mBAAoB,IAA2BskE,EAAyE,mBACxHz6B,sBAAuB,IAA2By6B,EAA4E,sBAC9Hv6B,mBAAoB,IAA2Bu6B,EAAyE,mBACxHr8D,aAAc,IAA2Bq8D,EAAmE,aAC5Gt6B,UAAW,IAA2Bs6B,EAAgE,UACtGr6B,cAAe,IAA2Bq6B,EAAoE,cAC9GQ,iBAAkB,IAA2BljE,EAA6D,iBAC1Gk8D,gBAAiB,IAA2BiH,EAAmE,gBAC/GpkE,mBAAoB,IAA2B2jE,EAAyE,mBACxHt5E,OAAQ,IAA2B4W,EAAmD,OACtFm8D,gBAAiB,IAA2BgH,EAAmE,gBAC/G1gE,QAAS,IAA2BmgE,EAAoD,UAE1F,IAAI5iE,EAA+C,EAAoB,KACnE4iE,EAA+C,EAAoB,KACnEF,EAAyD,EAAoB,KAC7ES,EAAsD,EAAoB,KAC1EZ,EAA0E,EAAoB,KAC9FC,EAAwD,EAAoB,KAC5EC,EAA4D,EAAoB,KAChFE,EAA0D,EAAoB,KAC9EK,EAAqD,EAAoB,KAC9Fx/D,EAAiCrB,EAAsC,CAACygE,IAC5EA,GAAgDp/D,EAA+BC,YAAcD,KAAoCA,GAAgC,GAajKpB,GACA,CAAE,MAAMlH,GAAKkH,EAAyBlH,EAAI,IAEnC,EAED,IACA,CAAEzd,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzC4sB,eAAgB,IAAM,IAExB,IAAI84D,EAAwC,EAAoB,KAErF,MAAMC,EAEE,EAFFA,EAGG,EAEHC,EAEI,EAFJA,EAGa,EAHbA,EAIG,EAJHA,EAKK,EALLA,EAMG,EANHA,EAOE,EAPFA,EAQW,EARXA,EASY,EAElB,SAASC,EAAW7wD,GAIlB,OAHMA,aAAkB9N,OAA2B,iBAAX8N,GAAkC,OAAXA,IAC7D,EAAG0wD,EAAsCn2E,aAAa,kEAEhDylB,EAAO7nB,MACb,IAAK,iBACH,OAAO,IAAIu4E,EAAsC7tD,eAAe7C,EAAO8C,SACzE,IAAK,sBACH,OAAO,IAAI4tD,EAAsCpoD,oBAAoBtI,EAAO8C,SAC9E,IAAK,oBACH,OAAO,IAAI4tD,EAAsCvoD,kBAAkBnI,EAAO8C,QAAS9C,EAAOoI,MAC5F,IAAK,8BACH,OAAO,IAAIsoD,EAAsCnoD,4BAA4BvI,EAAO8C,QAAS9C,EAAOwI,QACtG,IAAK,wBACH,OAAO,IAAIkoD,EAAsCjoD,sBAAsBzI,EAAO8C,QAAS9C,EAAO0I,SAChG,QACE,OAAO,IAAIgoD,EAAsCjoD,sBAAsBzI,EAAO8C,QAAS9C,EAAOl0B,YAEpG,CACA,MAAM8rB,EACJ,WAAAnmB,CAAYq/E,EAAYC,EAAYC,GAClCnjF,KAAKijF,WAAaA,EAClBjjF,KAAKkjF,WAAaA,EAClBljF,KAAKmjF,OAASA,EACdnjF,KAAKojF,WAAa,EAClBpjF,KAAKqjF,SAAW,EAChBrjF,KAAKsjF,YAAc/4E,OAAO3J,OAAO,MACjCZ,KAAKujF,kBAAoBh5E,OAAO3J,OAAO,MACvCZ,KAAKwjF,qBAAuBj5E,OAAO3J,OAAO,MAC1CZ,KAAKyjF,cAAgBl5E,OAAO3J,OAAO,MACnCZ,KAAK0jF,mBAAqBn7E,IACxB,MAAMzH,EAAOyH,EAAMzH,KACnB,GAAIA,EAAKoiF,aAAeljF,KAAKijF,WAC3B,OAEF,GAAIniF,EAAK2tE,OAEP,YADAzuE,MAAK,GAAsBc,GAG7B,GAAIA,EAAKwxB,SAAU,CACjB,MAAM8wD,EAAatiF,EAAKsiF,WAClBnxD,EAAajyB,KAAKwjF,qBAAqBJ,GAC7C,IAAKnxD,EACH,MAAM,IAAI5N,MAAM,2BAA2B++D,KAG7C,UADOpjF,KAAKwjF,qBAAqBJ,GAC7BtiF,EAAKwxB,WAAawwD,EACpB7wD,EAAW7I,QAAQtoB,EAAKA,UACnB,IAAIA,EAAKwxB,WAAawwD,EAG3B,MAAM,IAAIz+D,MAAM,4BAFhB4N,EAAW3H,OAAO04D,EAAWliF,EAAKqxB,QAGpC,CACA,MACF,CACA,MAAM1nB,EAASzK,KAAKyjF,cAAc3iF,EAAK2J,QACvC,IAAKA,EACH,MAAM,IAAI4Z,MAAM,+BAA+BvjB,EAAK2J,UAEtD,GAAI3J,EAAKsiF,WAAT,CACE,MAAMO,EAAe3jF,KAAKijF,WACpBW,EAAe9iF,EAAKmiF,WAC1B,IAAI95D,SAAQ,SAAUC,GACpBA,EAAQ3e,EAAO3J,EAAKA,MACtB,IAAGoiB,MAAK,SAAU4lD,GAChBqa,EAAO7tD,YAAY,CACjB2tD,WAAYU,EACZT,WAAYU,EACZtxD,SAAUwwD,EACVM,WAAYtiF,EAAKsiF,WACjBtiF,KAAMgoE,GAEV,IAAG,SAAU32C,GACXgxD,EAAO7tD,YAAY,CACjB2tD,WAAYU,EACZT,WAAYU,EACZtxD,SAAUwwD,EACVM,WAAYtiF,EAAKsiF,WACjBjxD,OAAQ6wD,EAAW7wD,IAEvB,GAEF,MACIrxB,EAAKuiF,SACPrjF,MAAK,GAAkBc,GAGzB2J,EAAO3J,EAAKA,KAAK,EAEnBqiF,EAAO/0E,iBAAiB,UAAWpO,KAAK0jF,mBAC1C,CACA,EAAA/sD,CAAG7rB,EAAY+4E,GACb,MAAMC,EAAK9jF,KAAKyjF,cAChB,GAAIK,EAAGh5E,GACL,MAAM,IAAIuZ,MAAM,0CAA0CvZ,MAE5Dg5E,EAAGh5E,GAAc+4E,CACnB,CACA,IAAA15D,CAAKrf,EAAYhK,EAAMijF,GACrB/jF,KAAKmjF,OAAO7tD,YAAY,CACtB2tD,WAAYjjF,KAAKijF,WACjBC,WAAYljF,KAAKkjF,WACjBz4E,OAAQK,EACRhK,QACCijF,EACL,CACA,eAAA/6D,CAAgBle,EAAYhK,EAAMijF,GAChC,MAAMX,EAAapjF,KAAKojF,aAClBnxD,EAAa,IAAI4wD,EAAsCr4D,kBAC7DxqB,KAAKwjF,qBAAqBJ,GAAcnxD,EACxC,IACEjyB,KAAKmjF,OAAO7tD,YAAY,CACtB2tD,WAAYjjF,KAAKijF,WACjBC,WAAYljF,KAAKkjF,WACjBz4E,OAAQK,EACRs4E,aACAtiF,QACCijF,EACL,CAAE,MAAOl5D,GACPoH,EAAW3H,OAAOO,EACpB,CACA,OAAOoH,EAAWtJ,OACpB,CACA,cAAAwK,CAAeroB,EAAYhK,EAAMkjF,EAAkBD,GACjD,MAAMV,EAAWrjF,KAAKqjF,WACpBJ,EAAajjF,KAAKijF,WAClBC,EAAaljF,KAAKkjF,WAClBC,EAASnjF,KAAKmjF,OAChB,OAAO,IAAIjE,eAAe,CACxB91B,MAAO66B,IACL,MAAMC,EAAkB,IAAIrB,EAAsCr4D,kBAgBlE,OAfAxqB,KAAKujF,kBAAkBF,GAAY,CACjCY,aACAE,UAAWD,EACXE,SAAU,KACVC,WAAY,KACZC,UAAU,GAEZnB,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAz4E,OAAQK,EACRu4E,WACAviF,OACAyjF,YAAaN,EAAWM,aACvBR,GACIG,EAAgBv7D,OAAO,EAEhC67D,KAAMP,IACJ,MAAMQ,EAAiB,IAAI5B,EAAsCr4D,kBASjE,OARAxqB,KAAKujF,kBAAkBF,GAAUe,SAAWK,EAC5CtB,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACAkB,YAAaN,EAAWM,cAEnBE,EAAe97D,OAAO,EAE/ByL,OAAQjC,KACN,EAAG0wD,EAAsC1pD,QAAQhH,aAAkB9N,MAAO,mCAC1E,MAAMqgE,EAAmB,IAAI7B,EAAsCr4D,kBAUnE,OATAxqB,KAAKujF,kBAAkBF,GAAUgB,WAAaK,EAC9C1kF,KAAKujF,kBAAkBF,GAAUiB,UAAW,EAC5CnB,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACAlxD,OAAQ6wD,EAAW7wD,KAEduyD,EAAiB/7D,OAAO,GAEhCq7D,EACL,CACA,IAAkBljF,GAChB,MAAMuiF,EAAWviF,EAAKuiF,SACpBJ,EAAajjF,KAAKijF,WAClBC,EAAapiF,EAAKmiF,WAClBE,EAASnjF,KAAKmjF,OACVrzB,EAAO9vD,KACXyK,EAASzK,KAAKyjF,cAAc3iF,EAAK2J,QAC7Bk6E,EAAa,CACjB,OAAAnrD,CAAQ9N,EAAOzT,EAAO,EAAG8rE,GACvB,GAAI/jF,KAAK4kF,YACP,OAEF,MAAMC,EAAkB7kF,KAAKukF,YAC7BvkF,KAAKukF,aAAetsE,EAChB4sE,EAAkB,GAAK7kF,KAAKukF,aAAe,IAC7CvkF,KAAK8kF,eAAiB,IAAIjC,EAAsCr4D,kBAChExqB,KAAK05B,MAAQ15B,KAAK8kF,eAAen8D,SAEnCw6D,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACA33D,SACCq4D,EACL,EACA,KAAAzqD,GACMt5B,KAAK4kF,cAGT5kF,KAAK4kF,aAAc,EACnBzB,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,oBAEKvzB,EAAKwzB,YAAYD,GAC1B,EACA,KAAAvxD,CAAMK,IACJ,EAAG0wD,EAAsC1pD,QAAQhH,aAAkB9N,MAAO,kCACtErkB,KAAK4kF,cAGT5kF,KAAK4kF,aAAc,EACnBzB,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACAlxD,OAAQ6wD,EAAW7wD,KAEvB,EACA2yD,eAAgB,IAAIjC,EAAsCr4D,kBAC1D6O,OAAQ,KACRI,SAAU,KACVmrD,aAAa,EACbL,YAAazjF,EAAKyjF,YAClB7qD,MAAO,MAETirD,EAAWG,eAAe17D,UAC1Bu7D,EAAWjrD,MAAQirD,EAAWG,eAAen8D,QAC7C3oB,KAAKsjF,YAAYD,GAAYsB,EAC7B,IAAIx7D,SAAQ,SAAUC,GACpBA,EAAQ3e,EAAO3J,EAAKA,KAAM6jF,GAC5B,IAAGzhE,MAAK,WACNigE,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACA/uD,SAAS,GAEb,IAAG,SAAUnC,GACXgxD,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACAlxD,OAAQ6wD,EAAW7wD,IAEvB,GACF,CACA,IAAsBrxB,GACpB,MAAMuiF,EAAWviF,EAAKuiF,SACpBJ,EAAajjF,KAAKijF,WAClBC,EAAapiF,EAAKmiF,WAClBE,EAASnjF,KAAKmjF,OACV4B,EAAmB/kF,KAAKujF,kBAAkBF,GAC9CsB,EAAa3kF,KAAKsjF,YAAYD,GAChC,OAAQviF,EAAK2tE,QACX,KAAKsU,EACCjiF,EAAKwzB,QACPywD,EAAiBZ,UAAU/6D,UAE3B27D,EAAiBZ,UAAU75D,OAAO04D,EAAWliF,EAAKqxB,SAEpD,MACF,KAAK4wD,EACCjiF,EAAKwzB,QACPywD,EAAiBX,SAASh7D,UAE1B27D,EAAiBX,SAAS95D,OAAO04D,EAAWliF,EAAKqxB,SAEnD,MACF,KAAK4wD,EACH,IAAK4B,EAAY,CACfxB,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACA/uD,SAAS,IAEX,KACF,CACIqwD,EAAWJ,aAAe,GAAKzjF,EAAKyjF,YAAc,GACpDI,EAAWG,eAAe17D,UAE5Bu7D,EAAWJ,YAAczjF,EAAKyjF,YAC9B,IAAIp7D,SAAQ,SAAUC,GACpBA,EAAQu7D,EAAWtrD,WACrB,IAAGnW,MAAK,WACNigE,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACA/uD,SAAS,GAEb,IAAG,SAAUnC,GACXgxD,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACAlxD,OAAQ6wD,EAAW7wD,IAEvB,IACA,MACF,KAAK4wD,EAEH,IADA,EAAGF,EAAsC1pD,QAAQ4rD,EAAkB,yCAC/DA,EAAiBT,SACnB,MAEFS,EAAiBd,WAAWzqD,QAAQ14B,EAAK4qB,OACzC,MACF,KAAKq3D,EAEH,IADA,EAAGF,EAAsC1pD,QAAQ4rD,EAAkB,uCAC/DA,EAAiBT,SACnB,MAEFS,EAAiBT,UAAW,EAC5BS,EAAiBd,WAAW3qD,QAC5Bt5B,MAAK,GAAwB+kF,EAAkB1B,GAC/C,MACF,KAAKN,GACH,EAAGF,EAAsC1pD,QAAQ4rD,EAAkB,uCACnEA,EAAiBd,WAAWnyD,MAAMkxD,EAAWliF,EAAKqxB,SAClDnyB,MAAK,GAAwB+kF,EAAkB1B,GAC/C,MACF,KAAKN,EACCjiF,EAAKwzB,QACPywD,EAAiBV,WAAWj7D,UAE5B27D,EAAiBV,WAAW/5D,OAAO04D,EAAWliF,EAAKqxB,SAErDnyB,MAAK,GAAwB+kF,EAAkB1B,GAC/C,MACF,KAAKN,EACH,IAAK4B,EACH,MAEF,IAAIx7D,SAAQ,SAAUC,GACpBA,EAAQu7D,EAAWlrD,WAAWupD,EAAWliF,EAAKqxB,SAChD,IAAGjP,MAAK,WACNigE,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACA/uD,SAAS,GAEb,IAAG,SAAUnC,GACXgxD,EAAO7tD,YAAY,CACjB2tD,aACAC,aACAzU,OAAQsU,EACRM,WACAlxD,OAAQ6wD,EAAW7wD,IAEvB,IACAwyD,EAAWG,eAAex6D,OAAO04D,EAAWliF,EAAKqxB,SACjDwyD,EAAWC,aAAc,SAClB5kF,KAAKsjF,YAAYD,GACxB,MACF,QACE,MAAM,IAAIh/D,MAAM,0BAEtB,CACA,QAAM,CAAwB0gE,EAAkB1B,SACxCl6D,QAAQ67D,WAAW,CAACD,EAAiBZ,WAAWx7D,QAASo8D,EAAiBX,UAAUz7D,QAASo8D,EAAiBV,YAAY17D,iBACzH3oB,KAAKujF,kBAAkBF,EAChC,CACA,OAAA14D,GACE3qB,KAAKmjF,OAAOvqE,oBAAoB,UAAW5Y,KAAK0jF,mBAClD,EAIK,EAED,IACA,CAAExmF,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzC6jB,eAAgB,IAAM,IAExB,IAAI6hE,EAAwC,EAAoB,KAErF,MAAMoC,EAAO,WACPC,EAAY,WACZC,EAAW,MACjB,MAAMnkE,EACJ,WAAApd,CAAYwhF,GACVplF,KAAKqlF,GAAKD,EAAc,WAAPA,EAAoBH,EACrCjlF,KAAKslF,GAAKF,EAAc,WAAPA,EAAoBH,CACvC,CACA,MAAAhmE,CAAOwuC,GACL,IAAI3sD,EAAMuK,EACV,GAAqB,iBAAVoiD,EAAoB,CAC7B3sD,EAAO,IAAIgkB,WAA0B,EAAf2oC,EAAMpiD,QAC5BA,EAAS,EACT,IAAK,IAAIkR,EAAI,EAAGC,EAAKixC,EAAMpiD,OAAQkR,EAAIC,EAAID,IAAK,CAC9C,MAAMge,EAAOkzB,EAAMwkB,WAAW11D,GAC1Bge,GAAQ,IACVz5B,EAAKuK,KAAYkvB,GAEjBz5B,EAAKuK,KAAYkvB,IAAS,EAC1Bz5B,EAAKuK,KAAmB,IAAPkvB,EAErB,CACF,KAAO,MAAI,EAAGsoD,EAAsCz+D,eAAeqpC,GAIjE,MAAM,IAAIppC,MAAM,gFAHhBvjB,EAAO2sD,EAAMxtD,QACboL,EAASvK,EAAKikB,UAGhB,CACA,MAAMwgE,EAAcl6E,GAAU,EACxBm6E,EAAan6E,EAAuB,EAAdk6E,EACtBE,EAAa,IAAI97C,YAAY7oC,EAAKkkB,OAAQ,EAAGugE,GACnD,IAAIG,EAAK,EACPC,EAAK,EACHN,EAAKrlF,KAAKqlF,GACZC,EAAKtlF,KAAKslF,GACZ,MAAMM,EAAK,WACTC,EAAK,UACDC,EAASF,MACbG,EAASF,MACX,IAAK,IAAItpE,EAAI,EAAGA,EAAIgpE,EAAahpE,IACvB,EAAJA,GACFmpE,EAAKD,EAAWlpE,GAChBmpE,EAAKA,EAAKE,EAAKV,EAAYQ,EAAKI,EAASX,EACzCO,EAAKA,GAAM,GAAKA,IAAO,GACvBA,EAAKA,EAAKG,EAAKX,EAAYQ,EAAKK,EAASZ,EACzCE,GAAMK,EACNL,EAAKA,GAAM,GAAKA,IAAO,GACvBA,EAAU,EAALA,EAAS,aAEdM,EAAKF,EAAWlpE,GAChBopE,EAAKA,EAAKC,EAAKV,EAAYS,EAAKG,EAASX,EACzCQ,EAAKA,GAAM,GAAKA,IAAO,GACvBA,EAAKA,EAAKE,EAAKX,EAAYS,EAAKI,EAASZ,EACzCG,GAAMK,EACNL,EAAKA,GAAM,GAAKA,IAAO,GACvBA,EAAU,EAALA,EAAS,YAIlB,OADAI,EAAK,EACGF,GACN,KAAK,EACHE,GAAM5kF,EAAmB,EAAdykF,EAAkB,IAAM,GACrC,KAAK,EACHG,GAAM5kF,EAAmB,EAAdykF,EAAkB,IAAM,EACrC,KAAK,EACHG,GAAM5kF,EAAmB,EAAdykF,GACXG,EAAKA,EAAKE,EAAKV,EAAYQ,EAAKI,EAASX,EACzCO,EAAKA,GAAM,GAAKA,IAAO,GACvBA,EAAKA,EAAKG,EAAKX,EAAYQ,EAAKK,EAASZ,EACvB,EAAdI,EACFF,GAAMK,EAENJ,GAAMI,EAGZ1lF,KAAKqlF,GAAKA,EACVrlF,KAAKslF,GAAKA,CACZ,CACA,SAAAhkE,GACE,IAAI+jE,EAAKrlF,KAAKqlF,GACZC,EAAKtlF,KAAKslF,GAQZ,OAPAD,GAAMC,IAAO,EACbD,EAAU,WAALA,EAAkBH,EAAiB,MAALG,EAAcF,EACjDG,EAAU,WAALA,EAAkBJ,GAAsC,YAAxBI,GAAM,GAAKD,IAAO,IAAmBH,KAAe,GACzFG,GAAMC,IAAO,EACbD,EAAU,UAALA,EAAkBH,EAAiB,MAALG,EAAcF,EACjDG,EAAU,WAALA,EAAkBJ,GAAsC,YAAxBI,GAAM,GAAKD,IAAO,IAAmBH,KAAe,GACzFG,GAAMC,IAAO,GACLD,IAAO,GAAGpnF,SAAS,IAAIC,SAAS,EAAG,MAAQonF,IAAO,GAAGrnF,SAAS,IAAIC,SAAS,EAAG,IACxF,EAIK,EAED,IACA,CAAEhB,EAAqC,EAAqB,KAE7C,EAAoBC,EAAE,EAAqB,CACzC63B,eAAgB,IAAM,EACtB3tB,0BAA2B,IAAM,EACjC8pD,2BAA4B,IAAM,EAClC2W,uBAAwB,IAAM,EAC9B/qD,qBAAsB,IAAM,EAC5ByT,eAAgB,IAAM,EACtBnW,iBAAkB,IAAM,EACxBrZ,eAAgB,IAAM,EACtBurD,cAAe,IAAM,EACrBptB,oBAAqB,IAAM,EAC3B8M,qBAAsB,IAAM,EAC5B75B,YAAa,IAAM,EACnB22B,YAAa,IAAM,EACnB+C,gBAAiB,IAAM,EACvBiD,UAAW,IAAM,EACjBvU,oBAAqB,IAAM,EAC3BlmB,YAAa,IAAM,EACnBqnB,wBAAyB,IAAM,EAC/BlB,oBAAqB,IAAM,EAC3Bsb,IAAK,IAAM,EACXzb,kBAAmB,IAAM,EACzBgoD,kBAAmB,IAAM,EACzBC,eAAgB,IAAM,EACtB/3D,kBAAmB,IAAM,EACzB4G,oBAAqB,IAAM,EAC3Bqb,kBAAmB,IAAM,EACzB/R,4BAA6B,IAAM,EACnCE,sBAAuB,IAAM,EAC7Bl0B,KAAM,IAAM,EACZ87E,eAAgB,IAAM,EACtBrpD,OAAQ,IAAM,EACd65C,cAAe,IAAM,EACrB0P,uBAAwB,IAAM,EAC9B1a,QAAS,IAAM,EACf5xC,kBAAmB,IAAM,EACzBc,KAAM,IAAM,EACZ9S,cAAe,IAAM,EACrBb,SAAU,IAAM,EAChBo/D,iBAAkB,IAAM,EACxB9hE,cAAe,IAAM,EACrB6G,kBAAmB,IAAM,EACzB7e,OAAQ,IAAM,EACdypE,SAAU,IAAM,EAChBrtD,cAAe,IAAM,EACrBvY,YAAa,IAAM,EACnBjF,KAAM,IAAM,IAGnC,MAAM8b,IAA8B,iBAAZyiE,SAAwBA,QAAU,IAAO,oBAAuBA,QAAQC,SAASC,IAAQF,QAAQC,SAASE,UAAYH,QAAQ50E,MAAyB,YAAjB40E,QAAQ50E,MAChK06B,EAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAClCG,EAAuB,CAAC,KAAO,EAAG,EAAG,KAAO,EAAG,GAC/CtQ,EAA0B,IAC1BrnB,EAAc,KAGd8c,EAAsB,CAC1BmH,IAAK,EACLD,QAAS,EACTjH,MAAO,EACP+0D,KAAM,EACNztD,kBAAmB,GACnBE,oBAAqB,GACrBJ,oBAAqB,GACrBK,OAAQ,KAEJtI,EAAiB,CACrBgI,QAAS,EACT/H,OAAQ,EACRiI,aAAc,EACdE,eAAgB,GAEZkvC,EAAyB,yBACzB/qD,EAAuB,CAC3Byb,SAAU,EACV6G,KAAM,EACNn9B,SAAU,EACVsB,MAAO,GACPX,IAAK,IAEDsuD,EAA6B,CACjCk1B,OAAQ,EACR3Z,OAAQ,EACRtb,cAAe,GACfC,eAAgB,GAChBi1B,iBAAkB,GAClB9uB,UAAW,GACXF,cAAe,GACfG,YAAa,IAET8qB,EAAiB,CACrBlxD,MAAO,EACPk1D,gBAAiB,EACjBC,KAAM,GACNC,mBAAoB,GACpBC,uBAAwB,IACxBC,uBAAwB,IACxBC,SAAU,KACVC,mBAAoB,MAEhBp6C,EAAoB,CACxBC,KAAM,EACN4S,OAAQ,EACRD,YAAa,EACbqC,UAAW,EACXolC,iBAAkB,EAClBC,mBAAoB,EACpBC,wBAAyB,EACzBC,YAAa,EACbjoC,iBAAkB,EAClBE,iBAAkB,GAEdnQ,EAAY,CAChBC,eAAgB,EAChBY,UAAW,EACXF,WAAY,GAER1uC,EAAiB,CACrBG,KAAM,EACNF,KAAM,EACNiB,SAAU,EACVC,KAAM,EACNE,OAAQ,EACRE,OAAQ,EACRO,QAAS,EACTL,SAAU,EACVO,UAAW,EACXE,UAAW,GACXE,SAAU,GACVE,UAAW,GACXE,MAAO,GACPb,MAAO,GACPE,IAAK,GACLb,MAAO,GACPyB,eAAgB,GAChByjF,MAAO,GACPC,MAAO,GACP9lF,OAAQ,GACR+lF,OAAQ,GACRC,YAAa,GACbC,QAAS,GACTC,UAAW,GACXC,OAAQ,GACRC,OAAQ,IAuCJpgF,EAA4B,CAChCC,MAAO,EACPC,OAAQ,EACRC,QAAS,EACTE,MAAO,EACPxE,UAAW,GA6BPs/E,EAAiB,CACrBkF,OAAQ,EACRC,SAAU,EACVC,MAAO,GAEHzoD,EAAsB,CAC1BE,KAAM,EACND,OAAQ,GAEJ2W,EAAM,CACVC,WAAY,EACZmC,aAAc,EACdC,WAAY,EACZC,YAAa,EACbC,cAAe,EACfE,QAAS,EACTG,mBAAoB,EACpBC,YAAa,EACbE,UAAW,EACX3Q,KAAM,GACNyK,QAAS,GACTliB,UAAW,GACXwpB,OAAQ,GACRE,OAAQ,GACR4B,QAAS,GACTC,SAAU,GACVC,SAAU,GACVzB,UAAW,GACXoB,UAAW,GACXM,OAAQ,GACRG,YAAa,GACbna,KAAM,GACNqa,OAAQ,GACRC,WAAY,GACZC,aAAc,GACdC,gBAAiB,GACjBC,kBAAmB,GACnBhU,QAAS,GACT7I,KAAM,GACN8c,OAAQ,GACRC,UAAW,GACXC,QAAS,GACTK,eAAgB,GAChBE,eAAgB,GAChBC,UAAW,GACXC,WAAY,GACZxE,QAAS,GACTqF,qBAAsB,GACtBC,YAAa,GACbE,SAAU,GACVC,mBAAoB,GACpBC,cAAe,GACfC,SAAU,GACVe,SAAU,GACVmoC,eAAgB,GAChBC,iBAAkB,GAClBC,2BAA4B,GAC5BlmC,aAAc,GACdG,sBAAuB,GACvBgmC,oBAAqB,GACrBC,kBAAmB,GACnBC,eAAgB,GAChB3lC,gBAAiB,GACjB4lC,aAAc,GACd1lC,cAAe,GACf2lC,cAAe,GACfC,YAAa,GACb3lC,kBAAmB,GACnBC,gBAAiB,GACjB2lC,mBAAoB,GACpBC,iBAAkB,GAClB1lC,YAAa,GACbE,iBAAkB,GAClBC,eAAgB,GAChBwlC,eAAgB,GAChBC,aAAc,GACdviC,UAAW,GACXE,eAAgB,GAChBC,mBAAoB,GACpBE,wBAAyB,GACzBE,iBAAkB,GAClBC,YAAa,GACbC,UAAW,GACX1D,sBAAuB,GACvBC,oBAAqB,GACrBC,WAAY,GACZS,SAAU,GACVE,gBAAiB,GACjBK,cAAe,GACfC,sBAAuB,GACvBiB,2BAA4B,GAC5BE,kBAAmB,GACnBC,wBAAyB,GACzBI,6BAA8B,GAC9BH,wBAAyB,GACzBT,4BAA6B,GAC7BiB,yBAA0B,GAC1B3K,cAAe,IAEXgnC,EAAoB,CACxBoG,cAAe,EACfC,mBAAoB,GAEtB,IAAI/iE,EAAY48D,EAAemF,SAC/B,SAASjgE,EAAkBkhE,GACrBnjE,OAAOC,UAAUkjE,KACnBhjE,EAAYgjE,EAEhB,CACA,SAASxyD,IACP,OAAOxQ,CACT,CACA,SAASsR,EAAKs1B,GACR5mC,GAAa48D,EAAeoF,OAC9B1e,QAAQ2f,IAAI,SAASr8B,IAEzB,CACA,SAAS/kD,EAAK+kD,GACR5mC,GAAa48D,EAAemF,UAC9Bze,QAAQ2f,IAAI,YAAYr8B,IAE5B,CACA,SAAS9/C,EAAY8/C,GACnB,MAAM,IAAInoC,MAAMmoC,EAClB,CACA,SAASrzB,EAAO2vD,EAAMt8B,GACfs8B,GACHp8E,EAAY8/C,EAEhB,CAaA,SAASk2B,EAAuB7zE,EAAKgZ,EAAU,KAAMrZ,EAAU,MAC7D,IAAKK,EACH,OAAO,KAET,IACE,GAAIL,GAA0B,iBAARK,EAAkB,CACtC,GAAIL,EAAQu6E,oBAAsBl6E,EAAImmC,WAAW,QAAS,CACxD,MAAMg0C,EAAOn6E,EAAIkI,MAAM,OACnBiyE,GAAM39E,QAAU,IAClBwD,EAAM,UAAUA,IAEpB,CACA,GAAIL,EAAQy6E,mBACV,IACEp6E,EA0VDo+C,mBAAmBi8B,OA1VOr6E,GAC3B,CAAE,MAAO,CAEb,CACA,MAAMs6E,EAActhE,EAAU,IAAI1D,IAAItV,EAAKgZ,GAAW,IAAI1D,IAAItV,GAC9D,GA/BJ,SAA0BA,GACxB,OAAQA,GAAK0+C,UACX,IAAK,QACL,IAAK,SACL,IAAK,OACL,IAAK,UACL,IAAK,OACH,OAAO,EACT,QACE,OAAO,EAEb,CAoBQ67B,CAAiBD,GACnB,OAAOA,CAEX,CAAE,MAAO,CACT,OAAO,IACT,CACA,SAAStgF,EAAO0X,EAAKqzD,EAAMviE,EAAOg4E,GAAkB,GAOlD,OANA9+E,OAAO++E,eAAe/oE,EAAKqzD,EAAM,CAC/BviE,QACAk4E,YAAaF,EACbG,cAAc,EACdC,UAAU,IAELp4E,CACT,CACA,MAAMk7C,EAAgB,WACpB,SAASA,EAAct3B,EAAS3qB,GAC1BtK,KAAK4D,cAAgB2oD,GACvB7/C,EAAY,oCAEd1M,KAAKi1B,QAAUA,EACfj1B,KAAKsK,KAAOA,CACd,CAGA,OAFAiiD,EAAczzC,UAAY,IAAIuL,MAC9BkoC,EAAc3oD,YAAc2oD,EACrBA,CACT,CAXsB,GAYtB,MAAMjyB,UAA0BiyB,EAC9B,WAAA3oD,CAAY4oD,EAAKjyB,GACf9rB,MAAM+9C,EAAK,qBACXxsD,KAAKu6B,KAAOA,CACd,EAEF,MAAMK,UAA8B2xB,EAClC,WAAA3oD,CAAY4oD,EAAK3xB,GACfpsB,MAAM+9C,EAAK,yBACXxsD,KAAK66B,QAAUA,CACjB,EAEF,MAAML,UAA4B+xB,EAChC,WAAA3oD,CAAY4oD,GACV/9C,MAAM+9C,EAAK,sBACb,EAEF,MAAM/xB,UAA4B8xB,EAChC,WAAA3oD,CAAY4oD,GACV/9C,MAAM+9C,EAAK,sBACb,EAEF,MAAM9xB,UAAoC6xB,EACxC,WAAA3oD,CAAY4oD,EAAK7xB,GACflsB,MAAM+9C,EAAK,+BACXxsD,KAAK26B,OAASA,CAChB,EAEF,MAAMoO,UAAoBwjB,EACxB,WAAA3oD,CAAY4oD,GACV/9C,MAAM+9C,EAAK,cACb,EAEF,MAAMx3B,UAAuBu3B,EAC3B,WAAA3oD,CAAY4oD,GACV/9C,MAAM+9C,EAAK,iBACb,EAEF,SAASwmB,EAAc/vC,GACA,iBAAVA,QAAwCljB,IAAlBkjB,GAAO53B,QACtCqB,EAAY,sCAEd,MAAMrB,EAAS43B,EAAM53B,OACfq+E,EAAqB,KAC3B,GAAIr+E,EAASq+E,EACX,OAAOxR,OAAOC,aAAaliC,MAAM,KAAMhT,GAEzC,MAAM0mD,EAAS,GACf,IAAK,IAAIptE,EAAI,EAAGA,EAAIlR,EAAQkR,GAAKmtE,EAAoB,CACnD,MAAME,EAAW/rF,KAAKG,IAAIue,EAAImtE,EAAoBr+E,GAC5CqgB,EAAQuX,EAAM0M,SAASpzB,EAAGqtE,GAChCD,EAAO19E,KAAKisE,OAAOC,aAAaliC,MAAM,KAAMvqB,GAC9C,CACA,OAAOi+D,EAAOnqF,KAAK,GACrB,CACA,SAASylB,EAAc9f,GACF,iBAARA,GACTuH,EAAY,sCAEd,MAAMrB,EAASlG,EAAIkG,OACb43B,EAAQ,IAAIne,WAAWzZ,GAC7B,IAAK,IAAIkR,EAAI,EAAGA,EAAIlR,IAAUkR,EAC5B0mB,EAAM1mB,GAAyB,IAApBpX,EAAI8sE,WAAW11D,GAE5B,OAAO0mB,CACT,CACA,SAASqvC,EAASjhE,GAChB,OAAO6mE,OAAOC,aAAa9mE,GAAS,GAAK,IAAMA,GAAS,GAAK,IAAMA,GAAS,EAAI,IAAc,IAARA,EACxF,CAIA,SAASwP,EAAcvhB,GACrB,MAAMihB,EAAMhW,OAAO3J,OAAO,MAC1B,IAAK,MAAOmU,EAAK1D,KAAU/R,EACzBihB,EAAIxL,GAAO1D,EAEb,OAAOkP,CACT,CAeA,MAAMnO,EACJ,yBAAWi3B,GACT,OAAOxgC,EAAO7I,KAAM,iBAhBxB,WACE,MAAM6pF,EAAU,IAAI/kE,WAAW,GAG/B,OAFA+kE,EAAQ,GAAK,EAEQ,IADN,IAAIlgD,YAAYkgD,EAAQ7kE,OAAQ,EAAG,GACpC,EAChB,CAW0CqkB,GACxC,CACA,0BAAW9iB,GACT,OAAO1d,EAAO7I,KAAM,kBAbxB,WACE,IAEE,OADA,IAAIozE,SAAS,KACN,CACT,CAAE,MACA,OAAO,CACT,CACF,CAM2C7sD,GACzC,CACA,qCAAWC,GACT,OAAO3d,EAAO7I,KAAM,6BAAyD,oBAApBy9D,gBAC3D,CACA,mBAAWprD,GACT,MAAyB,oBAAdq/D,WAA4D,iBAAxBA,WAAWr/D,SACjDxJ,EAAO7I,KAAM,WAAY,CAC9BsS,MAAOo/D,UAAUr/D,SAASS,SAAS,SAGhCjK,EAAO7I,KAAM,WAAY,CAC9BsS,OAAO,GAEX,CACA,8BAAWy8C,GACT,OAAOlmD,EAAO7I,KAAM,sBAAuB8mB,WAAW/L,KAAKC,WAAW,4BACxE,EAEF,MAAM8uE,EAAa,IAAIj8E,MAAM,KAAKrD,QAAQlL,KAAI1B,GAAKA,EAAEK,SAAS,IAAIC,SAAS,EAAG,OAC9E,MAAMwI,EACJ,mBAAOmB,CAAa3I,EAAGN,EAAGO,GACxB,MAAO,IAAI2qF,EAAW5qF,KAAK4qF,EAAWlrF,KAAKkrF,EAAW3qF,IACxD,CACA,kBAAOwuC,CAAYjd,EAAWgd,GAC5B,IAAIq8C,EACAr5D,EAAU,IACRA,EAAU,GAAK,IACjBq5D,EAAOr8C,EAAO,GACdA,EAAO,GAAKA,EAAO,GACnBA,EAAO,GAAKq8C,GAEdr8C,EAAO,IAAMhd,EAAU,GACvBgd,EAAO,IAAMhd,EAAU,GACnBA,EAAU,GAAK,IACjBq5D,EAAOr8C,EAAO,GACdA,EAAO,GAAKA,EAAO,GACnBA,EAAO,GAAKq8C,GAEdr8C,EAAO,IAAMhd,EAAU,GACvBgd,EAAO,IAAMhd,EAAU,KAEvBq5D,EAAOr8C,EAAO,GACdA,EAAO,GAAKA,EAAO,GACnBA,EAAO,GAAKq8C,EACZA,EAAOr8C,EAAO,GACdA,EAAO,GAAKA,EAAO,GACnBA,EAAO,GAAKq8C,EACRr5D,EAAU,GAAK,IACjBq5D,EAAOr8C,EAAO,GACdA,EAAO,GAAKA,EAAO,GACnBA,EAAO,GAAKq8C,GAEdr8C,EAAO,IAAMhd,EAAU,GACvBgd,EAAO,IAAMhd,EAAU,GACnBA,EAAU,GAAK,IACjBq5D,EAAOr8C,EAAO,GACdA,EAAO,GAAKA,EAAO,GACnBA,EAAO,GAAKq8C,GAEdr8C,EAAO,IAAMhd,EAAU,GACvBgd,EAAO,IAAMhd,EAAU,IAEzBgd,EAAO,IAAMhd,EAAU,GACvBgd,EAAO,IAAMhd,EAAU,GACvBgd,EAAO,IAAMhd,EAAU,GACvBgd,EAAO,IAAMhd,EAAU,EACzB,CACA,gBAAOA,CAAUs5D,EAAIC,GACnB,MAAO,CAACD,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAID,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAID,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAID,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAID,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAIA,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAAKC,EAAG,GAAKD,EAAG,GAChN,CACA,qBAAO38C,CAAejxB,EAAG3d,GAGvB,MAAO,CAFI2d,EAAE,GAAK3d,EAAE,GAAK2d,EAAE,GAAK3d,EAAE,GAAKA,EAAE,GAC9B2d,EAAE,GAAK3d,EAAE,GAAK2d,EAAE,GAAK3d,EAAE,GAAKA,EAAE,GAE3C,CACA,4BAAO6tD,CAAsBlwC,EAAG3d,GAC9B,MAAMtB,EAAIsB,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAGjC,MAAO,EAFK2d,EAAE,GAAK3d,EAAE,GAAK2d,EAAE,GAAK3d,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMtB,IACxDif,EAAE,GAAK3d,EAAE,GAAK2d,EAAE,GAAK3d,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMtB,EAExE,CACA,iCAAOy6C,CAA2B14C,EAAGT,GACnC,MAAMgkC,EAAKziC,KAAKqtC,eAAenuC,EAAGT,GAC5BikC,EAAK1iC,KAAKqtC,eAAenuC,EAAEe,MAAM,EAAG,GAAIxB,GACxCkkC,EAAK3iC,KAAKqtC,eAAe,CAACnuC,EAAE,GAAIA,EAAE,IAAKT,GACvC+uC,EAAKxtC,KAAKqtC,eAAe,CAACnuC,EAAE,GAAIA,EAAE,IAAKT,GAC7C,MAAO,CAACZ,KAAKG,IAAIykC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAI6K,EAAG,IAAK3vC,KAAKG,IAAIykC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAI6K,EAAG,IAAK3vC,KAAKE,IAAI0kC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAI6K,EAAG,IAAK3vC,KAAKE,IAAI0kC,EAAG,GAAIC,EAAG,GAAIC,EAAG,GAAI6K,EAAG,IAC7J,CACA,uBAAOmJ,CAAiBl4C,GACtB,MAAMtB,EAAIsB,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GACjC,MAAO,CAACA,EAAE,GAAKtB,GAAIsB,EAAE,GAAKtB,GAAIsB,EAAE,GAAKtB,EAAGsB,EAAE,GAAKtB,GAAIsB,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMtB,GAAIsB,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMtB,EACnH,CACA,oCAAOspC,CAA8BhoC,GACnC,MAAMyrF,EAAY,CAACzrF,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACjCijB,EAAIjjB,EAAE,GAAKyrF,EAAU,GAAKzrF,EAAE,GAAKyrF,EAAU,GAC3C/qF,EAAIV,EAAE,GAAKyrF,EAAU,GAAKzrF,EAAE,GAAKyrF,EAAU,GAC3C3rF,EAAIE,EAAE,GAAKyrF,EAAU,GAAKzrF,EAAE,GAAKyrF,EAAU,GAC3C/sF,EAAIsB,EAAE,GAAKyrF,EAAU,GAAKzrF,EAAE,GAAKyrF,EAAU,GAC3C/vB,GAASz4C,EAAIvkB,GAAK,EAClB8wD,EAASpwD,KAAKssF,MAAMzoE,EAAIvkB,IAAM,EAAI,GAAKukB,EAAIvkB,EAAIoB,EAAIY,IAAM,EACzDirF,EAAKjwB,EAAQlM,GAAU,EACvBo8B,EAAKlwB,EAAQlM,GAAU,EAC7B,MAAO,CAACpwD,KAAKssF,KAAKC,GAAKvsF,KAAKssF,KAAKE,GACnC,CACA,oBAAO1jF,CAAcnG,GACnB,MAAMtB,EAAIsB,EAAKP,MAAM,GASrB,OARIO,EAAK,GAAKA,EAAK,KACjBtB,EAAE,GAAKsB,EAAK,GACZtB,EAAE,GAAKsB,EAAK,IAEVA,EAAK,GAAKA,EAAK,KACjBtB,EAAE,GAAKsB,EAAK,GACZtB,EAAE,GAAKsB,EAAK,IAEPtB,CACT,CACA,gBAAO6c,CAAUuuE,EAAOC,GACtB,MAAMC,EAAO3sF,KAAKE,IAAIF,KAAKG,IAAIssF,EAAM,GAAIA,EAAM,IAAKzsF,KAAKG,IAAIusF,EAAM,GAAIA,EAAM,KACvEE,EAAQ5sF,KAAKG,IAAIH,KAAKE,IAAIusF,EAAM,GAAIA,EAAM,IAAKzsF,KAAKE,IAAIwsF,EAAM,GAAIA,EAAM,KAC9E,GAAIC,EAAOC,EACT,OAAO,KAET,MAAMC,EAAO7sF,KAAKE,IAAIF,KAAKG,IAAIssF,EAAM,GAAIA,EAAM,IAAKzsF,KAAKG,IAAIusF,EAAM,GAAIA,EAAM,KACvEI,EAAQ9sF,KAAKG,IAAIH,KAAKE,IAAIusF,EAAM,GAAIA,EAAM,IAAKzsF,KAAKE,IAAIwsF,EAAM,GAAIA,EAAM,KAC9E,OAAIG,EAAOC,EACF,KAEF,CAACH,EAAME,EAAMD,EAAOE,EAC7B,CACA,wBAAO78C,CAAkBzG,EAAIC,EAAIlE,EAAIE,EAAIE,EAAIC,EAAIC,EAAIC,GACnD,MAAMinD,EAAU,GACdpnC,EAAS,CAAC,GAAI,IAChB,IAAI9hC,EAAGviB,EAAGZ,EAAGssF,EAAGC,EAAIC,EAAIC,EAAMC,EAC9B,IAAK,IAAI1uE,EAAI,EAAGA,EAAI,IAAKA,EAUvB,GATU,IAANA,GACFpd,EAAI,EAAIkoC,EAAK,GAAKjE,EAAK,EAAII,EAC3B9hB,GAAK,EAAI2lB,EAAK,EAAIjE,EAAK,EAAII,EAAK,EAAIE,EACpCnlC,EAAI,EAAI6kC,EAAK,EAAIiE,IAEjBloC,EAAI,EAAImoC,EAAK,GAAKhE,EAAK,EAAIG,EAC3B/hB,GAAK,EAAI4lB,EAAK,EAAIhE,EAAK,EAAIG,EAAK,EAAIE,EACpCplC,EAAI,EAAI+kC,EAAK,EAAIgE,GAEfzpC,KAAKuW,IAAIsN,GAAK,MAAlB,CACE,GAAI7jB,KAAKuW,IAAIjV,GAAK,MAChB,SAEF0rF,GAAKtsF,EAAIY,EACL,EAAI0rF,GAAKA,EAAI,GACfD,EAAQ3+E,KAAK4+E,EAGjB,MACAG,EAAO7rF,EAAIA,EAAI,EAAIZ,EAAImjB,EACvBupE,EAAWptF,KAAKssF,KAAKa,GACjBA,EAAO,IAGXF,IAAO3rF,EAAI8rF,IAAa,EAAIvpE,GACxB,EAAIopE,GAAMA,EAAK,GACjBF,EAAQ3+E,KAAK6+E,GAEfC,IAAO5rF,EAAI8rF,IAAa,EAAIvpE,GACxB,EAAIqpE,GAAMA,EAAK,GACjBH,EAAQ3+E,KAAK8+E,IAGjB,IACEG,EADEjmD,EAAI2lD,EAAQv/E,OAEhB,MAAM8/E,EAAOlmD,EACb,KAAOA,KACL4lD,EAAID,EAAQ3lD,GACZimD,EAAK,EAAIL,EACTrnC,EAAO,GAAGve,GAAKimD,EAAKA,EAAKA,EAAK7jD,EAAK,EAAI6jD,EAAKA,EAAKL,EAAIznD,EAAK,EAAI8nD,EAAKL,EAAIA,EAAIrnD,EAAKqnD,EAAIA,EAAIA,EAAInnD,EAC5F8f,EAAO,GAAGve,GAAKimD,EAAKA,EAAKA,EAAK5jD,EAAK,EAAI4jD,EAAKA,EAAKL,EAAIvnD,EAAK,EAAI4nD,EAAKL,EAAIA,EAAIpnD,EAAKonD,EAAIA,EAAIA,EAAIlnD,EAO9F,OALA6f,EAAO,GAAG2nC,GAAQ9jD,EAClBmc,EAAO,GAAG2nC,GAAQ7jD,EAClBkc,EAAO,GAAG2nC,EAAO,GAAKznD,EACtB8f,EAAO,GAAG2nC,EAAO,GAAKxnD,EACtB6f,EAAO,GAAGn4C,OAASm4C,EAAO,GAAGn4C,OAAS8/E,EAAO,EACtC,CAACttF,KAAKG,OAAOwlD,EAAO,IAAK3lD,KAAKG,OAAOwlD,EAAO,IAAK3lD,KAAKE,OAAOylD,EAAO,IAAK3lD,KAAKE,OAAOylD,EAAO,IACrG,EAsCF,SAASp/B,EAAcgnE,GACrB,MAAoB,iBAANA,QAAoCrrE,IAAlBqrE,GAAGrmE,UACrC,CAgBA,MAAMyF,EACJ,KAAW,EACX,WAAA5mB,GACE5D,KAAK2oB,QAAU,IAAIQ,SAAQ,CAACC,EAASkB,KACnCtqB,KAAKopB,QAAUtoB,IACbd,MAAK,IAAW,EAChBopB,EAAQtoB,EAAK,EAEfd,KAAKsqB,OAAS6H,IACZnyB,MAAK,IAAW,EAChBsqB,EAAO6H,EAAO,CACf,GAEL,CACA,WAAIiK,GACF,OAAOp8B,MAAK,EACd,EAEF,IAAIqrF,EAAiB,KACjBC,EAAmB,KACvB,SAAS3I,EAAiBx9E,GAKxB,OAJKkmF,IACHA,EAAiB,2UACjBC,EAAmB,IAAIj7E,IAAI,CAAC,CAAC,IAAK,SAE7BlL,EAAIqQ,WAAW61E,GAAgB,CAACE,EAAG9oD,EAAIC,IACrCD,EAAKA,EAAG+oD,UAAU,QAAUF,EAAiBh7E,IAAIoyB,IAE5D,CACA,SAASslC,IACP,GAAsB,oBAAXyjB,QAAwD,mBAAvBA,QAAQC,WAClD,OAAOD,OAAOC,aAEhB,MAAMC,EAAM,IAAI7mE,WAAW,IAC3B,GAAsB,oBAAX2mE,QAA6D,mBAA5BA,QAAQG,gBAClDH,OAAOG,gBAAgBD,QAEvB,IAAK,IAAIpvE,EAAI,EAAGA,EAAI,GAAIA,IACtBovE,EAAIpvE,GAAK1e,KAAKC,MAAsB,IAAhBD,KAAKguF,UAG7B,OAAO7Y,EAAc2Y,EACvB,CACA,MAAMtxE,EAAmB,oBAGlB,GAKMyxE,EAA2B,CAAC,EAGhC,SAAS,EAAoBC,GAE5B,IAAIC,EAAeF,EAAyBC,GAC5C,QAAqBhsE,IAAjBisE,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASJ,EAAyBC,GAAY,CAGjDE,QAAS,CAAC,GAOX,OAHAhvF,EAAoB8uF,GAAUG,EAAQA,EAAOD,QAAS,GAG/CC,EAAOD,OACf,CAKKE,EAAkC,mBAAX5R,OAAwBA,OAAO,kBAAoB,qBAC1E6R,EAAmC,mBAAX7R,OAAwBA,OAAO,mBAAqB,sBAC5E8R,EAAiC,mBAAX9R,OAAwBA,OAAO,iBAAmB,oBACxE+R,EAAgBC,IAChBA,GAASA,EAAMpvF,EAAI,IACrBovF,EAAMpvF,EAAI,EACVovF,EAAMC,SAASC,GAAQA,EAAGvtF,MAC1BqtF,EAAMC,SAASC,GAAQA,EAAGvtF,IAAMutF,EAAGvtF,IAAMutF,MAC1C,EAyBD,EAAoB/qE,EAAI,CAACwqE,EAAQ5jC,EAAMokC,KACtC,IAAIH,EACJG,KAAcH,EAAQ,IAAIpvF,GAAK,GAC/B,IAEIwvF,EACAC,EACAtiE,EAJAuiE,EAAY,IAAI/7E,IAChBm7E,EAAUC,EAAOD,QAIjBtjE,EAAU,IAAIQ,SAAQ,CAACC,EAAS0jE,KACnCxiE,EAASwiE,EACTF,EAAexjE,CAAO,IAEvBT,EAAQyjE,GAAkBH,EAC1BtjE,EAAQwjE,GAAkBM,IAAQF,GAASE,EAAGF,GAAQM,EAAUL,QAAQC,GAAK9jE,EAAe,OAAEvqB,SAC9F8tF,EAAOD,QAAUtjE,EACjB2/B,GAAMykC,IAEL,IAAIN,EADJE,EAvCa,CAACI,GAAUA,EAAKztF,KAAK0tF,IACnC,GAAW,OAARA,GAA+B,iBAARA,EAAkB,CAC3C,GAAGA,EAAIb,GAAgB,OAAOa,EAC9B,GAAGA,EAAI9pE,KAAM,CACZ,IAAIqpE,EAAQ,GACZA,EAAMpvF,EAAI,EACV6vF,EAAI9pE,MAAMhkB,IACTqhB,EAAI6rE,GAAkBltF,EACtBotF,EAAaC,EAAM,IAChB5xE,IACH4F,EAAI8rE,GAAgB1xE,EACpB2xE,EAAaC,EAAM,IAEpB,IAAIhsE,EAAM,CAAC,EAEX,OADAA,EAAI4rE,GAAkBM,GAAQA,EAAGF,GAC1BhsE,CACR,CACD,CACA,IAAI0sE,EAAM,CAAC,EAGX,OAFAA,EAAId,GAAiB/tF,MACrB6uF,EAAIb,GAAkBY,EACfC,CAAG,IAkBKC,CAASH,GAEvB,IAAII,EAAY,IAAOR,EAAYrtF,KAAKnC,IACvC,GAAGA,EAAEkvF,GAAe,MAAMlvF,EAAEkvF,GAC5B,OAAOlvF,EAAEivF,EAAe,IAErBzjE,EAAU,IAAIQ,SAASC,KAC1BqjE,EAAK,IAAOrjE,EAAQ+jE,IACjBjuF,EAAI,EACP,IAAIkuF,EAAW3nD,GAAOA,IAAM8mD,IAAUM,EAAU1/E,IAAIs4B,KAAOonD,EAAU5mF,IAAIw/B,GAAIA,IAAMA,EAAEtoC,IAAMsvF,EAAGvtF,IAAKumC,EAAEx5B,KAAKwgF,KAC1GE,EAAYrtF,KAAK0tF,GAASA,EAAIb,GAAeiB,IAAU,IAExD,OAAOX,EAAGvtF,EAAIypB,EAAUwkE,GAAW,IAChCE,IAAUA,EAAM/iE,EAAO3B,EAAQ0jE,GAAgBgB,GAAOT,EAAaX,GAAWK,EAAaC,MAC/FA,GAASA,EAAMpvF,EAAI,IAAMovF,EAAMpvF,EAAI,EAAE,EAOtC,EAAoBA,EAAI,CAAC8uF,EAASqB,KACjC,IAAI,IAAIv4E,KAAOu4E,EACX,EAAoBC,EAAED,EAAYv4E,KAAS,EAAoBw4E,EAAEtB,EAASl3E,IAC5ExK,OAAO++E,eAAe2C,EAASl3E,EAAK,CAAEw0E,YAAY,EAAMj5E,IAAKg9E,EAAWv4E,IAE1E,EAMD,EAAoBw4E,EAAI,CAAChtE,EAAKqzD,IAAUrpE,OAAOuO,UAAUigB,eAAe/f,KAAKuH,EAAKqzD,GAQnF,IAAI,EAAsB,EAAoB,KAE1C4Z,GADJ,EAAsB1mE,WAAW2mE,eAAiB,GACUz4D,eACxD04D,EAA2C,EAAoBx+B,sBAC/Dy+B,EAAgD,EAAoBx8B,2BACpEy8B,EAA0C,EAAoB7wE,qBAC9D8wE,EAA+C,EAAoB79B,0BACnE89B,EAAqC,EAAoB1wF,gBACzD2wF,EAAoC,EAAoBv9D,eACxDw9D,EAAyC,EAAoB7uD,oBAC7D8uD,EAAmC,EAAoBtvE,cACvDuvE,EAAiC,EAAoB97E,YACrD+7E,EAAyC,EAAoBjmE,oBAC7DkmE,EAA+B,EAAoBr/C,UACnDs/C,EAAyC,EAAoB7zD,oBAC7D8zD,EAAyC,EAAoB7zD,oBAC7D8zD,EAAyB,EAAoBx4C,IAC7Cy4C,EAA2C,EAAoB1sE,sBAC/D2sE,EAAmC,EAAoBl0E,cACvDm0E,EAA+B,EAAoB3sE,UACnD4sE,EAAuC,EAAoBrM,kBAC3DsM,EAAoC,EAAoBrM,eACxDsM,EAAmC,EAAoB37C,cACvD47C,EAAuC,EAAoBtkE,kBAC3DukE,EAAiD,EAAoBl6D,4BACrEm6D,EAAiD,EAAoBt0D,4BACrEu0D,EAA0B,EAAoBvoF,KAC9CwoF,EAAoC,EAAoB1M,eACxD2M,EAA8B,EAAoBzzE,SAClD0zE,EAA2B,EAAoBptE,MAC/CqtE,EAA4C,EAAoB3M,uBAChE4M,EAAiC,EAAoBrtE,YACrDstE,EAAwC,EAAoB1xE,mBAC5D2xE,EAA2C,EAAoB9nC,sBAC/D+nC,EAAwC,EAAoB7nC,mBAC5D8nC,EAAkC,EAAoB5pE,aACtD6pE,EAA+B,EAAoB9nC,UACnD+nC,EAAmC,EAAoB9nC,cACvD+nC,EAAsC,EAAoBlN,iBAC1DmN,EAAqC,EAAoBnU,gBACzDoU,EAAwC,EAAoBvxE,mBAC5DwxE,EAA4B,EAAoBnnF,OAChDonF,EAAqC,EAAoBrU,gBACzDsU,EAA6B,EAAoBhuE,4BArIrD,IACKiqE,EACAC,EACAC,EACAC","sources":["webpack://swh/./node_modules/pdfjs-dist/build/pdf.mjs"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/******/ var __webpack_modules__ = ({\n\n/***/ 640:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayer: () => (/* binding */ AnnotationLayer),\n  FreeTextAnnotationElement: () => (/* binding */ FreeTextAnnotationElement),\n  InkAnnotationElement: () => (/* binding */ InkAnnotationElement),\n  StampAnnotationElement: () => (/* binding */ StampAnnotationElement)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(266);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(473);\n// EXTERNAL MODULE: ./src/display/annotation_storage.js\nvar annotation_storage = __webpack_require__(780);\n;// CONCATENATED MODULE: ./src/shared/scripting_utils.js\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n  static T_HTML() {\n    return \"#00000000\";\n  }\n  static T_rgb() {\n    return [null];\n  }\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n  static CMYK_rgb([c, y, m, k]) {\n    return [scaleAndClamp(1 - Math.min(1, c + k)), scaleAndClamp(1 - Math.min(1, m + k)), scaleAndClamp(1 - Math.min(1, y + k))];\n  }\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/xfa_layer.js\nvar xfa_layer = __webpack_require__(160);\n;// CONCATENATED MODULE: ./src/display/annotation_layer.js\n\n\n\n\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\nfunction getRectDims(rect) {\n  return {\n    width: rect[2] - rect[0],\n    height: rect[3] - rect[1]\n  };\n}\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n    switch (subtype) {\n      case util.AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n      case util.AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n      case util.AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n      case util.AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n      case util.AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n      case util.AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n      case util.AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n      case util.AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n      case util.AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n      case util.AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n      case util.AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n      case util.AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n      case util.AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n      case util.AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n      case util.AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n      case util.AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n      case util.AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n      case util.AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\nclass AnnotationElement {\n  #hasBorder = false;\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n  static _hasPopupData({\n    titleObj,\n    contentsObj,\n    richText\n  }) {\n    return !!(titleObj?.str || contentsObj?.str || richText?.str);\n  }\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data);\n  }\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: {\n        page,\n        viewport\n      }\n    } = this;\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement)) {\n      container.tabIndex = DEFAULT_TAB_INDEX;\n    }\n    container.style.zIndex = this.parent.zIndex++;\n    if (this.data.popupRef) {\n      container.setAttribute(\"aria-haspopup\", \"dialog\");\n    }\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const {\n        rotation\n      } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const rect = util.Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      container.style.borderWidth = `${data.borderStyle.width}px`;\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--scale-factor)) / calc(${verticalRadius}px * var(--scale-factor))`;\n        container.style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--scale-factor)) / calc(${height}px * var(--scale-factor))`;\n        container.style.borderRadius = radius;\n      }\n      switch (data.borderStyle.style) {\n        case util.AnnotationBorderStyleType.SOLID:\n          container.style.borderStyle = \"solid\";\n          break;\n        case util.AnnotationBorderStyleType.DASHED:\n          container.style.borderStyle = \"dashed\";\n          break;\n        case util.AnnotationBorderStyleType.BEVELED:\n          (0,util.warn)(\"Unimplemented border style: beveled\");\n          break;\n        case util.AnnotationBorderStyleType.INSET:\n          (0,util.warn)(\"Unimplemented border style: inset\");\n          break;\n        case util.AnnotationBorderStyleType.UNDERLINE:\n          container.style.borderBottomStyle = \"solid\";\n          break;\n        default:\n          break;\n      }\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        container.style.borderColor = util.Util.makeHexColor(borderColor[0] | 0, borderColor[1] | 0, borderColor[2] | 0);\n      } else {\n        container.style.borderWidth = 0;\n      }\n    }\n    container.style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    container.style.top = `${100 * (rect[1] - pageY) / pageHeight}%`;\n    const {\n      rotation\n    } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      container.style.width = `${100 * width / pageWidth}%`;\n      container.style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n    return container;\n  }\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const {\n      pageWidth,\n      pageHeight\n    } = this.parent.viewport.rawDims;\n    const {\n      width,\n      height\n    } = getRectDims(this.data.rect);\n    let elementWidth, elementHeight;\n    if (angle % 180 === 0) {\n      elementWidth = 100 * width / pageWidth;\n      elementHeight = 100 * height / pageHeight;\n    } else {\n      elementWidth = 100 * height / pageWidth;\n      elementHeight = 100 * width / pageHeight;\n    }\n    container.style.width = `${elementWidth}%`;\n    container.style.height = `${elementHeight}%`;\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] = ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray)\n      });\n    };\n    return (0,util.shadow)(this, \"_commonActions\", {\n      display: event => {\n        const {\n          display\n        } = event.detail;\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print\n        });\n      },\n      hidden: event => {\n        const {\n          hidden\n        } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({\n          preventScroll: false\n        }), 0);\n      },\n      userName: event => {\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle\n        });\n      }\n    });\n  }\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail\n          },\n          target: element\n        };\n        action(eventProxy);\n        delete storedData[actionName];\n      }\n    }\n  }\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const {\n      quadPoints\n    } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect;\n    if (quadPoints.length === 1) {\n      const [, {\n        x: trX,\n        y: trY\n      }, {\n        x: blX,\n        y: blY\n      }] = quadPoints[0];\n      if (rectTrX === trX && rectTrY === trY && rectBlX === blX && rectBlY === blY) {\n        return;\n      }\n    }\n    const {\n      style\n    } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const {\n        borderColor,\n        borderWidth\n      } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\"url('data:image/svg+xml;utf8,\", `<svg xmlns=\"http://www.w3.org/2000/svg\"`, ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`, `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`];\n      this.container.classList.add(\"hasBorder\");\n    }\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n    const {\n      svgFactory\n    } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n    for (const [, {\n      x: trX,\n      y: trY\n    }, {\n      x: blX,\n      y: blY\n    }] of quadPoints) {\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(`<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`);\n    }\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n  _createPopup() {\n    const {\n      container,\n      data\n    } = this;\n    container.setAttribute(\"aria-haspopup\", \"dialog\");\n    const popup = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate: data.modificationDate,\n        contentsObj: data.contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation\n      },\n      parent: this.parent,\n      elements: [this]\n    });\n    this.parent.div.append(popup.render());\n  }\n  render() {\n    (0,util.unreachable)(\"Abstract method `AnnotationElement.render` called\");\n  }\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const {\n          page,\n          id,\n          exportValues\n        } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n          const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            (0,util.warn)(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({\n            id,\n            exportValue,\n            domElement\n          });\n        }\n      }\n      return fields;\n    }\n    for (const domElement of document.getElementsByName(name)) {\n      const {\n        exportValue\n      } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({\n        id,\n        exportValue,\n        domElement\n      });\n    }\n    return fields;\n  }\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n  get _isEditable() {\n    return false;\n  }\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: {\n        id: editId\n      }\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId\n      });\n    });\n  }\n}\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(link, data.attachment, data.attachmentDest);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n      isBound = true;\n    } else {\n      if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.container.append(link);\n    }\n    return this.container;\n  }\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === \"\") {\n      this.#setInternalLink();\n    }\n  }\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindAttachment(link, attachment, dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(attachment.content, attachment.filename, dest);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindSetOCGState(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n    if (!this._fieldObjects) {\n      (0,util.warn)(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n    link.onclick = () => {\n      otherClickAction?.();\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include\n      } = resetForm;\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const {\n            id\n          } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const {\n          id\n        } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"checkbox\":\n          case \"radiobutton\":\n            {\n              const value = field.defaultValue === field.exportValues;\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"combobox\":\n          case \"listbox\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          default:\n            continue;\n        }\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          (0,util.warn)(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n      if (this.enableScripting) {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\"\n          }\n        });\n      }\n      return false;\n    };\n  }\n}\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n    const image = document.createElement(\"img\");\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\"data-l10n-args\", JSON.stringify({\n      type: this.data.name\n    }));\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.append(image);\n    return this.container;\n  }\n}\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    if (this.data.alternativeText) {\n      this.container.title = this.data.alternativeText;\n    }\n    return this.container;\n  }\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n  _getKeyModifier(event) {\n    return util.FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n        if (!valueGetter) {\n          return;\n        }\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event)\n          }\n        });\n      });\n    }\n  }\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= {\n            focused: false\n          };\n        }\n        this._setEventListener(element, elementData, baseName, eventName, getter);\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor = color === null ? \"transparent\" : util.Util.makeHexColor(color[0], color[1], color[2]);\n  }\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const fontSize = this.data.defaultAppearanceData.fontSize || DEFAULT_FONT_SIZE;\n    const style = element.style;\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      const numberOfLines = Math.round(height / (util.LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(lineHeight / util.LINE_FACTOR));\n    } else {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(height / util.LINE_FACTOR));\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--scale-factor))`;\n    style.color = util.Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderForms || parameters.data.hasOwnCanvas || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(base.name, base.id)) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, {\n        [keyInStorage]: value\n      });\n    }\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.classList.add(\"textWidgetAnnotation\");\n    let element = null;\n    if (this.renderForms) {\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n      let fieldFormattedValues = storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false\n      };\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      element.setAttribute(\"data-element-id\", id);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n      this._setRequired(element, this.data.required);\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n        this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n        elementData.formattedValue = null;\n      });\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n      let blurListener = event => {\n        const {\n          formattedValue\n        } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        event.target.scrollLeft = 0;\n      };\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const {\n            target\n          } = event;\n          if (elementData.userValue) {\n            target.value = elementData.userValue;\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          elementData.focused = true;\n        });\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              storage.setValue(id, {\n                value: elementData.userValue.toString()\n              });\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const {\n                formattedValue\n              } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (formattedValue !== null && formattedValue !== undefined && event.target !== document.activeElement) {\n                event.target.value = formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue\n              });\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const {\n                charLimit\n              } = event.detail;\n              const {\n                target\n              } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, {\n                value\n              });\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd\n                }\n              });\n            }\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const {\n            value\n          } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd\n            }\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n          const {\n            value\n          } = event.target;\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          }\n          _blurListener(event);\n        });\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const {\n              data,\n              target\n            } = event;\n            const {\n              value,\n              selectionStart,\n              selectionEnd\n            } = target;\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n            switch (event.inputType) {\n              case \"deleteWordBackward\":\n                {\n                  const match = value.substring(0, selectionStart).match(/\\w*[^\\w]*$/);\n                  if (match) {\n                    selStart -= match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteWordForward\":\n                {\n                  const match = value.substring(selectionStart).match(/^[^\\w]*\\w*/);\n                  if (match) {\n                    selEnd += match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd\n              }\n            });\n          });\n        }\n        this._setEventListeners(element, elementData, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n      }\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: !!parameters.data.hasOwnCanvas\n    });\n  }\n}\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== \"Off\";\n      storage.setValue(id, {\n        value\n      });\n    }\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const checkbox of this._getElementsByName(name, id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, {\n          value: curChecked\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== data.buttonValue;\n      storage.setValue(id, {\n        value\n      });\n    }\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const radio of this._getElementsByName(name, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, {\n                value: curChecked\n              });\n            }\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      ignoreBorder: parameters.data.hasAppearance\n    });\n  }\n  render() {\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n    if (this.data.alternativeText) {\n      container.title = this.data.alternativeText;\n    }\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n    return container;\n  }\n}\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue\n    });\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const {\n        options,\n        multiple\n      } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n    };\n    let selectedValues = getValue(false);\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => {\n        return {\n          displayValue: option.textContent,\n          exportValue: option.value\n        };\n      });\n    };\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(options, option => option.selected);\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, {\n              value: null,\n              items: []\n            });\n            selectedValues = getValue(false);\n          },\n          insert(event) {\n            const {\n              index,\n              displayValue,\n              exportValue\n            } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          items(event) {\n            const {\n              items\n            } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const {\n                displayValue,\n                exportValue\n              } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(true);\n        storage.setValue(id, {\n          value: exportValue\n        });\n        event.preventDefault();\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n      this._setEventListeners(selectElement, null, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"], [\"input\", \"Validate\"]], event => event.target.value);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(true)\n        });\n      });\n    }\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {}\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const {\n      data,\n      elements\n    } = parameters;\n    super(parameters, {\n      isRenderable: AnnotationElement._hasPopupData(data)\n    });\n    this.elements = elements;\n  }\n  render() {\n    this.container.classList.add(\"popupAnnotation\");\n    const popup = new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open\n    });\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n    this.container.setAttribute(\"aria-controls\", elementIds.map(id => `${util.AnnotationPrefix}${id}`).join(\",\"));\n    return this.container;\n  }\n}\nclass PopupElement {\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundHide = this.#hide.bind(this);\n  #boundShow = this.#show.bind(this);\n  #boundToggle = this.#toggle.bind(this);\n  #color = null;\n  #container = null;\n  #contentsObj = null;\n  #dateObj = null;\n  #elements = null;\n  #parent = null;\n  #parentRect = null;\n  #pinned = false;\n  #popup = null;\n  #rect = null;\n  #richText = null;\n  #titleObj = null;\n  #wasVisible = false;\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n    this.#dateObj = display_utils.PDFDateString.toDateObject(modificationDate);\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle);\n      element.addEventListener(\"mouseenter\", this.#boundShow);\n      element.addEventListener(\"mouseleave\", this.#boundHide);\n      element.classList.add(\"popupTriggerArea\");\n    }\n    for (const element of elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown);\n    }\n    this.#container.hidden = true;\n    if (open) {\n      this.#toggle();\n    }\n  }\n  render() {\n    if (this.#popup) {\n      return;\n    }\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.#parent;\n    const popup = this.#popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    if (this.#color) {\n      const baseColor = popup.style.outlineColor = util.Util.makeHexColor(...this.#color);\n      if (CSS.supports(\"background-color\", \"color-mix(in srgb, red 30%, white)\")) {\n        popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n      } else {\n        const BACKGROUND_ENLIGHT = 0.7;\n        popup.style.backgroundColor = util.Util.makeHexColor(...this.#color.map(c => Math.floor(BACKGROUND_ENLIGHT * (255 - c) + c)));\n      }\n    }\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    const title = document.createElement(\"h1\");\n    header.append(title);\n    ({\n      dir: title.dir,\n      str: title.textContent\n    } = this.#titleObj);\n    popup.append(header);\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.classList.add(\"popupDate\");\n      modificationDate.setAttribute(\"data-l10n-id\", \"pdfjs-annotation-date-string\");\n      modificationDate.setAttribute(\"data-l10n-args\", JSON.stringify({\n        date: this.#dateObj.toLocaleDateString(),\n        time: this.#dateObj.toLocaleTimeString()\n      }));\n      header.append(modificationDate);\n    }\n    const contentsObj = this.#contentsObj;\n    const richText = this.#richText;\n    if (richText?.str && (!contentsObj?.str || contentsObj.str === richText.str)) {\n      xfa_layer.XfaLayer.render({\n        xfaHtml: richText.html,\n        intent: \"richText\",\n        div: popup\n      });\n      popup.lastChild.classList.add(\"richText\", \"popupContent\");\n    } else {\n      const contents = this._formatContents(contentsObj);\n      popup.append(contents);\n    }\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || util.Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n    const normalizedRect = util.Util.normalizeRect([rect[0], view[3] - rect[1] + view[1], rect[2], view[3] - rect[3] + view[1]]);\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    const {\n      style\n    } = this.#container;\n    style.left = `${100 * (popupLeft - pageX) / pageWidth}%`;\n    style.top = `${100 * (popupTop - pageY) / pageHeight}%`;\n    this.#container.append(popup);\n  }\n  _formatContents({\n    str,\n    dir\n  }) {\n    const p = document.createElement(\"p\");\n    p.classList.add(\"popupContent\");\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n    if (event.key === \"Enter\" || event.key === \"Escape\" && this.#pinned) {\n      this.#toggle();\n    }\n  }\n  #toggle() {\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#container.hidden = false;\n      this.#container.style.zIndex = parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex = parseInt(this.#container.style.zIndex) - 1000;\n  }\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n  maybeShow() {\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n  get isVisible() {\n    return this.#container.hidden === false;\n  }\n}\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = util.AnnotationEditorType.FREETEXT;\n  }\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n    if (this.textContent) {\n      const content = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n  get _isEditable() {\n    return this.data.hasOwnCanvas;\n  }\n}\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const line = this.#line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.append(line);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const square = this.#square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n    svg.append(square);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.#circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n    svg.append(circle);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n    const polyline = this.#polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n    svg.append(polyline);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass InkAnnotationElement extends AnnotationElement {\n  #polylines = [];\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n    this.annotationEditorType = util.AnnotationEditorType.INK;\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    for (const inkList of data.inkLists) {\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", points);\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"transparent\");\n      if (!data.popupRef && this.hasPopupData) {\n        this._createPopup();\n      }\n      svg.append(polyline);\n    }\n    this.container.append(svg);\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"highlightAnnotation\");\n    return this.container;\n  }\n}\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"underlineAnnotation\");\n    return this.container;\n  }\n}\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"squigglyAnnotation\");\n    return this.container;\n  }\n}\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"strikeoutAnnotation\");\n    return this.container;\n  }\n}\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      filename,\n      content\n    } = this.data.file;\n    this.filename = (0,display_utils.getFilenameFromUrl)(filename, true);\n    this.content = content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      filename,\n      content\n    });\n  }\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n    const {\n      container,\n      data\n    } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${/paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"}.svg`;\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(data.fillAlpha * 100)}%);`;\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n    container.append(trigger);\n    return container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\nclass AnnotationLayer {\n  #accessibilityManager = null;\n  #annotationCanvasMap = null;\n  #editableAnnotations = new Map();\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    page,\n    viewport\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n  }\n  #appendElement(element, id) {\n    const contentElement = element.firstChild || element;\n    contentElement.id = `${util.AnnotationPrefix}${id}`;\n    this.div.append(element);\n    this.#accessibilityManager?.moveElementInDOM(this.div, element, contentElement, false);\n  }\n  async render(params) {\n    const {\n      annotations\n    } = params;\n    const layer = this.div;\n    (0,display_utils.setLayerDimensions)(layer, this.viewport);\n    const popupToElements = new Map();\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: params.linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new display_utils.DOMSVGFactory(),\n      annotationStorage: params.annotationStorage || new annotation_storage.AnnotationStorage(),\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null\n    };\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === util.AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        const {\n          width,\n          height\n        } = getRectDims(data.rect);\n        if (width <= 0 || height <= 0) {\n          continue;\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      if (!isPopupAnnotation && data.popupRef) {\n        const elements = popupToElements.get(data.popupRef);\n        if (!elements) {\n          popupToElements.set(data.popupRef, [element]);\n        } else {\n          elements.push(element);\n        }\n      }\n      if (element.annotationEditorType > 0) {\n        this.#editableAnnotations.set(element.data.id, element);\n      }\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      this.#appendElement(rendered, data.id);\n    }\n    this.#setAnnotationCanvasMap();\n  }\n  update({\n    viewport\n  }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(layer, {\n      rotation: viewport.rotation\n    });\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n      const {\n        firstChild\n      } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else {\n        firstChild.before(canvas);\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n}\n\n\n/***/ }),\n\n/***/ 780:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationStorage: () => (/* binding */ AnnotationStorage),\n/* harmony export */   PrintAnnotationStorage: () => (/* binding */ PrintAnnotationStorage),\n/* harmony export */   SerializableEmpty: () => (/* binding */ SerializableEmpty)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n/* harmony import */ var _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(682);\n/* harmony import */ var _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(825);\n\n\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined\n});\nclass AnnotationStorage {\n  #modified = false;\n  #storage = new Map();\n  constructor() {\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n    return Object.assign(defaultValue, value);\n  }\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n  remove(key) {\n    this.#storage.delete(key);\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n    if (value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor && typeof this.onAnnotationEditor === \"function\") {\n      this.onAnnotationEditor(value.constructor._type);\n    }\n  }\n  has(key) {\n    return this.#storage.has(key);\n  }\n  getAll() {\n    return this.#storage.size > 0 ? (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#storage) : null;\n  }\n  setAll(obj) {\n    for (const [key, val] of Object.entries(obj)) {\n      this.setValue(key, val);\n    }\n  }\n  get size() {\n    return this.#storage.size;\n  }\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__.MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n    for (const [key, val] of this.#storage) {\n      const serialized = val instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor ? val.serialize(false, context) : val;\n      if (serialized) {\n        map.set(key, serialized);\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n    if (hasBitmap) {\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n    return map.size > 0 ? {\n      map,\n      hash: hash.hexdigest(),\n      transfer\n    } : SerializableEmpty;\n  }\n}\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n  constructor(parent) {\n    super();\n    const {\n      map,\n      hash,\n      transfer\n    } = parent.serializable;\n    const clone = structuredClone(map, transfer ? {\n      transfer\n    } : null);\n    this.#serializable = {\n      map: clone,\n      hash,\n      transfer\n    };\n  }\n  get print() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Should not call PrintAnnotationStorage.print\");\n  }\n  get serializable() {\n    return this.#serializable;\n  }\n}\n\n\n/***/ }),\n\n/***/ 406:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFDataRangeTransport: () => (/* binding */ PDFDataRangeTransport),\n/* harmony export */   PDFWorker: () => (/* binding */ PDFWorker),\n/* harmony export */   build: () => (/* binding */ build),\n/* harmony export */   getDocument: () => (/* binding */ getDocument),\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/* unused harmony exports DefaultCanvasFactory, DefaultCMapReaderFactory, DefaultFilterFactory, DefaultStandardFontDataFactory, LoopbackPort, PDFDocumentLoadingTask, PDFDocumentProxy, PDFPageProxy, PDFWorkerUtil, RenderTask */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n/* harmony import */ var _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(780);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(473);\n/* harmony import */ var _font_loader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(742);\n/* harmony import */ var display_node_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(738);\n/* harmony import */ var _canvas_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(250);\n/* harmony import */ var _worker_options_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(368);\n/* harmony import */ var _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(694);\n/* harmony import */ var _metadata_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(472);\n/* harmony import */ var _optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(890);\n/* harmony import */ var _transport_stream_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(92);\n/* harmony import */ var display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(171);\n/* harmony import */ var display_network__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(474);\n/* harmony import */ var display_node_stream__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(498);\n/* harmony import */ var _xfa_text_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(521);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([display_node_utils__WEBPACK_IMPORTED_MODULE_4__, display_node_stream__WEBPACK_IMPORTED_MODULE_13__]);\n([display_node_utils__WEBPACK_IMPORTED_MODULE_4__, display_node_stream__WEBPACK_IMPORTED_MODULE_13__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536;\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nconst DELAYED_CLEANUP_TIMEOUT = 5000;\nconst DefaultCanvasFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeCanvasFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCanvasFactory;\nconst DefaultCMapReaderFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeCMapReaderFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCMapReaderFactory;\nconst DefaultFilterFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeFilterFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMFilterFactory;\nconst DefaultStandardFontDataFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeStandardFontDataFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMStandardFontDataFactory;\nfunction getDocument(src) {\n  if (typeof src === \"string\" || src instanceof URL) {\n    src = {\n      url: src\n    };\n  } else if ((0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isArrayBuffer)(src)) {\n    src = {\n      data: src\n    };\n  }\n  if (typeof src !== \"object\") {\n    throw new Error(\"Invalid parameter in getDocument, need parameter object.\");\n  }\n  if (!src.url && !src.data && !src.range) {\n    throw new Error(\"Invalid parameter object: need either .data, .range or .url\");\n  }\n  const task = new PDFDocumentLoadingTask();\n  const {\n    docId\n  } = task;\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport = src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize = Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0 ? src.rangeChunkSize : DEFAULT_RANGE_CHUNK_SIZE;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  const docBaseUrl = typeof src.docBaseUrl === \"string\" && !(0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isDataScheme)(src.docBaseUrl) ? src.docBaseUrl : null;\n  const cMapUrl = typeof src.cMapUrl === \"string\" ? src.cMapUrl : null;\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || DefaultCMapReaderFactory;\n  const standardFontDataUrl = typeof src.standardFontDataUrl === \"string\" ? src.standardFontDataUrl : null;\n  const StandardFontDataFactory = src.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize = Number.isInteger(src.maxImageSize) && src.maxImageSize > -1 ? src.maxImageSize : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported = typeof src.isOffscreenCanvasSupported === \"boolean\" ? src.isOffscreenCanvasSupported : !_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS;\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes) ? src.canvasMaxAreaInBytes : -1;\n  const disableFontFace = typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const length = rangeTransport ? rangeTransport.length : src.length ?? NaN;\n  const useSystemFonts = typeof src.useSystemFonts === \"boolean\" ? src.useSystemFonts : !_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && !disableFontFace;\n  const useWorkerFetch = typeof src.useWorkerFetch === \"boolean\" ? src.useWorkerFetch : CMapReaderFactory === _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCMapReaderFactory && StandardFontDataFactory === _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMStandardFontDataFactory && cMapUrl && standardFontDataUrl && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(cMapUrl, document.baseURI) && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(standardFontDataUrl, document.baseURI);\n  const canvasFactory = src.canvasFactory || new DefaultCanvasFactory({\n    ownerDocument\n  });\n  const filterFactory = src.filterFactory || new DefaultFilterFactory({\n    docId,\n    ownerDocument\n  });\n  const styleElement = null;\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.setVerbosityLevel)(verbosity);\n  const transportFactory = {\n    canvasFactory,\n    filterFactory\n  };\n  if (!useWorkerFetch) {\n    transportFactory.cMapReaderFactory = new CMapReaderFactory({\n      baseUrl: cMapUrl,\n      isCompressed: cMapPacked\n    });\n    transportFactory.standardFontDataFactory = new StandardFontDataFactory({\n      baseUrl: standardFontDataUrl\n    });\n  }\n  if (!worker) {\n    const workerParams = {\n      verbosity,\n      port: _worker_options_js__WEBPACK_IMPORTED_MODULE_6__.GlobalWorkerOptions.workerPort\n    };\n    worker = workerParams.port ? PDFWorker.fromPort(workerParams) : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const fetchDocParams = {\n    docId,\n    apiVersion: '4.0.189',\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      cMapUrl: useWorkerFetch ? cMapUrl : null,\n      standardFontDataUrl: useWorkerFetch ? standardFontDataUrl : null\n    }\n  };\n  const transportParams = {\n    ignoreErrors,\n    isEvalSupported,\n    disableFontFace,\n    fontExtraProperties,\n    enableXfa,\n    ownerDocument,\n    disableAutoFetch,\n    pdfBug,\n    styleElement\n  };\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n    const workerIdPromise = _fetchDocument(worker, fetchDocParams);\n    const networkStreamPromise = new Promise(function (resolve) {\n      let networkStream;\n      if (rangeTransport) {\n        networkStream = new _transport_stream_js__WEBPACK_IMPORTED_MODULE_10__.PDFDataTransportStream({\n          length,\n          initialData: rangeTransport.initialData,\n          progressiveDone: rangeTransport.progressiveDone,\n          contentDispositionFilename: rangeTransport.contentDispositionFilename,\n          disableRange,\n          disableStream\n        }, rangeTransport);\n      } else if (!data) {\n        const createPDFNetworkStream = params => {\n          if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n            return new display_node_stream__WEBPACK_IMPORTED_MODULE_13__.PDFNodeStream(params);\n          }\n          return (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(params.url) ? new display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__.PDFFetchStream(params) : new display_network__WEBPACK_IMPORTED_MODULE_12__.PDFNetworkStream(params);\n        };\n        networkStream = createPDFNetworkStream({\n          url,\n          length,\n          httpHeaders,\n          withCredentials,\n          rangeChunkSize,\n          disableRange,\n          disableStream\n        });\n      }\n      resolve(networkStream);\n    });\n    return Promise.all([workerIdPromise, networkStreamPromise]).then(function ([workerId, networkStream]) {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(docId, workerId, worker.port);\n      const transport = new WorkerTransport(messageHandler, task, networkStream, transportParams, transportFactory);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\nasync function _fetchDocument(worker, source) {\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  const workerId = await worker.messageHandler.sendWithPromise(\"GetDocRequest\", source, source.data ? [source.data.buffer] : null);\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  return workerId;\n}\nfunction getUrlProp(val) {\n  if (val instanceof URL) {\n    return val.href;\n  }\n  try {\n    return new URL(val, window.location).href;\n  } catch {\n    if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && typeof val === \"string\") {\n      return val;\n    }\n  }\n  throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n}\nfunction getDataProp(val) {\n  if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && typeof Buffer !== \"undefined\" && val instanceof Buffer) {\n    throw new Error(\"Please provide binary data as `Uint8Array`, rather than `Buffer`.\");\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.stringToBytes)(val);\n  }\n  if (typeof val === \"object\" && !isNaN(val?.length) || (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isArrayBuffer)(val)) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\"Invalid PDF binary data: either TypedArray, \" + \"string, or array-like object is expected in the data property.\");\n}\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n  constructor() {\n    this._capability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._transport = null;\n    this._worker = null;\n    this.docId = `d${PDFDocumentLoadingTask.#docId++}`;\n    this.destroyed = false;\n    this.onPassword = null;\n    this.onProgress = null;\n  }\n  get promise() {\n    return this._capability.promise;\n  }\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n    this._transport = null;\n    if (this._worker) {\n      this._worker.destroy();\n      this._worker = null;\n    }\n  }\n}\nclass PDFDataRangeTransport {\n  constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n  }\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n  requestDataRange(begin, end) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n  abort() {}\n}\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n  get isPureXfa() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n  getOutline() {\n    return this._transport.getOutline();\n  }\n  getOptionalContentConfig() {\n    return this._transport.getOptionalContentConfig();\n  }\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n  getData() {\n    return this._transport.getData();\n  }\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\nclass PDFPageProxy {\n  #delayedCleanupTimeout = null;\n  #pendingCleanup = false;\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this._maybeCleanupAfterRender = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n  get ref() {\n    return this._pageInfo.ref;\n  }\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n  get view() {\n    return this._pageInfo.view;\n  }\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  getAnnotations({\n    intent = \"display\"\n  } = {}) {\n    const intentArgs = this._transport.getRenderingIntent(intent);\n    return this._transport.getAnnotations(this._pageIndex, intentArgs.renderingIntent);\n  }\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get isPureXfa() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null\n  }) {\n    this._stats?.time(\"Overall\");\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage);\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    if (!optionalContentConfigPromise) {\n      optionalContentConfigPromise = this._transport.getOptionalContentConfig();\n    }\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    const intentPrint = !!(intentArgs.renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT);\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n      if (this._maybeCleanupAfterRender || intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup(!intentPrint);\n      if (error) {\n        internalRenderTask.capability.reject(error);\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error)\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      this._stats?.timeEnd(\"Rendering\");\n      this._stats?.timeEnd(\"Overall\");\n    };\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors\n    });\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.destroyed) {\n        complete();\n        return;\n      }\n      this._stats?.time(\"Rendering\");\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE,\n    printAnnotationStorage = null\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, true);\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      includeMarkedContent: includeMarkedContent === true,\n      disableNormalization: disableNormalization === true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n      size(textContent) {\n        return textContent.items.length;\n      }\n    });\n  }\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      return this.getXfa().then(xfa => {\n        return _xfa_text_js__WEBPACK_IMPORTED_MODULE_14__.XfaText.textContent(xfa);\n      });\n    }\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null)\n      };\n      pump();\n    });\n  }\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n  _destroy() {\n    this.destroyed = true;\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n      if (intentState.opListReadCapability) {\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    return Promise.all(waitOn);\n  }\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup(false);\n    if (resetStats && success) {\n      this._stats &&= new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.StatTimer();\n    }\n    return success;\n  }\n  #tryCleanup(delayed = false) {\n    this.#abortDelayedCleanup();\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    if (delayed) {\n      this.#delayedCleanupTimeout = setTimeout(() => {\n        this.#delayedCleanupTimeout = null;\n        this.#tryCleanup(false);\n      }, DELAYED_CLEANUP_TIMEOUT);\n      return false;\n    }\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n  #abortDelayedCleanup() {\n    if (this.#delayedCleanupTimeout) {\n      clearTimeout(this.#delayedCleanupTimeout);\n      this.#delayedCleanupTimeout = null;\n    }\n  }\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return;\n    }\n    this._stats?.timeEnd(\"Page Request\");\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup(true);\n    }\n  }\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable\n  }) {\n    const {\n      map,\n      transfer\n    } = annotationStorageSerializable;\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n      pageIndex: this._pageIndex,\n      intent: renderingIntent,\n      cacheKey,\n      annotationStorage: map\n    }, transfer);\n    const reader = readableStream.getReader();\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n        if (this._transport.destroyed) {\n          return;\n        }\n        this._renderPageChunk(value, intentState);\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n        if (this._transport.destroyed) {\n          return;\n        }\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n          this.#tryCleanup(true);\n        }\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n    pump();\n  }\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    if (!force) {\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      if (reason instanceof _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < 1000) {\n          delay += reason.extraDelay;\n        }\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(reason.message)).catch(() => {});\n    intentState.streamReader = null;\n    if (this._transport.destroyed) {\n      return;\n    }\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    this.cleanup();\n  }\n  get stats() {\n    return this._stats;\n  }\n}\nclass LoopbackPort {\n  #listeners = new Set();\n  #deferred = Promise.resolve();\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? {\n        transfer\n      } : null)\n    };\n    this.#deferred.then(() => {\n      for (const listener of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n  addEventListener(name, listener) {\n    this.#listeners.add(listener);\n  }\n  removeEventListener(name, listener) {\n    this.#listeners.delete(listener);\n  }\n  terminate() {\n    this.#listeners.clear();\n  }\n}\nconst PDFWorkerUtil = {\n  isWorkerDisabled: false,\n  fakeWorkerId: 0\n};\n{\n  if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n    PDFWorkerUtil.isWorkerDisabled = true;\n    _worker_options_js__WEBPACK_IMPORTED_MODULE_6__.GlobalWorkerOptions.workerSrc ||= \"./pdf.worker.mjs\";\n  }\n  PDFWorkerUtil.isSameOrigin = function (baseUrl, otherUrl) {\n    let base;\n    try {\n      base = new URL(baseUrl);\n      if (!base.origin || base.origin === \"null\") {\n        return false;\n      }\n    } catch {\n      return false;\n    }\n    const other = new URL(otherUrl, base);\n    return base.origin === other.origin;\n  };\n  PDFWorkerUtil.createCDNWrapper = function (url) {\n    const wrapper = `await import(\"${url}\");`;\n    return URL.createObjectURL(new Blob([wrapper]));\n  };\n}\nclass PDFWorker {\n  static #workerPorts;\n  constructor({\n    name = null,\n    port = null,\n    verbosity = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.getVerbosityLevel)()\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n    this._readyCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n    if (port) {\n      if (PDFWorker.#workerPorts?.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      (PDFWorker.#workerPorts ||= new WeakMap()).set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n    this._initialize();\n  }\n  get promise() {\n    return this._readyCapability.promise;\n  }\n  get port() {\n    return this._port;\n  }\n  get messageHandler() {\n    return this._messageHandler;\n  }\n  _initializeFromPort(port) {\n    this._port = port;\n    this._messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(\"main\", \"worker\", port);\n    this._messageHandler.on(\"ready\", function () {});\n    this._readyCapability.resolve();\n    this._messageHandler.send(\"configure\", {\n      verbosity: this.verbosity\n    });\n  }\n  _initialize() {\n    if (!PDFWorkerUtil.isWorkerDisabled && !PDFWorker.#mainThreadWorkerMessageHandler) {\n      let {\n        workerSrc\n      } = PDFWorker;\n      try {\n        if (!PDFWorkerUtil.isSameOrigin(window.location.href, workerSrc)) {\n          workerSrc = PDFWorkerUtil.createCDNWrapper(new URL(workerSrc, window.location).href);\n        }\n        const worker = new Worker(workerSrc, {\n          type: \"module\"\n        });\n        const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(\"main\", \"worker\", worker);\n        const terminateEarly = () => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          messageHandler.destroy();\n          worker.terminate();\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          } else {\n            this._setupFakeWorker();\n          }\n        };\n        const onWorkerError = () => {\n          if (!this._webWorker) {\n            terminateEarly();\n          }\n        };\n        worker.addEventListener(\"error\", onWorkerError);\n        messageHandler.on(\"test\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return;\n          }\n          if (data) {\n            this._messageHandler = messageHandler;\n            this._port = worker;\n            this._webWorker = worker;\n            this._readyCapability.resolve();\n            messageHandler.send(\"configure\", {\n              verbosity: this.verbosity\n            });\n          } else {\n            this._setupFakeWorker();\n            messageHandler.destroy();\n            worker.terminate();\n          }\n        });\n        messageHandler.on(\"ready\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return;\n          }\n          try {\n            sendTest();\n          } catch {\n            this._setupFakeWorker();\n          }\n        });\n        const sendTest = () => {\n          const testObj = new Uint8Array();\n          messageHandler.send(\"test\", testObj, [testObj.buffer]);\n        };\n        sendTest();\n        return;\n      } catch {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.info)(\"The worker has been disabled.\");\n      }\n    }\n    this._setupFakeWorker();\n  }\n  _setupFakeWorker() {\n    if (!PDFWorkerUtil.isWorkerDisabled) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"Setting up fake worker.\");\n      PDFWorkerUtil.isWorkerDisabled = true;\n    }\n    PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n      if (this.destroyed) {\n        this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      const port = new LoopbackPort();\n      this._port = port;\n      const id = `fake${PDFWorkerUtil.fakeWorkerId++}`;\n      const workerHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(id + \"_worker\", id, port);\n      WorkerMessageHandler.setup(workerHandler, port);\n      const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(id, id + \"_worker\", port);\n      this._messageHandler = messageHandler;\n      this._readyCapability.resolve();\n      messageHandler.send(\"configure\", {\n        verbosity: this.verbosity\n      });\n    }).catch(reason => {\n      this._readyCapability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n    });\n  }\n  destroy() {\n    this.destroyed = true;\n    if (this._webWorker) {\n      this._webWorker.terminate();\n      this._webWorker = null;\n    }\n    PDFWorker.#workerPorts?.delete(this._port);\n    this._port = null;\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n      this._messageHandler = null;\n    }\n  }\n  static fromPort(params) {\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n    const cachedPort = this.#workerPorts?.get(params.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\"PDFWorker.fromPort - the worker is being destroyed.\\n\" + \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\");\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n  static get workerSrc() {\n    if (_worker_options_js__WEBPACK_IMPORTED_MODULE_6__.GlobalWorkerOptions.workerSrc) {\n      return _worker_options_js__WEBPACK_IMPORTED_MODULE_6__.GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker = await import(/* webpackIgnore: true */ this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nclass WorkerTransport {\n  #methodPromises = new Map();\n  #pageCache = new Map();\n  #pagePromises = new Map();\n  #passwordCapability = null;\n  constructor(messageHandler, loadingTask, networkStream, params, factory) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new _font_loader_js__WEBPACK_IMPORTED_MODULE_3__.FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement\n    });\n    this._params = params;\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this.setupMessageHandler();\n  }\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  get annotationStorage() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"annotationStorage\", new _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationStorage());\n  }\n  getRenderingIntent(intent, annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE, printAnnotationStorage = null, isOpList = false) {\n    let renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.DISPLAY;\n    let annotationStorageSerializable = _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.SerializableEmpty;\n    switch (intent) {\n      case \"any\":\n        renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT;\n        break;\n      default:\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n    switch (annotationMode) {\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.DISABLE:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE:\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE_FORMS:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_STORAGE;\n        const annotationStorage = renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT && printAnnotationStorage instanceof _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.PrintAnnotationStorage ? printAnnotationStorage : this.annotationStorage;\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n    if (isOpList) {\n      renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.OPLIST;\n    }\n    return {\n      renderingIntent,\n      cacheKey: `${renderingIntent}_${annotationStorageSerializable.hash}`,\n      annotationStorageSerializable\n    };\n  }\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n    this.destroyed = true;\n    this.destroyCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this.#passwordCapability?.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    const waitOn = [];\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      this._networkStream?.cancelAllRequests(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"Worker was terminated.\"));\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(value instanceof ArrayBuffer, \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress) {\n            loadingTask.onProgress?.(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            loadingTask.onProgress?.({\n              loaded: evt.loaded,\n              total: evt.total\n            });\n          };\n        }\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength\n        });\n      }, headersCapability.reject);\n      return headersCapability.promise;\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(value instanceof ArrayBuffer, \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(ex.message, ex.details);\n          break;\n        default:\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"DocException - expected a valid Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this.#passwordCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({\n              password\n            });\n          }\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this.#passwordCapability.reject(ex);\n        }\n      } else {\n        this.#passwordCapability.reject(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(exception.message, exception.code));\n      }\n      return this.#passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length\n      });\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return;\n      }\n      if (this.commonObjs.has(id)) {\n        return;\n      }\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n          const inspectFont = params.pdfBug && globalThis.FontInspector?.enabled ? (font, url) => globalThis.FontInspector.fontAdded(font, url) : null;\n          const font = new _font_loader_js__WEBPACK_IMPORTED_MODULE_3__.FontFaceObject(exportedData, {\n            isEvalSupported: params.isEvalSupported,\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            inspectFont\n          });\n          this.fontLoader.bind(font).catch(reason => {\n            return messageHandler.sendWithPromise(\"FontFallback\", {\n              id\n            });\n          }).finally(() => {\n            if (!params.fontExtraProperties && font.data) {\n              font.data = null;\n            }\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n        case \"FontPath\":\n        case \"Image\":\n        case \"Pattern\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n    });\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        return;\n      }\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close();\n        return;\n      }\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n          if (imageData) {\n            let length;\n            if (imageData.bitmap) {\n              const {\n                width,\n                height\n              } = imageData;\n              length = width * height * 4;\n            } else {\n              length = imageData.data?.length || 0;\n            }\n            if (length > _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MAX_IMAGE_SIZE_TO_CACHE) {\n              pageProxy._maybeCleanupAfterRender = true;\n            }\n          }\n          break;\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total\n      });\n    });\n    messageHandler.on(\"FetchBuiltInCMap\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.cMapReaderFactory) {\n        return Promise.reject(new Error(\"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n      return this.cMapReaderFactory.fetch(data);\n    });\n    messageHandler.on(\"FetchStandardFontData\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.standardFontDataFactory) {\n        return Promise.reject(new Error(\"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n      return this.standardFontDataFactory.fetch(data);\n    });\n  }\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n    }\n    const {\n      map,\n      transfer\n    } = this.annotationStorage.serializable;\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      isPureXfa: !!this._htmlForXfa,\n      numPages: this._numPages,\n      annotationStorage: map,\n      filename: this._fullReader?.filename ?? null\n    }, transfer).finally(() => {\n      this.annotationStorage.resetModified();\n    });\n  }\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.pdfBug);\n      this.#pageCache.set(pageIndex, page);\n      return page;\n    });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n  getPageIndex(ref) {\n    if (typeof ref !== \"object\" || ref === null || !Number.isInteger(ref.num) || ref.num < 0 || !Number.isInteger(ref.gen) || ref.gen < 0) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen\n    });\n  }\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex\n    });\n  }\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n  getOptionalContentConfig() {\n    return this.messageHandler.sendWithPromise(\"GetOptionalContentConfig\", null).then(results => {\n      return new _optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__.OptionalContentConfig(results);\n    });\n  }\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, null).then(results => {\n      return {\n        info: results[0],\n        metadata: results[1] ? new _metadata_js__WEBPACK_IMPORTED_MODULE_8__.Metadata(results[1]) : null,\n        contentDispositionFilename: this._fullReader?.filename ?? null,\n        contentLength: this._fullReader?.contentLength ?? null\n      };\n    });\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return;\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(true);\n  }\n  get loadingParams() {\n    const {\n      disableAutoFetch,\n      enableXfa\n    } = this._params;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"loadingParams\", {\n      disableAutoFetch,\n      enableXfa\n    });\n  }\n}\nclass PDFObjects {\n  #objs = Object.create(null);\n  #ensureObj(objId) {\n    return this.#objs[objId] ||= {\n      capability: new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability(),\n      data: null\n    };\n  }\n  get(objId, callback = null) {\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.capability.promise.then(() => callback(obj.data));\n      return null;\n    }\n    const obj = this.#objs[objId];\n    if (!obj?.capability.settled) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n  has(objId) {\n    const obj = this.#objs[objId];\n    return obj?.capability.settled || false;\n  }\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.capability.resolve();\n  }\n  clear() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      data?.bitmap?.close();\n    }\n    this.#objs = Object.create(null);\n  }\n}\nclass RenderTask {\n  #internalRenderTask = null;\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n    this.onContinue = null;\n  }\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(null, extraDelay);\n  }\n  get separateAnnots() {\n    const {\n      separateAnnots\n    } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const {\n      annotationCanvasMap\n    } = this.#internalRenderTask;\n    return separateAnnots.form || separateAnnots.canvas && annotationCanvasMap?.size > 0;\n  }\n}\nclass InternalRenderTask {\n  static #canvasInUse = new WeakSet();\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this.task = new RenderTask(this);\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n  get completed() {\n    return this.capability.promise.catch(function () {});\n  }\n  initializeGraphics({\n    transparency = false,\n    optionalContentConfig\n  }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const {\n      canvasContext,\n      viewport,\n      transform,\n      background\n    } = this.params;\n    this.gfx = new _canvas_js__WEBPACK_IMPORTED_MODULE_5__.CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n      optionalContentConfig\n    }, this.annotationCanvasMap, this.pageColors);\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n    this.callback(error || new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, extraDelay));\n  }\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.stepper?.updateOperatorList(this.operatorList);\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n        this.callback();\n      }\n    }\n  }\n}\nconst version = '4.0.189';\nconst build = '50f52b43a';\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n/***/ }),\n\n/***/ 822:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCMapReaderFactory: () => (/* binding */ BaseCMapReaderFactory),\n/* harmony export */   BaseCanvasFactory: () => (/* binding */ BaseCanvasFactory),\n/* harmony export */   BaseFilterFactory: () => (/* binding */ BaseFilterFactory),\n/* harmony export */   BaseSVGFactory: () => (/* binding */ BaseSVGFactory),\n/* harmony export */   BaseStandardFontDataFactory: () => (/* binding */ BaseStandardFontDataFactory)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n\nclass BaseFilterFactory {\n  constructor() {\n    if (this.constructor === BaseFilterFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseFilterFactory.\");\n    }\n  }\n  addFilter(maps) {\n    return \"none\";\n  }\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n  addHighlightHCMFilter(fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n  destroy(keepHCM = false) {}\n}\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\")\n    };\n  }\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n  _createCanvas(width, height) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_createCanvas` called.\");\n  }\n}\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = true\n  }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The CMap \"baseUrl\" parameter must be specified, ensure that ' + 'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.');\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed ? _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType.BINARY : _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType.NONE;\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n  _fetchData(url, compressionType) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n}\nclass BaseStandardFontDataFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    if (this.constructor === BaseStandardFontDataFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The standard font \"baseUrl\" parameter must be specified, ensure that ' + 'the \"standardFontDataUrl\" API parameter is provided.');\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetchData(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n  _fetchData(url) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n}\nclass BaseSVGFactory {\n  constructor() {\n    if (this.constructor === BaseSVGFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n    return svg;\n  }\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n  _createSVG(type) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_createSVG` called.\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 250:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  CanvasGraphics: () => (/* binding */ CanvasGraphics)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(266);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(473);\n;// CONCATENATED MODULE: ./src/display/pattern_helper.js\n\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\"\n};\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\nclass BaseShadingPattern {\n  constructor() {\n    if (this.constructor === BaseShadingPattern) {\n      (0,util.unreachable)(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n  getPattern() {\n    (0,util.unreachable)(\"Abstract method `getPattern` called.\");\n  }\n}\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]);\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1);\n    }\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(pathType, (0,display_utils.getCurrentTransform)(ctx)) || [0, 0, 0, 0];\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", width, height, true);\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = util.Util.transform(inverse, [1, 0, 0, 1, ownerBBox[0], ownerBBox[1]]);\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = car - (car - cbr) * k | 0;\n      bytes[j++] = cag - (cag - cbg) * k | 0;\n      bytes[j++] = cab - (cab - cbb) * k | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n          drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight, false);\n    const tmpCtx = tmpCanvas.context;\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n    if (pathType === PathType.SHADING) {\n      scale = util.Util.singularValueDecompose2dScale((0,display_utils.getCurrentTransform)(ctx));\n    } else {\n      scale = util.Util.singularValueDecompose2dScale(owner.baseTransform);\n      if (this.matrix) {\n        const matrixScale = util.Util.singularValueDecompose2dScale(this.matrix);\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n    const temporaryPatternCanvas = this._createMeshCanvas(scale, pathType === PathType.SHADING ? null : this._background, owner.cachedCanvases);\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n    ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2\n};\nclass TilingPattern {\n  static MAX_PATTERN_SIZE = 3000;\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n  createPatternCanvas(owner) {\n    const operatorList = this.operatorList;\n    const bbox = this.bbox;\n    const xstep = this.xstep;\n    const ystep = this.ystep;\n    const paintType = this.paintType;\n    const tilingType = this.tilingType;\n    const color = this.color;\n    const canvasGraphicsFactory = this.canvasGraphicsFactory;\n    (0,util.info)(\"TilingType: \" + tilingType);\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const matrixScale = util.Util.singularValueDecompose2dScale(this.matrix);\n    const curMatrixScale = util.Util.singularValueDecompose2dScale(this.baseTransform);\n    const combinedScale = [matrixScale[0] * curMatrixScale[0], matrixScale[1] * curMatrixScale[1]];\n    const dimx = this.getSizeAndScale(xstep, this.ctx.canvas.width, combinedScale[0]);\n    const dimy = this.getSizeAndScale(ystep, this.ctx.canvas.height, combinedScale[1]);\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size, true);\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n    let adjustedX0 = x0;\n    let adjustedY0 = y0;\n    let adjustedX1 = x1;\n    let adjustedY1 = y1;\n    if (x0 < 0) {\n      adjustedX0 = 0;\n      adjustedX1 += Math.abs(x0);\n    }\n    if (y0 < 0) {\n      adjustedY0 = 0;\n      adjustedY1 += Math.abs(y0);\n    }\n    tmpCtx.translate(-(dimx.scale * adjustedX0), -(dimy.scale * adjustedY0));\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n    tmpCtx.save();\n    this.clipBbox(graphics, adjustedX0, adjustedY0, adjustedX1, adjustedY1);\n    graphics.baseTransform = (0,display_utils.getCurrentTransform)(graphics.ctx);\n    graphics.executeOperatorList(operatorList);\n    graphics.endDrawing();\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: adjustedX0,\n      offsetY: adjustedY0\n    };\n  }\n  getSizeAndScale(step, realOutputSize, scale) {\n    step = Math.abs(step);\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return {\n      scale,\n      size\n    };\n  }\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.current.updateRectMinMax((0,display_utils.getCurrentTransform)(graphics.ctx), [x0, y0, x1, y1]);\n    graphics.clip();\n    graphics.endPath();\n  }\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        const cssColor = util.Util.makeHexColor(color[0], color[1], color[2]);\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n      default:\n        throw new util.FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = util.Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = util.Util.transform(matrix, this.matrix);\n      }\n    }\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n    let domMatrix = new DOMMatrix(matrix);\n    domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n    return pattern;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/shared/image_utils.js\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n  return null;\n}\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false\n}) {\n  const black = util.FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode ? [nonBlackColor, black] : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & 1 << 7 - j ? oneMapping : zeroMapping;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height\n}) {\n  let i = 0;\n  const len32 = src.length >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n  if (FeatureTest.isLittleEndian) {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = s1 >>> 24 | s2 << 8 | 0xff000000;\n      dest[destPos + 2] = s2 >>> 16 | s3 << 16 | 0xff000000;\n      dest[destPos + 3] = s3 >>> 8 | 0xff000000;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] | src[j + 1] << 8 | src[j + 2] << 16 | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = s1 << 24 | s2 >>> 8 | 0xff;\n      dest[destPos + 2] = s2 << 16 | s3 >>> 16 | 0xff;\n      dest[destPos + 3] = s3 << 8 | 0xff;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] << 24 | src[j + 1] << 16 | src[j + 2] << 8 | 0xff;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x10101 | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x1010100 | 0x000000ff;\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/canvas.js\n\n\n\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst MAX_GROUP_SIZE = 4096;\nconst EXECUTION_TIME = 15;\nconst EXECUTION_STEPS = 10;\nconst MAX_SIZE_TO_COMPILE = 1000;\nconst FULL_CHUNK_HEIGHT = 16;\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n  ctx.save = function ctxSave() {\n    destCtx.save();\n    this.__originalSave();\n  };\n  ctx.restore = function ctxRestore() {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n  ctx.translate = function ctxTranslate(x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n  ctx.scale = function ctxScale(x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n  ctx.resetTransform = function ctxResetTransform() {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n  ctx.rotate = function ctxRotate(angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n  ctx.clip = function ctxRotate(rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n  delete(id) {\n    delete this.cache[id];\n  }\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\nfunction drawImageAtIntegerCoords(ctx, srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH) {\n  const [a, b, c, d, tx, ty] = (0,display_utils.getCurrentTransform)(ctx);\n  if (b === 0 && c === 0) {\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rWidth, rHeight];\n  }\n  if (a === 0 && d === 0) {\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rHeight, rWidth];\n  }\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\nfunction compileType3Glyph(imgData) {\n  const {\n    width,\n    height\n  } = imgData;\n  if (width > MAX_SIZE_TO_COMPILE || height > MAX_SIZE_TO_COMPILE) {\n    return null;\n  }\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n  const width1 = width + 1;\n  let points = new Uint8Array(width1 * (height + 1));\n  let i, j, j0;\n  const lineSize = width + 7 & ~7;\n  let data = new Uint8Array(lineSize * height),\n    pos = 0;\n  for (const elem of imgData.data) {\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const path = new Path2D();\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    path.moveTo(p % width1, i);\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        type = pp;\n        points[p] = 0;\n      } else {\n        type = pp & 0x33 * type >> 4;\n        points[p] &= type >> 2 | type << 2;\n      }\n      path.lineTo(p % width1, p / width1 | 0);\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    --i;\n  }\n  data = null;\n  points = null;\n  const drawOutline = function (c) {\n    c.save();\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.fill(path);\n    c.beginPath();\n    c.restore();\n  };\n  return drawOutline;\n}\nclass CanvasExtraState {\n  constructor(width, height) {\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = util.IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = util.FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    this.x = 0;\n    this.y = 0;\n    this.lineX = 0;\n    this.lineY = 0;\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = util.TextRenderingMode.FILL;\n    this.textRise = 0;\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.transferMaps = \"none\";\n    this.startNewPathAndClipBox([0, 0, width, height]);\n  }\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    return clone;\n  }\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  updatePathMinMax(transform, x, y) {\n    [x, y] = util.Util.applyTransform([x, y], transform);\n    this.minX = Math.min(this.minX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxX = Math.max(this.maxX, x);\n    this.maxY = Math.max(this.maxY, y);\n  }\n  updateRectMinMax(transform, rect) {\n    const p1 = util.Util.applyTransform(rect, transform);\n    const p2 = util.Util.applyTransform(rect.slice(2), transform);\n    const p3 = util.Util.applyTransform([rect[0], rect[3]], transform);\n    const p4 = util.Util.applyTransform([rect[2], rect[1]], transform);\n    this.minX = Math.min(this.minX, p1[0], p2[0], p3[0], p4[0]);\n    this.minY = Math.min(this.minY, p1[1], p2[1], p3[1], p4[1]);\n    this.maxX = Math.max(this.maxX, p1[0], p2[0], p3[0], p4[0]);\n    this.maxY = Math.max(this.maxY, p1[1], p2[1], p3[1], p4[1]);\n  }\n  updateScalingPathMinMax(transform, minMax) {\n    util.Util.scaleMinMax(transform, minMax);\n    this.minX = Math.min(this.minX, minMax[0]);\n    this.maxX = Math.max(this.maxX, minMax[1]);\n    this.minY = Math.min(this.minY, minMax[2]);\n    this.maxY = Math.max(this.maxY, minMax[3]);\n  }\n  updateCurvePathMinMax(transform, x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    const box = util.Util.bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3);\n    if (minMax) {\n      minMax[0] = Math.min(minMax[0], box[0], box[2]);\n      minMax[1] = Math.max(minMax[1], box[0], box[2]);\n      minMax[2] = Math.min(minMax[2], box[1], box[3]);\n      minMax[3] = Math.max(minMax[3], box[1], box[3]);\n      return;\n    }\n    this.updateRectMinMax(transform, box);\n  }\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = [this.minX, this.minY, this.maxX, this.maxY];\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        (0,util.unreachable)(\"Stroke bounding box must include transform.\");\n      }\n      const scale = util.Util.singularValueDecompose2dScale(transform);\n      const xStrokePad = scale[0] * this.lineWidth / 2;\n      const yStrokePad = scale[1] * this.lineWidth / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n  updateClipFromPath() {\n    const intersect = util.Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n  isEmptyClip() {\n    return this.minX === Infinity;\n  }\n  startNewPathAndClipBox(box) {\n    this.clipBox = box;\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = 0;\n    this.maxY = 0;\n  }\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return util.Util.intersect(this.clipBox, this.getPathBoundingBox(pathType, transform));\n  }\n}\nfunction putBinaryImageData(ctx, imgData) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n  if (imgData.kind === util.ImageKind.GRAYSCALE_1BPP) {\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = width + 7 >> 3;\n    const white = 0xffffffff;\n    const black = util.FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === util.ImageKind.RGBA_32BPP) {\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === util.ImageKind.RGB_24BPP) {\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n      destPos = 0;\n      for (j = elemsInThisChunk; j--;) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n    ({\n      srcPos\n    } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0\n    }));\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\", \"filter\"];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  if (!util.isNodeJS) {\n    const {\n      filter\n    } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n  }\n}\nfunction composeSMaskBackdrop(bytes, r0, g0, b0) {\n  const length = bytes.length;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = bytes[i];\n    if (alpha === 0) {\n      bytes[i - 3] = r0;\n      bytes[i - 2] = g0;\n      bytes[i - 1] = b0;\n    } else if (alpha < 255) {\n      const alpha_ = 255 - alpha;\n      bytes[i - 3] = bytes[i - 3] * alpha + r0 * alpha_ >> 8;\n      bytes[i - 2] = bytes[i - 2] * alpha + g0 * alpha_ >> 8;\n      bytes[i - 1] = bytes[i - 1] * alpha + b0 * alpha_ >> 8;\n    }\n  }\n}\nfunction composeSMaskAlpha(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  const scale = 1 / 255;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n    layerData[i] = layerData[i] * alpha * scale | 0;\n  }\n}\nfunction composeSMaskLuminosity(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  for (let i = 3; i < length; i += 4) {\n    const y = maskData[i - 3] * 77 + maskData[i - 2] * 152 + maskData[i - 1] * 28;\n    layerData[i] = transferMap ? layerData[i] * transferMap[y >> 8] >> 8 : layerData[i] * y >> 16;\n  }\n}\nfunction genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap, layerOffsetX, layerOffsetY, maskOffsetX, maskOffsetY) {\n  const hasBackdrop = !!backdrop;\n  const r0 = hasBackdrop ? backdrop[0] : 0;\n  const g0 = hasBackdrop ? backdrop[1] : 0;\n  const b0 = hasBackdrop ? backdrop[2] : 0;\n  const composeFn = subtype === \"Luminosity\" ? composeSMaskLuminosity : composeSMaskAlpha;\n  const PIXELS_TO_PROCESS = 1048576;\n  const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n  for (let row = 0; row < height; row += chunkSize) {\n    const chunkHeight = Math.min(chunkSize, height - row);\n    const maskData = maskCtx.getImageData(layerOffsetX - maskOffsetX, row + (layerOffsetY - maskOffsetY), width, chunkHeight);\n    const layerData = layerCtx.getImageData(layerOffsetX, row + layerOffsetY, width, chunkHeight);\n    if (hasBackdrop) {\n      composeSMaskBackdrop(maskData.data, r0, g0, b0);\n    }\n    composeFn(maskData.data, layerData.data, transferMap);\n    layerCtx.putImageData(layerData, layerOffsetX, row + layerOffsetY);\n  }\n}\nfunction composeSMask(ctx, smask, layerCtx, layerBox) {\n  const layerOffsetX = layerBox[0];\n  const layerOffsetY = layerBox[1];\n  const layerWidth = layerBox[2] - layerOffsetX;\n  const layerHeight = layerBox[3] - layerOffsetY;\n  if (layerWidth === 0 || layerHeight === 0) {\n    return;\n  }\n  genericComposeSMask(smask.context, layerCtx, layerWidth, layerHeight, smask.subtype, smask.backdrop, smask.transferMap, layerOffsetX, layerOffsetY, smask.offsetX, smask.offsetY);\n  ctx.save();\n  ctx.globalAlpha = 1;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.drawImage(layerCtx.canvas, 0, 0);\n  ctx.restore();\n}\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  const scale = util.Util.singularValueDecompose2dScale(transform);\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround((globalThis.devicePixelRatio || 1) * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n  if (interpolate !== undefined) {\n    return interpolate;\n  } else if (scale[0] <= actualScale || scale[1] <= actualScale) {\n    return true;\n  }\n  return false;\n}\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\nclass CanvasGraphics {\n  constructor(canvasCtx, commonObjs, objs, canvasFactory, filterFactory, {\n    optionalContentConfig,\n    markedContentStack = null\n  }, annotationCanvasMap, pageColors) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.processingType3 = null;\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n  }\n  getObject(data, fallback = null) {\n    if (typeof data === \"string\") {\n      return data.startsWith(\"g_\") ? this.commonObjs.get(data) : this.objs.get(data);\n    }\n    return fallback;\n  }\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null\n  }) {\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height);\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      this.ctx.transform(...(0,display_utils.getCurrentTransform)(this.compositeCtx));\n    }\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n    this.baseTransform = (0,display_utils.getCurrentTransform)(this.ctx);\n  }\n  executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n    if (argsArrayLen === i) {\n      return i;\n    }\n    const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n      fnId = fnArray[i];\n      if (fnId !== util.OPS.dependency) {\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n      i++;\n      if (i === argsArrayLen) {\n        return i;\n      }\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n    }\n  }\n  #restoreInitialState() {\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n    this.ctx.restore();\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n  endDrawing() {\n    this.#restoreInitialState();\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(this.pageColors.foreground, this.pageColors.background);\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n  _scaleImage(img, inverseTransform) {\n    const width = img.width;\n    const height = img.height;\n    let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n    let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = paintWidth >= 16384 ? Math.floor(paintWidth / 2) - 1 || 1 : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = paintHeight >= 16384 ? Math.floor(paintHeight / 2) - 1 || 1 : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight\n    };\n  }\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const {\n      width,\n      height\n    } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      cacheKey = JSON.stringify(isPatternFill ? currentTransform : [currentTransform.slice(0, 4), fillColor]);\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(Math.min(currentTransform[0], currentTransform[2]) + currentTransform[4]);\n        const offsetY = Math.round(Math.min(currentTransform[1], currentTransform[3]) + currentTransform[5]);\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY\n        };\n      }\n      scaled = cachedImage;\n    }\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n    let maskToCanvas = util.Util.transform(currentTransform, [1 / width, 0, 0, -1 / height, 0, 0]);\n    maskToCanvas = util.Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const [minX, minY, maxX, maxY] = util.Util.getAxialAlignedBoundingBox([0, 0, width, height], maskToCanvas);\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight);\n    const fillCtx = fillCanvas.context;\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n    if (!scaled) {\n      scaled = this._scaleImage(maskCanvas.canvas, (0,display_utils.getCurrentTransformInverse)(fillCtx));\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled((0,display_utils.getCurrentTransform)(fillCtx), img.interpolate);\n    drawImageAtIntegerCoords(fillCtx, scaled, 0, 0, scaled.width, scaled.height, 0, 0, width, height);\n    fillCtx.globalCompositeOperation = \"source-in\";\n    const inverse = util.Util.transform((0,display_utils.getCurrentTransformInverse)(fillCtx), [1, 0, 0, 1, -offsetX, -offsetY]);\n    fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, PathType.FILL) : fillColor;\n    fillCtx.fillRect(0, 0, width, height);\n    if (cache && !isPatternFill) {\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY)\n    };\n  }\n  setLineWidth(width) {\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n  setRenderingIntent(intent) {}\n  setFlatness(flatness) {}\n  setGState(states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n        case \"CA\":\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.current.fillAlpha = value;\n          this.ctx.globalAlpha = value;\n          break;\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.ctx.filter = this.current.transferMaps = this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n  }\n  beginSMaskMode() {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    this.suspendedCtx = this.ctx;\n    this.ctx = scratchCanvas.context;\n    const ctx = this.ctx;\n    ctx.setTransform(...(0,display_utils.getCurrentTransform)(this.suspendedCtx));\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n  }\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n    this.suspendedCtx = null;\n  }\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n    composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n  save() {\n    if (this.inSMaskMode) {\n      copyCtxState(this.ctx, this.suspendedCtx);\n      this.suspendedCtx.save();\n    } else {\n      this.ctx.save();\n    }\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n  }\n  restore() {\n    if (this.stateStack.length === 0 && this.inSMaskMode) {\n      this.endSMaskMode();\n    }\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n      if (this.inSMaskMode) {\n        this.suspendedCtx.restore();\n        copyCtxState(this.suspendedCtx, this.ctx);\n      } else {\n        this.ctx.restore();\n      }\n      this.checkSMaskState();\n      this.pendingClip = null;\n      this._cachedScaleForStroking[0] = -1;\n      this._cachedGetSinglePixelWidth = null;\n    }\n  }\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  constructPath(ops, args, minMax) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    let startX, startY;\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    const isScalingMatrix = currentTransform[0] === 0 && currentTransform[3] === 0 || currentTransform[1] === 0 && currentTransform[2] === 0;\n    const minMaxForBezier = isScalingMatrix ? minMax.slice(0) : null;\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case util.OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n          if (!isScalingMatrix) {\n            current.updateRectMinMax(currentTransform, [x, y, xw, yh]);\n          }\n          ctx.closePath();\n          break;\n        case util.OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case util.OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case util.OPS.curveTo:\n          startX = x;\n          startY = y;\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], args[j + 2], args[j + 3], x, y, minMaxForBezier);\n          j += 6;\n          break;\n        case util.OPS.curveTo2:\n          startX = x;\n          startY = y;\n          ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, x, y, args[j], args[j + 1], args[j + 2], args[j + 3], minMaxForBezier);\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case util.OPS.curveTo3:\n          startX = x;\n          startY = y;\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], x, y, x, y, minMaxForBezier);\n          j += 4;\n          break;\n        case util.OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n    if (isScalingMatrix) {\n      current.updateScalingPathMinMax(currentTransform, minMaxForBezier);\n    }\n    current.setCurrentPoint(x, y);\n  }\n  closePath() {\n    this.ctx.closePath();\n  }\n  stroke(consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.STROKE);\n        this.rescaleAndStroke(false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(true);\n      }\n    }\n    if (consumePath) {\n      this.consumePath(this.current.getClippedPathBoundingBox());\n    }\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n  fill(consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL);\n      needRestore = true;\n    }\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n    if (needRestore) {\n      ctx.restore();\n    }\n    if (consumePath) {\n      this.consumePath(intersect);\n    }\n  }\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n    this.consumePath();\n  }\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n  endPath() {\n    this.consumePath();\n  }\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n  beginText() {\n    this.current.textMatrix = util.IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n    ctx.save();\n    ctx.beginPath();\n    for (const path of paths) {\n      ctx.setTransform(...path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || util.FONT_IDENTITY_MATRIX;\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      (0,util.warn)(\"Invalid font matrix for font \" + fontRefName);\n    }\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n    if (fontObj.isType3Font) {\n      return;\n    }\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface = fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n  paintChar(character, x, y, patternTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode = textRenderingMode & util.TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(textRenderingMode & util.TextRenderingMode.ADD_TO_PATH_FLAG);\n    const patternFill = current.patternFill && !font.missingFile;\n    let addToPath;\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n      if (patternTransform) {\n        ctx.setTransform(...patternTransform);\n      }\n      if (fillStrokeMode === util.TextRenderingMode.FILL || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.fill();\n      }\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.stroke();\n      }\n      ctx.restore();\n    } else {\n      if (fillStrokeMode === util.TextRenderingMode.FILL || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.fillText(character, x, y);\n      }\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.strokeText(character, x, y);\n      }\n    }\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths ||= [];\n      paths.push({\n        transform: (0,display_utils.getCurrentTransform)(ctx),\n        x,\n        y,\n        fontSize,\n        addToPath\n      });\n    }\n  }\n  get isFontSubpixelAAEnabled() {\n    const {\n      context: ctx\n    } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return (0,util.shadow)(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return undefined;\n    }\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n    const simpleFillText = current.textRenderingMode === util.TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n    let patternTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL);\n      patternTransform = (0,display_utils.getCurrentTransform)(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode = current.textRenderingMode & util.TextRenderingMode.FILL_STROKE_MASK;\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n    ctx.lineWidth = lineWidth;\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      ctx.fillText(chars.join(\"\"), 0, 0);\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n      return undefined;\n    }\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += spacingDir * glyph * fontSize / 1000;\n        continue;\n      }\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n      if (font.remeasure && width > 0) {\n        const measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n        }\n      }\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY, patternTransform);\n          if (accent) {\n            const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n            const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n            this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY, patternTransform);\n          }\n        }\n      }\n      const charWidth = vertical ? width * widthAdvanceScale - spacing * fontDirection : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n    return undefined;\n  }\n  showType3Text(glyphs) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || util.FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible = current.textRenderingMode === util.TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y);\n    ctx.scale(textHScale, fontDirection);\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = spacingDir * glyph * fontSize / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        (0,util.warn)(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n      const transformed = util.Util.applyTransform([glyph.width, 0], fontMatrix);\n      width = transformed[0] * fontSize + spacing;\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    this.processingType3 = null;\n  }\n  setCharWidth(xWidth, yWidth) {}\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip();\n    this.endPath();\n  }\n  getColorN_Pattern(IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform = this.baseTransform || (0,display_utils.getCurrentTransform)(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx => {\n          return new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n            optionalContentConfig: this.optionalContentConfig,\n            markedContentStack: this.markedContentStack\n          });\n        }\n      };\n      pattern = new TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n    return pattern;\n  }\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n  setStrokeRGBColor(r, g, b) {\n    const color = util.Util.makeHexColor(r, g, b);\n    this.ctx.strokeStyle = color;\n    this.current.strokeColor = color;\n  }\n  setFillRGBColor(r, g, b) {\n    const color = util.Util.makeHexColor(r, g, b);\n    this.ctx.fillStyle = color;\n    this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n  _getPattern(objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    this.save();\n    const pattern = this._getPattern(objId);\n    ctx.fillStyle = pattern.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.SHADING);\n    const inv = (0,display_utils.getCurrentTransformInverse)(ctx);\n    if (inv) {\n      const {\n        width,\n        height\n      } = ctx.canvas;\n      const [x0, y0, x1, y1] = util.Util.getAxialAlignedBoundingBox([0, 0, width, height], inv);\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore();\n  }\n  beginInlineImage() {\n    (0,util.unreachable)(\"Should not call beginInlineImage\");\n  }\n  beginImageData() {\n    (0,util.unreachable)(\"Should not call beginImageData\");\n  }\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n    if (Array.isArray(matrix) && matrix.length === 6) {\n      this.transform(...matrix);\n    }\n    this.baseTransform = (0,display_utils.getCurrentTransform)(this.ctx);\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.current.updateRectMinMax((0,display_utils.getCurrentTransform)(this.ctx), bbox);\n      this.clip();\n      this.endPath();\n    }\n  }\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n    const currentCtx = this.ctx;\n    if (!group.isolated) {\n      (0,util.info)(\"TODO: Support non-isolated groups.\");\n    }\n    if (group.knockout) {\n      (0,util.warn)(\"Knockout groups not supported.\");\n    }\n    const currentTransform = (0,display_utils.getCurrentTransform)(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n    let bounds = util.Util.getAxialAlignedBoundingBox(group.bbox, (0,display_utils.getCurrentTransform)(currentCtx));\n    const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n    bounds = util.Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    let scaleX = 1,\n      scaleY = 1;\n    if (drawnWidth > MAX_GROUP_SIZE) {\n      scaleX = drawnWidth / MAX_GROUP_SIZE;\n      drawnWidth = MAX_GROUP_SIZE;\n    }\n    if (drawnHeight > MAX_GROUP_SIZE) {\n      scaleY = drawnHeight / MAX_GROUP_SIZE;\n      drawnHeight = MAX_GROUP_SIZE;\n    }\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    const groupCtx = scratchCanvas.context;\n    groupCtx.scale(1 / scaleX, 1 / scaleY);\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n    if (group.smask) {\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        scaleX,\n        scaleY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null\n      });\n    } else {\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.scale(scaleX, scaleY);\n      currentCtx.save();\n    }\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    this.ctx.imageSmoothingEnabled = false;\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore();\n    } else {\n      this.ctx.restore();\n      const currentMtx = (0,display_utils.getCurrentTransform)(this.ctx);\n      this.restore();\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = util.Util.getAxialAlignedBoundingBox([0, 0, groupCtx.canvas.width, groupCtx.canvas.height], currentMtx);\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n  beginAnnotation(id, rect, transform, matrix, hasOwnCanvas) {\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n    this.ctx.save();\n    this.save();\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n    if (Array.isArray(rect) && rect.length === 4) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n        const [scaleX, scaleY] = util.Util.singularValueDecompose2dScale((0,display_utils.getCurrentTransform)(this.ctx));\n        const {\n          viewportScale\n        } = this;\n        const canvasWidth = Math.ceil(width * this.outputScaleX * viewportScale);\n        const canvasHeight = Math.ceil(height * this.outputScaleY * viewportScale);\n        this.annotationCanvas = this.canvasFactory.create(canvasWidth, canvasHeight);\n        const {\n          canvas,\n          context\n        } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(scaleX, 0, 0, -scaleY, 0, height * scaleY);\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.ctx.clip();\n        this.endPath();\n      }\n    }\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.transform(...transform);\n    this.transform(...matrix);\n  }\n  endAnnotation() {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(img.data, img);\n    img.count = count;\n    const ctx = this.ctx;\n    const glyph = this.processingType3;\n    if (glyph) {\n      if (glyph.compiled === undefined) {\n        glyph.compiled = compileType3Glyph(img);\n      }\n      if (glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n    }\n    const mask = this._createMaskCanvas(img);\n    const maskCanvas = mask.canvas;\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectRepeat(img, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    img = this.getObject(img.data, img);\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(img);\n    ctx.setTransform(1, 0, 0, 1, mask.offsetX - currentTransform[4], mask.offsetY - currentTransform[5]);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = util.Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n      const [x, y] = util.Util.applyTransform([0, 0], trans);\n      ctx.drawImage(mask.canvas, x, y);\n    }\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    for (const image of images) {\n      const {\n        data,\n        width,\n        height,\n        transform\n      } = image;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      const img = this.getObject(data, image);\n      putBinaryImageMask(maskCtx, img);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      (0,util.warn)(\"Dependent image isn't ready yet\");\n      return;\n    }\n    this.paintInlineImageXObject(imgData);\n  }\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      (0,util.warn)(\"Dependent image isn't ready yet\");\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height\n      });\n    }\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const {\n      bitmap,\n      width,\n      height\n    } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n    return tmpCanvas.canvas;\n  }\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n    this.save();\n    if (!util.isNodeJS) {\n      const {\n        filter\n      } = ctx;\n      if (filter !== \"none\" && filter !== \"\") {\n        ctx.filter = \"none\";\n      }\n    }\n    ctx.scale(1 / width, -1 / height);\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    const scaled = this._scaleImage(imgToPaint, (0,display_utils.getCurrentTransformInverse)(ctx));\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled((0,display_utils.getCurrentTransform)(ctx), imgData.interpolate);\n    drawImageAtIntegerCoords(ctx, scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n    this.compose();\n    this.restore();\n  }\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, imgToPaint, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n  markPoint(tag) {}\n  markPointProps(tag, properties) {}\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true\n    });\n  }\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties)\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n  beginCompat() {}\n  endCompat() {}\n  consumePath(clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n      }\n      this.pendingClip = null;\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n    ctx.beginPath();\n  }\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = (0,display_utils.getCurrentTransform)(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n  getScaleForStroking() {\n    if (this._cachedScaleForStroking[0] === -1) {\n      const {\n        lineWidth\n      } = this.current;\n      const {\n        a,\n        b,\n        c,\n        d\n      } = this.ctx.getTransform();\n      let scaleX, scaleY;\n      if (b === 0 && c === 0) {\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n  rescaleAndStroke(saveRestore) {\n    const {\n      ctx\n    } = this;\n    const {\n      lineWidth\n    } = this.current;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n    ctx.lineWidth = lineWidth || 1;\n    if (scaleX === 1 && scaleY === 1) {\n      ctx.stroke();\n      return;\n    }\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n    ctx.scale(scaleX, scaleY);\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n    ctx.stroke();\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nfor (const op in util.OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[util.OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\n\n/***/ }),\n\n/***/ 473:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DOMCMapReaderFactory: () => (/* binding */ DOMCMapReaderFactory),\n/* harmony export */   DOMCanvasFactory: () => (/* binding */ DOMCanvasFactory),\n/* harmony export */   DOMFilterFactory: () => (/* binding */ DOMFilterFactory),\n/* harmony export */   DOMSVGFactory: () => (/* binding */ DOMSVGFactory),\n/* harmony export */   DOMStandardFontDataFactory: () => (/* binding */ DOMStandardFontDataFactory),\n/* harmony export */   PDFDateString: () => (/* binding */ PDFDateString),\n/* harmony export */   PageViewport: () => (/* binding */ PageViewport),\n/* harmony export */   PixelsPerInch: () => (/* binding */ PixelsPerInch),\n/* harmony export */   RenderingCancelledException: () => (/* binding */ RenderingCancelledException),\n/* harmony export */   StatTimer: () => (/* binding */ StatTimer),\n/* harmony export */   getColorValues: () => (/* binding */ getColorValues),\n/* harmony export */   getCurrentTransform: () => (/* binding */ getCurrentTransform),\n/* harmony export */   getCurrentTransformInverse: () => (/* binding */ getCurrentTransformInverse),\n/* harmony export */   getFilenameFromUrl: () => (/* binding */ getFilenameFromUrl),\n/* harmony export */   getPdfFilenameFromUrl: () => (/* binding */ getPdfFilenameFromUrl),\n/* harmony export */   getRGB: () => (/* binding */ getRGB),\n/* harmony export */   getXfaPageViewport: () => (/* binding */ getXfaPageViewport),\n/* harmony export */   isDataScheme: () => (/* binding */ isDataScheme),\n/* harmony export */   isPdfFile: () => (/* binding */ isPdfFile),\n/* harmony export */   isValidFetchUrl: () => (/* binding */ isValidFetchUrl),\n/* harmony export */   noContextMenu: () => (/* binding */ noContextMenu),\n/* harmony export */   setLayerDimensions: () => (/* binding */ setLayerDimensions)\n/* harmony export */ });\n/* unused harmony export deprecated */\n/* harmony import */ var _base_factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(822);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(266);\n\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\nclass PixelsPerInch {\n  static CSS = 96.0;\n  static PDF = 72.0;\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\nclass DOMFilterFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseFilterFactory {\n  #_cache;\n  #_defs;\n  #docId;\n  #document;\n  #hcmFilter;\n  #hcmKey;\n  #hcmUrl;\n  #hcmHighlightFilter;\n  #hcmHighlightKey;\n  #hcmHighlightUrl;\n  #id = 0;\n  constructor({\n    docId,\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n  get #cache() {\n    return this.#_cache ||= new Map();\n  }\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const {\n        style\n      } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n    let tableR, tableG, tableB, key;\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n      key = tableR = tableG = tableB = buffer.join(\",\");\n    } else {\n      const [mapR, mapG, mapB] = maps;\n      const bufferR = new Array(256);\n      const bufferG = new Array(256);\n      const bufferB = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        bufferR[i] = mapR[i] / 255;\n        bufferG[i] = mapG[i] / 255;\n        bufferB[i] = mapB[i] / 255;\n      }\n      tableR = bufferR.join(\",\");\n      tableG = bufferG.join(\",\");\n      tableB = bufferB.join(\",\");\n      key = `${tableR}${tableG}${tableB}`;\n    }\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = `url(#${id})`;\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n    return url;\n  }\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    if (this.#hcmKey === key) {\n      return this.#hcmUrl;\n    }\n    this.#hcmKey = key;\n    this.#hcmUrl = \"none\";\n    this.#hcmFilter?.remove();\n    if (!fgColor || !bgColor) {\n      return this.#hcmUrl;\n    }\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n    if (fgColor === \"#000000\" && bgColor === \"#ffffff\" || fgColor === bgColor) {\n      return this.#hcmUrl;\n    }\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = this.#hcmHighlightFilter = this.#createFilter(id);\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + i / n * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(getSteps(0, 5), getSteps(1, 5), getSteps(2, 5), filter);\n    this.#hcmUrl = `url(#${id})`;\n    return this.#hcmUrl;\n  }\n  addHighlightHCMFilter(fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    if (this.#hcmHighlightKey === key) {\n      return this.#hcmHighlightUrl;\n    }\n    this.#hcmHighlightKey = key;\n    this.#hcmHighlightUrl = \"none\";\n    this.#hcmHighlightFilter?.remove();\n    if (!fgColor || !bgColor) {\n      return this.#hcmHighlightUrl;\n    }\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]);\n    let bgGray = Math.round(0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]);\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(this.#getRGB.bind(this));\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [bgGray, fgGray, newBgRGB, newFgRGB];\n    }\n    this.#defs.style.color = \"\";\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n    const id = `g_${this.#docId}_hcm_highlight_filter`;\n    const filter = this.#hcmHighlightFilter = this.#createFilter(id);\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(getSteps(newFgRGB[0], newBgRGB[0], 5), getSteps(newFgRGB[1], newBgRGB[1], 5), getSteps(newFgRGB[2], newBgRGB[2], 5), filter);\n    this.#hcmHighlightUrl = `url(#${id})`;\n    return this.#hcmHighlightUrl;\n  }\n  destroy(keepHCM = false) {\n    if (keepHCM && (this.#hcmUrl || this.#hcmHighlightUrl)) {\n      return;\n    }\n    if (this.#_defs) {\n      this.#_defs.parentNode.parentNode.remove();\n      this.#_defs = null;\n    }\n    if (this.#_cache) {\n      this.#_cache.clear();\n      this.#_cache = null;\n    }\n    this.#id = 0;\n  }\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\");\n    filter.append(feColorMatrix);\n  }\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n    return filter;\n  }\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\nclass DOMCanvasFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\nasync function fetchData(url, asTypedArray = false) {\n  if (isValidFetchUrl(url, document.baseURI)) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return asTypedArray ? new Uint8Array(await response.arrayBuffer()) : (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.stringToBytes)(await response.text());\n  }\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    if (asTypedArray) {\n      request.responseType = \"arraybuffer\";\n    }\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        let data;\n        if (asTypedArray && request.response) {\n          data = new Uint8Array(request.response);\n        } else if (!asTypedArray && request.responseText) {\n          data = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.stringToBytes)(request.responseText);\n        }\n        if (data) {\n          resolve(data);\n          return;\n        }\n      }\n      reject(new Error(request.statusText));\n    };\n    request.send(null);\n  });\n}\nclass DOMCMapReaderFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url, this.isCompressed).then(data => {\n      return {\n        cMapData: data,\n        compressionType\n      };\n    });\n  }\n}\nclass DOMStandardFontDataFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url, true);\n  }\n}\nclass DOMSVGFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\nclass PageViewport {\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n  get rawDims() {\n    const {\n      viewBox\n    } = this;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.shadow)(this, \"rawDims\", {\n      pageWidth: viewBox[2] - viewBox[0],\n      pageHeight: viewBox[3] - viewBox[1],\n      pageX: viewBox[0],\n      pageY: viewBox[1]\n    });\n  }\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  convertToViewportPoint(x, y) {\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([x, y], this.transform);\n  }\n  convertToViewportRectangle(rect) {\n    const topLeft = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n  convertToPdfPoint(x, y) {\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyInverseTransform([x, y], this.transform);\n  }\n}\nclass RenderingCancelledException extends _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\nfunction getFilenameFromUrl(url, onlyStripPath = false) {\n  if (!onlyStripPath) {\n    [url] = url.split(/[#?]/, 1);\n  }\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch {}\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\nclass StatTimer {\n  started = Object.create(null);\n  times = [];\n  time(name) {\n    if (name in this.started) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n    for (const {\n      name\n    } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const {\n      name,\n      start,\n      end\n    } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const {\n      protocol\n    } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch {\n    return false;\n  }\n}\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\nlet pdfDateStringRegex;\nclass PDFDateString {\n  static toDateObject(input) {\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n    pdfDateStringRegex ||= new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\nfunction getXfaPageViewport(xfaPage, {\n  scale = 1,\n  rotation = 0\n}) {\n  const {\n    width,\n    height\n  } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation\n  });\n}\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [(colorRGB & 0xff0000) >> 16, (colorRGB & 0x00ff00) >> 8, colorRGB & 0x0000ff];\n  }\n  if (color.startsWith(\"rgb(\")) {\n    return color.slice(4, -1).split(\",\").map(x => parseInt(x));\n  }\n  if (color.startsWith(\"rgba(\")) {\n    return color.slice(5, -1).split(\",\").map(x => parseInt(x)).slice(0, 3);\n  }\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\nfunction getCurrentTransform(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\nfunction getCurrentTransformInverse(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\nfunction setLayerDimensions(div, viewport, mustFlip = false, mustRotate = true) {\n  if (viewport instanceof PageViewport) {\n    const {\n      pageWidth,\n      pageHeight\n    } = viewport.rawDims;\n    const {\n      style\n    } = div;\n    const useRound = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.FeatureTest.isCSSRoundSupported;\n    const w = `var(--scale-factor) * ${pageWidth}px`,\n      h = `var(--scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound ? `round(${w}, 1px)` : `calc(${w})`,\n      heightStr = useRound ? `round(${h}, 1px)` : `calc(${h})`;\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\n\n\n/***/ }),\n\n/***/ 331:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationEditorLayer: () => (/* binding */ AnnotationEditorLayer)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(266);\n// EXTERNAL MODULE: ./src/display/editor/editor.js\nvar editor_editor = __webpack_require__(682);\n// EXTERNAL MODULE: ./src/display/editor/tools.js\nvar tools = __webpack_require__(812);\n// EXTERNAL MODULE: ./src/display/annotation_layer.js + 1 modules\nvar annotation_layer = __webpack_require__(640);\n;// CONCATENATED MODULE: ./src/display/editor/freetext.js\n\n\n\n\nclass FreeTextEditor extends editor_editor.AnnotationEditor {\n  #boundEditorDivBlur = this.editorDivBlur.bind(this);\n  #boundEditorDivFocus = this.editorDivFocus.bind(this);\n  #boundEditorDivInput = this.editorDivInput.bind(this);\n  #boundEditorDivKeydown = this.editorDivKeydown.bind(this);\n  #color;\n  #content = \"\";\n  #editorDivId = `${this.id}-editor`;\n  #fontSize;\n  #initialData = null;\n  static _freeTextDefaultContent = \"\";\n  static _internalPadding = 0;\n  static _defaultColor = null;\n  static _defaultFontSize = 10;\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n    const arrowChecker = self => self.isEmpty();\n    const small = tools.AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = tools.AnnotationEditorUIManager.TRANSLATE_BIG;\n    return (0,util.shadow)(this, \"_keyboardManager\", new tools.KeyboardManager([[[\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"], proto.commitOrRemove, {\n      bubbles: true\n    }], [[\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"], proto.commitOrRemove], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._translateEmpty, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto._translateEmpty, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._translateEmpty, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto._translateEmpty, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._translateEmpty, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto._translateEmpty, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  static _type = \"freetext\";\n  static _editorType = util.AnnotationEditorType.FREETEXT;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"freeTextEditor\"\n    });\n    this.#color = params.color || FreeTextEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n  }\n  static initialize(l10n) {\n    editor_editor.AnnotationEditor.initialize(l10n, {\n      strings: [\"pdfjs-free-text-default-content\"]\n    });\n    const style = getComputedStyle(document.documentElement);\n    this._internalPadding = parseFloat(style.getPropertyValue(\"--freetext-padding\"));\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case util.AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case util.AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.FREETEXT_SIZE, FreeTextEditor._defaultFontSize], [util.AnnotationEditorParamsType.FREETEXT_COLOR, FreeTextEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize], [util.AnnotationEditorParamsType.FREETEXT_COLOR, this.#color]];\n  }\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: () => {\n        setFontsize(fontSize);\n      },\n      undo: () => {\n        setFontsize(savedFontsize);\n      },\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const savedColor = this.#color;\n    this.addCommands({\n      cmd: () => {\n        this.#color = this.editorDiv.style.color = color;\n      },\n      undo: () => {\n        this.#color = this.editorDiv.style.color = savedColor;\n      },\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, true);\n  }\n  getInitialTranslation() {\n    const scale = this.parentScale;\n    return [-FreeTextEditor._internalPadding * scale, -(FreeTextEditor._internalPadding + this.#fontSize) * scale];\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(false);\n    this.parent.updateToolbar(util.AnnotationEditorType.FREETEXT);\n    super.enableEditMode();\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n    this.editorDiv.addEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.addEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.addEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.addEventListener(\"input\", this.#boundEditorDivInput);\n  }\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(true);\n    super.disableEditMode();\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n    this.editorDiv.removeEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.removeEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.removeEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.removeEventListener(\"input\", this.#boundEditorDivInput);\n    this.div.focus({\n      preventScroll: true\n    });\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n  onceAdded() {\n    if (this.width) {\n      this.#cheatInitialRect();\n      return;\n    }\n    this.enableEditMode();\n    this.editorDiv.focus();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n  #extractText() {\n    const divs = this.editorDiv.getElementsByTagName(\"div\");\n    if (divs.length === 0) {\n      return this.editorDiv.innerText;\n    }\n    const buffer = [];\n    for (const div of divs) {\n      buffer.push(div.innerText.replace(/\\r\\n?|\\n/, \"\"));\n    }\n    return buffer.join(\"\\n\");\n  }\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      const {\n        currentLayer,\n        div\n      } = this;\n      const savedDisplay = div.style.display;\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n    }\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = this.#content = this.#extractText().trimEnd();\n    if (savedText === newText) {\n      return;\n    }\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false\n    });\n    this.#setEditorDimensions();\n  }\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n  dblclick(event) {\n    this.enterInEditMode();\n  }\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      event.preventDefault();\n    }\n  }\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text\");\n    this.enableEditing();\n    editor_editor.AnnotationEditor._l10nPromise.get(\"pdfjs-free-text-default-content\").then(msg => this.editorDiv?.setAttribute(\"default-content\", msg));\n    this.editorDiv.contentEditable = true;\n    const {\n      style\n    } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    this.div.append(this.editorDiv);\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n    (0,tools.bindEvents)(this, this.div, [\"dblclick\", \"keydown\"]);\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        const {\n          position\n        } = this.#initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX = baseX + (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY = baseY + (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      }\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n    return this.div;\n  }\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      this.editorDiv.append(div);\n    }\n  }\n  get contentDiv() {\n    return this.editorDiv;\n  }\n  static deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof annotation_layer.FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: {\n            fontSize,\n            fontColor\n          },\n          rect,\n          rotation,\n          id\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      if (!textContent || textContent.length === 0) {\n        return null;\n      }\n      initialData = data = {\n        annotationType: util.AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect,\n        rotation,\n        id,\n        deleted: false\n      };\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.#color = util.Util.makeHexColor(...data.color);\n    editor.#content = data.value;\n    editor.annotationElementId = data.id || null;\n    editor.#initialData = initialData;\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return {\n        pageIndex: this.pageIndex,\n        id: this.annotationElementId,\n        deleted: true\n      };\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    const rect = this.getRect(padding, padding);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.isAttachedToDOM ? getComputedStyle(this.editorDiv).color : this.#color);\n    const serialized = {\n      annotationType: util.AnnotationEditorType.FREETEXT,\n      color,\n      fontSize: this.#fontSize,\n      value: this.#content,\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      value,\n      fontSize,\n      color,\n      rect,\n      pageIndex\n    } = this.#initialData;\n    return serialized.value !== value || serialized.fontSize !== fontSize || serialized.rect.some((x, i) => Math.abs(x - rect[i]) >= 1) || serialized.color.some((c, i) => c !== color[i]) || serialized.pageIndex !== pageIndex;\n  }\n  #cheatInitialRect(delayed = false) {\n    if (!this.annotationElementId) {\n      return;\n    }\n    this.#setEditorDimensions();\n    if (!delayed && (this.width === 0 || this.height === 0)) {\n      setTimeout(() => this.#cheatInitialRect(true), 0);\n      return;\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    this.#initialData.rect = this.getRect(padding, padding);\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(473);\n;// CONCATENATED MODULE: ./src/display/editor/ink.js\n\n\n\n\n\nclass InkEditor extends editor_editor.AnnotationEditor {\n  #baseHeight = 0;\n  #baseWidth = 0;\n  #boundCanvasPointermove = this.canvasPointermove.bind(this);\n  #boundCanvasPointerleave = this.canvasPointerleave.bind(this);\n  #boundCanvasPointerup = this.canvasPointerup.bind(this);\n  #boundCanvasPointerdown = this.canvasPointerdown.bind(this);\n  #canvasContextMenuTimeoutId = null;\n  #currentPath2D = new Path2D();\n  #disableEditing = false;\n  #hasSomethingToDraw = false;\n  #isCanvasInitialized = false;\n  #observer = null;\n  #realWidth = 0;\n  #realHeight = 0;\n  #requestFrameCallback = null;\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 1;\n  static _type = \"ink\";\n  static _editorType = util.AnnotationEditorType.INK;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"inkEditor\"\n    });\n    this.color = params.color || null;\n    this.thickness = params.thickness || null;\n    this.opacity = params.opacity || null;\n    this.paths = [];\n    this.bezierPath2D = [];\n    this.allRawPaths = [];\n    this.currentPath = [];\n    this.scaleFactor = 1;\n    this.translationX = this.translationY = 0;\n    this.x = 0;\n    this.y = 0;\n    this._willKeepAspectRatio = true;\n  }\n  static initialize(l10n) {\n    editor_editor.AnnotationEditor.initialize(l10n);\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.INK_THICKNESS:\n        InkEditor._defaultThickness = value;\n        break;\n      case util.AnnotationEditorParamsType.INK_COLOR:\n        InkEditor._defaultColor = value;\n        break;\n      case util.AnnotationEditorParamsType.INK_OPACITY:\n        InkEditor._defaultOpacity = value / 100;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.INK_THICKNESS:\n        this.#updateThickness(value);\n        break;\n      case util.AnnotationEditorParamsType.INK_COLOR:\n        this.#updateColor(value);\n        break;\n      case util.AnnotationEditorParamsType.INK_OPACITY:\n        this.#updateOpacity(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.INK_THICKNESS, InkEditor._defaultThickness], [util.AnnotationEditorParamsType.INK_COLOR, InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor], [util.AnnotationEditorParamsType.INK_OPACITY, Math.round(InkEditor._defaultOpacity * 100)]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.INK_THICKNESS, this.thickness || InkEditor._defaultThickness], [util.AnnotationEditorParamsType.INK_COLOR, this.color || InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor], [util.AnnotationEditorParamsType.INK_OPACITY, Math.round(100 * (this.opacity ?? InkEditor._defaultOpacity))]];\n  }\n  #updateThickness(thickness) {\n    const savedThickness = this.thickness;\n    this.addCommands({\n      cmd: () => {\n        this.thickness = thickness;\n        this.#fitToContent();\n      },\n      undo: () => {\n        this.thickness = savedThickness;\n        this.#fitToContent();\n      },\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: () => {\n        this.color = color;\n        this.#redraw();\n      },\n      undo: () => {\n        this.color = savedColor;\n        this.#redraw();\n      },\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateOpacity(opacity) {\n    opacity /= 100;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: () => {\n        this.opacity = opacity;\n        this.#redraw();\n      },\n      undo: () => {\n        this.opacity = savedOpacity;\n        this.#redraw();\n      },\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_OPACITY,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.canvas) {\n      this.#createCanvas();\n      this.#createObserver();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n      this.#setCanvasDims();\n    }\n    this.#fitToContent();\n  }\n  remove() {\n    if (this.canvas === null) {\n      return;\n    }\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.remove();\n    this.canvas = null;\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n      this.#canvasContextMenuTimeoutId = null;\n    }\n    this.#observer.disconnect();\n    this.#observer = null;\n    super.remove();\n  }\n  setParent(parent) {\n    if (!this.parent && parent) {\n      this._uiManager.removeShouldRescale(this);\n    } else if (this.parent && parent === null) {\n      this._uiManager.addShouldRescale(this);\n    }\n    super.setParent(parent);\n  }\n  onScaleChanging() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const width = this.width * parentWidth;\n    const height = this.height * parentHeight;\n    this.setDimensions(width, height);\n  }\n  enableEditMode() {\n    if (this.#disableEditing || this.canvas === null) {\n      return;\n    }\n    super.enableEditMode();\n    this._isDraggable = false;\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n  }\n  disableEditMode() {\n    if (!this.isInEditMode() || this.canvas === null) {\n      return;\n    }\n    super.disableEditMode();\n    this._isDraggable = !this.isEmpty();\n    this.div.classList.remove(\"editing\");\n    this.canvas.removeEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n  }\n  onceAdded() {\n    this._isDraggable = !this.isEmpty();\n  }\n  isEmpty() {\n    return this.paths.length === 0 || this.paths.length === 1 && this.paths[0].length === 0;\n  }\n  #getInitialBBox() {\n    const {\n      parentRotation,\n      parentDimensions: [width, height]\n    } = this;\n    switch (parentRotation) {\n      case 90:\n        return [0, height, height, width];\n      case 180:\n        return [width, height, width, height];\n      case 270:\n        return [width, 0, height, width];\n      default:\n        return [0, 0, width, height];\n    }\n  }\n  #setStroke() {\n    const {\n      ctx,\n      color,\n      opacity,\n      thickness,\n      parentScale,\n      scaleFactor\n    } = this;\n    ctx.lineWidth = thickness * parentScale / scaleFactor;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.miterLimit = 10;\n    ctx.strokeStyle = `${color}${(0,tools.opacityToHex)(opacity)}`;\n  }\n  #startDrawing(x, y) {\n    this.canvas.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    this.canvas.addEventListener(\"pointerleave\", this.#boundCanvasPointerleave);\n    this.canvas.addEventListener(\"pointermove\", this.#boundCanvasPointermove);\n    this.canvas.addEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.removeEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n    this.isEditing = true;\n    if (!this.#isCanvasInitialized) {\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.thickness ||= InkEditor._defaultThickness;\n      this.color ||= InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor;\n      this.opacity ??= InkEditor._defaultOpacity;\n    }\n    this.currentPath.push([x, y]);\n    this.#hasSomethingToDraw = false;\n    this.#setStroke();\n    this.#requestFrameCallback = () => {\n      this.#drawPoints();\n      if (this.#requestFrameCallback) {\n        window.requestAnimationFrame(this.#requestFrameCallback);\n      }\n    };\n    window.requestAnimationFrame(this.#requestFrameCallback);\n  }\n  #draw(x, y) {\n    const [lastX, lastY] = this.currentPath.at(-1);\n    if (this.currentPath.length > 1 && x === lastX && y === lastY) {\n      return;\n    }\n    const currentPath = this.currentPath;\n    let path2D = this.#currentPath2D;\n    currentPath.push([x, y]);\n    this.#hasSomethingToDraw = true;\n    if (currentPath.length <= 2) {\n      path2D.moveTo(...currentPath[0]);\n      path2D.lineTo(x, y);\n      return;\n    }\n    if (currentPath.length === 3) {\n      this.#currentPath2D = path2D = new Path2D();\n      path2D.moveTo(...currentPath[0]);\n    }\n    this.#makeBezierCurve(path2D, ...currentPath.at(-3), ...currentPath.at(-2), x, y);\n  }\n  #endPath() {\n    if (this.currentPath.length === 0) {\n      return;\n    }\n    const lastPoint = this.currentPath.at(-1);\n    this.#currentPath2D.lineTo(...lastPoint);\n  }\n  #stopDrawing(x, y) {\n    this.#requestFrameCallback = null;\n    x = Math.min(Math.max(x, 0), this.canvas.width);\n    y = Math.min(Math.max(y, 0), this.canvas.height);\n    this.#draw(x, y);\n    this.#endPath();\n    let bezier;\n    if (this.currentPath.length !== 1) {\n      bezier = this.#generateBezierPoints();\n    } else {\n      const xy = [x, y];\n      bezier = [[xy, xy.slice(), xy.slice(), xy]];\n    }\n    const path2D = this.#currentPath2D;\n    const currentPath = this.currentPath;\n    this.currentPath = [];\n    this.#currentPath2D = new Path2D();\n    const cmd = () => {\n      this.allRawPaths.push(currentPath);\n      this.paths.push(bezier);\n      this.bezierPath2D.push(path2D);\n      this.rebuild();\n    };\n    const undo = () => {\n      this.allRawPaths.pop();\n      this.paths.pop();\n      this.bezierPath2D.pop();\n      if (this.paths.length === 0) {\n        this.remove();\n      } else {\n        if (!this.canvas) {\n          this.#createCanvas();\n          this.#createObserver();\n        }\n        this.#fitToContent();\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  #drawPoints() {\n    if (!this.#hasSomethingToDraw) {\n      return;\n    }\n    this.#hasSomethingToDraw = false;\n    const thickness = Math.ceil(this.thickness * this.parentScale);\n    const lastPoints = this.currentPath.slice(-3);\n    const x = lastPoints.map(xy => xy[0]);\n    const y = lastPoints.map(xy => xy[1]);\n    const xMin = Math.min(...x) - thickness;\n    const xMax = Math.max(...x) + thickness;\n    const yMin = Math.min(...y) - thickness;\n    const yMax = Math.max(...y) + thickness;\n    const {\n      ctx\n    } = this;\n    ctx.save();\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n    ctx.stroke(this.#currentPath2D);\n    ctx.restore();\n  }\n  #makeBezierCurve(path2D, x0, y0, x1, y1, x2, y2) {\n    const prevX = (x0 + x1) / 2;\n    const prevY = (y0 + y1) / 2;\n    const x3 = (x1 + x2) / 2;\n    const y3 = (y1 + y2) / 2;\n    path2D.bezierCurveTo(prevX + 2 * (x1 - prevX) / 3, prevY + 2 * (y1 - prevY) / 3, x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3, x3, y3);\n  }\n  #generateBezierPoints() {\n    const path = this.currentPath;\n    if (path.length <= 2) {\n      return [[path[0], path[0], path.at(-1), path.at(-1)]];\n    }\n    const bezierPoints = [];\n    let i;\n    let [x0, y0] = path[0];\n    for (i = 1; i < path.length - 2; i++) {\n      const [x1, y1] = path[i];\n      const [x2, y2] = path[i + 1];\n      const x3 = (x1 + x2) / 2;\n      const y3 = (y1 + y2) / 2;\n      const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n      const control2 = [x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3];\n      bezierPoints.push([[x0, y0], control1, control2, [x3, y3]]);\n      [x0, y0] = [x3, y3];\n    }\n    const [x1, y1] = path[i];\n    const [x2, y2] = path[i + 1];\n    const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n    const control2 = [x2 + 2 * (x1 - x2) / 3, y2 + 2 * (y1 - y2) / 3];\n    bezierPoints.push([[x0, y0], control1, control2, [x2, y2]]);\n    return bezierPoints;\n  }\n  #redraw() {\n    if (this.isEmpty()) {\n      this.#updateTransform();\n      return;\n    }\n    this.#setStroke();\n    const {\n      canvas,\n      ctx\n    } = this;\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    this.#updateTransform();\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n  }\n  commit() {\n    if (this.#disableEditing) {\n      return;\n    }\n    super.commit();\n    this.isEditing = false;\n    this.disableEditMode();\n    this.setInForeground();\n    this.#disableEditing = true;\n    this.div.classList.add(\"disabled\");\n    this.#fitToContent(true);\n    this.makeResizable();\n    this.parent.addInkEditorIfNeeded(true);\n    this.moveInDOM();\n    this.div.focus({\n      preventScroll: true\n    });\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    this.enableEditMode();\n  }\n  canvasPointerdown(event) {\n    if (event.button !== 0 || !this.isInEditMode() || this.#disableEditing) {\n      return;\n    }\n    this.setInForeground();\n    event.preventDefault();\n    if (event.type !== \"mouse\") {\n      this.div.focus();\n    }\n    this.#startDrawing(event.offsetX, event.offsetY);\n  }\n  canvasPointermove(event) {\n    event.preventDefault();\n    this.#draw(event.offsetX, event.offsetY);\n  }\n  canvasPointerup(event) {\n    event.preventDefault();\n    this.#endDrawing(event);\n  }\n  canvasPointerleave(event) {\n    this.#endDrawing(event);\n  }\n  #endDrawing(event) {\n    this.canvas.removeEventListener(\"pointerleave\", this.#boundCanvasPointerleave);\n    this.canvas.removeEventListener(\"pointermove\", this.#boundCanvasPointermove);\n    this.canvas.removeEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n    }\n    this.#canvasContextMenuTimeoutId = setTimeout(() => {\n      this.#canvasContextMenuTimeoutId = null;\n      this.canvas.removeEventListener(\"contextmenu\", display_utils.noContextMenu);\n    }, 10);\n    this.#stopDrawing(event.offsetX, event.offsetY);\n    this.addToAnnotationStorage();\n    this.setInBackground();\n  }\n  #createCanvas() {\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.className = \"inkEditorCanvas\";\n    this.canvas.setAttribute(\"data-l10n-id\", \"pdfjs-ink-canvas\");\n    this.div.append(this.canvas);\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n  }\n  get isResizable() {\n    return !this.isEmpty() && this.#disableEditing;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.setAttribute(\"data-l10n-id\", \"pdfjs-ink\");\n    const [x, y, w, h] = this.#getInitialBBox();\n    this.setAt(x, y, 0, 0);\n    this.setDims(w, h);\n    this.#createCanvas();\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAspectRatio(this.width * parentWidth, this.height * parentHeight);\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.setDims(this.width * parentWidth, this.height * parentHeight);\n      this.#redraw();\n      this.div.classList.add(\"disabled\");\n    } else {\n      this.div.classList.add(\"editing\");\n      this.enableEditMode();\n    }\n    this.#createObserver();\n    return this.div;\n  }\n  #setCanvasDims() {\n    if (!this.#isCanvasInitialized) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.canvas.width = Math.ceil(this.width * parentWidth);\n    this.canvas.height = Math.ceil(this.height * parentHeight);\n    this.#updateTransform();\n  }\n  setDimensions(width, height) {\n    const roundedWidth = Math.round(width);\n    const roundedHeight = Math.round(height);\n    if (this.#realWidth === roundedWidth && this.#realHeight === roundedHeight) {\n      return;\n    }\n    this.#realWidth = roundedWidth;\n    this.#realHeight = roundedHeight;\n    this.canvas.style.visibility = \"hidden\";\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.fixAndSetPosition();\n    if (this.#disableEditing) {\n      this.#setScaleFactor(width, height);\n    }\n    this.#setCanvasDims();\n    this.#redraw();\n    this.canvas.style.visibility = \"visible\";\n    this.fixDims();\n  }\n  #setScaleFactor(width, height) {\n    const padding = this.#getPadding();\n    const scaleFactorW = (width - padding) / this.#baseWidth;\n    const scaleFactorH = (height - padding) / this.#baseHeight;\n    this.scaleFactor = Math.min(scaleFactorW, scaleFactorH);\n  }\n  #updateTransform() {\n    const padding = this.#getPadding() / 2;\n    this.ctx.setTransform(this.scaleFactor, 0, 0, this.scaleFactor, this.translationX * this.scaleFactor + padding, this.translationY * this.scaleFactor + padding);\n  }\n  static #buildPath2D(bezier) {\n    const path2D = new Path2D();\n    for (let i = 0, ii = bezier.length; i < ii; i++) {\n      const [first, control1, control2, second] = bezier[i];\n      if (i === 0) {\n        path2D.moveTo(...first);\n      }\n      path2D.bezierCurveTo(control1[0], control1[1], control2[0], control2[1], second[0], second[1]);\n    }\n    return path2D;\n  }\n  static #toPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] += blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] + blX;\n          points[i + 1] = x + blY;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] += blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trX - points[i + 1];\n          points[i + 1] = trY - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  static #fromPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] -= blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] - blY;\n          points[i + 1] = x - blX;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] -= blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trY - points[i + 1];\n          points[i + 1] = trX - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  #serializePaths(s, tx, ty, rect) {\n    const paths = [];\n    const padding = this.thickness / 2;\n    const shiftX = s * tx + padding;\n    const shiftY = s * ty + padding;\n    for (const bezier of this.paths) {\n      const buffer = [];\n      const points = [];\n      for (let j = 0, jj = bezier.length; j < jj; j++) {\n        const [first, control1, control2, second] = bezier[j];\n        const p10 = s * first[0] + shiftX;\n        const p11 = s * first[1] + shiftY;\n        const p20 = s * control1[0] + shiftX;\n        const p21 = s * control1[1] + shiftY;\n        const p30 = s * control2[0] + shiftX;\n        const p31 = s * control2[1] + shiftY;\n        const p40 = s * second[0] + shiftX;\n        const p41 = s * second[1] + shiftY;\n        if (j === 0) {\n          buffer.push(p10, p11);\n          points.push(p10, p11);\n        }\n        buffer.push(p20, p21, p30, p31, p40, p41);\n        points.push(p20, p21);\n        if (j === jj - 1) {\n          points.push(p40, p41);\n        }\n      }\n      paths.push({\n        bezier: InkEditor.#toPDFCoordinates(buffer, rect, this.rotation),\n        points: InkEditor.#toPDFCoordinates(points, rect, this.rotation)\n      });\n    }\n    return paths;\n  }\n  #getBbox() {\n    let xMin = Infinity;\n    let xMax = -Infinity;\n    let yMin = Infinity;\n    let yMax = -Infinity;\n    for (const path of this.paths) {\n      for (const [first, control1, control2, second] of path) {\n        const bbox = util.Util.bezierBoundingBox(...first, ...control1, ...control2, ...second);\n        xMin = Math.min(xMin, bbox[0]);\n        yMin = Math.min(yMin, bbox[1]);\n        xMax = Math.max(xMax, bbox[2]);\n        yMax = Math.max(yMax, bbox[3]);\n      }\n    }\n    return [xMin, yMin, xMax, yMax];\n  }\n  #getPadding() {\n    return this.#disableEditing ? Math.ceil(this.thickness * this.parentScale) : 0;\n  }\n  #fitToContent(firstTime = false) {\n    if (this.isEmpty()) {\n      return;\n    }\n    if (!this.#disableEditing) {\n      this.#redraw();\n      return;\n    }\n    const bbox = this.#getBbox();\n    const padding = this.#getPadding();\n    this.#baseWidth = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    this.#baseHeight = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    const width = Math.ceil(padding + this.#baseWidth * this.scaleFactor);\n    const height = Math.ceil(padding + this.#baseHeight * this.scaleFactor);\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setAspectRatio(width, height);\n    const prevTranslationX = this.translationX;\n    const prevTranslationY = this.translationY;\n    this.translationX = -bbox[0];\n    this.translationY = -bbox[1];\n    this.#setCanvasDims();\n    this.#redraw();\n    this.#realWidth = width;\n    this.#realHeight = height;\n    this.setDims(width, height);\n    const unscaledPadding = firstTime ? padding / this.scaleFactor / 2 : 0;\n    this.translate(prevTranslationX - this.translationX - unscaledPadding, prevTranslationY - this.translationY - unscaledPadding);\n  }\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof annotation_layer.InkAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    editor.thickness = data.thickness;\n    editor.color = util.Util.makeHexColor(...data.color);\n    editor.opacity = data.opacity;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const width = editor.width * pageWidth;\n    const height = editor.height * pageHeight;\n    const scaleFactor = editor.parentScale;\n    const padding = data.thickness / 2;\n    editor.#disableEditing = true;\n    editor.#realWidth = Math.round(width);\n    editor.#realHeight = Math.round(height);\n    const {\n      paths,\n      rect,\n      rotation\n    } = data;\n    for (let {\n      bezier\n    } of paths) {\n      bezier = InkEditor.#fromPDFCoordinates(bezier, rect, rotation);\n      const path = [];\n      editor.paths.push(path);\n      let p0 = scaleFactor * (bezier[0] - padding);\n      let p1 = scaleFactor * (bezier[1] - padding);\n      for (let i = 2, ii = bezier.length; i < ii; i += 6) {\n        const p10 = scaleFactor * (bezier[i] - padding);\n        const p11 = scaleFactor * (bezier[i + 1] - padding);\n        const p20 = scaleFactor * (bezier[i + 2] - padding);\n        const p21 = scaleFactor * (bezier[i + 3] - padding);\n        const p30 = scaleFactor * (bezier[i + 4] - padding);\n        const p31 = scaleFactor * (bezier[i + 5] - padding);\n        path.push([[p0, p1], [p10, p11], [p20, p21], [p30, p31]]);\n        p0 = p30;\n        p1 = p31;\n      }\n      const path2D = this.#buildPath2D(path);\n      editor.bezierPath2D.push(path2D);\n    }\n    const bbox = editor.#getBbox();\n    editor.#baseWidth = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    editor.#baseHeight = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    editor.#setScaleFactor(width, height);\n    return editor;\n  }\n  serialize() {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const rect = this.getRect(0, 0);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);\n    return {\n      annotationType: util.AnnotationEditorType.INK,\n      color,\n      thickness: this.thickness,\n      opacity: this.opacity,\n      paths: this.#serializePaths(this.scaleFactor / this.parentScale, this.translationX, this.translationY, rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/stamp.js\n\n\n\n\nclass StampEditor extends editor_editor.AnnotationEditor {\n  #bitmap = null;\n  #bitmapId = null;\n  #bitmapPromise = null;\n  #bitmapUrl = null;\n  #bitmapFile = null;\n  #bitmapFileName = \"\";\n  #canvas = null;\n  #observer = null;\n  #resizeTimeoutId = null;\n  #isSvg = false;\n  #hasBeenAddedInUndoStack = false;\n  static _type = \"stamp\";\n  static _editorType = util.AnnotationEditorType.STAMP;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"stampEditor\"\n    });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n  }\n  static initialize(l10n) {\n    editor_editor.AnnotationEditor.initialize(l10n);\n  }\n  static get supportedTypes() {\n    const types = [\"apng\", \"avif\", \"bmp\", \"gif\", \"jpeg\", \"png\", \"svg+xml\", \"webp\", \"x-icon\"];\n    return (0,util.shadow)(this, \"supportedTypes\", types.map(type => `image/${type}`));\n  }\n  static get supportedTypesStr() {\n    return (0,util.shadow)(this, \"supportedTypesStr\", this.supportedTypes.join(\",\"));\n  }\n  static isHandlingMimeForPasting(mime) {\n    return this.supportedTypes.includes(mime);\n  }\n  static paste(item, parent) {\n    parent.pasteEditor(util.AnnotationEditorType.STAMP, {\n      bitmapFile: item.getAsFile()\n    });\n  }\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (this.#canvas) {\n      this.div.focus();\n    }\n  }\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager.getFromId(this.#bitmapId).then(data => this.#getBitmapFetched(data, true)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromUrl(url).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromFile(file).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = StampEditor.supportedTypesStr;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\"change\", async () => {\n        if (!input.files || input.files.length === 0) {\n          this.remove();\n        } else {\n          this._uiManager.enableWaiting(true);\n          const data = await this._uiManager.imageManager.getFromFile(input.files[0]);\n          this.#getBitmapFetched(data);\n        }\n        resolve();\n      });\n      input.addEventListener(\"cancel\", () => {\n        this.remove();\n        resolve();\n      });\n    }).finally(() => this.#getBitmapDone());\n    input.click();\n  }\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      this.#observer?.disconnect();\n      this.#observer = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (this.#bitmapId) {\n      this.#getBitmap();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  onceAdded() {\n    this._isDraggable = true;\n    this.div.focus();\n  }\n  isEmpty() {\n    return !(this.#bitmapPromise || this.#bitmap || this.#bitmapUrl || this.#bitmapFile);\n  }\n  get isResizable() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.hidden = true;\n    if (this.#bitmap) {\n      this.#createCanvas();\n    } else {\n      this.#getBitmap();\n    }\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n    }\n    return this.div;\n  }\n  #createCanvas() {\n    const {\n      div\n    } = this;\n    let {\n      width,\n      height\n    } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (width > MAX_RATIO * pageWidth || height > MAX_RATIO * pageHeight) {\n      const factor = Math.min(MAX_RATIO * pageWidth / width, MAX_RATIO * pageHeight / height);\n      width *= factor;\n      height *= factor;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(width * parentWidth / pageWidth, height * parentHeight / pageHeight);\n    this._uiManager.enableWaiting(false);\n    const canvas = this.#canvas = document.createElement(\"canvas\");\n    div.append(canvas);\n    div.hidden = false;\n    this.#drawBitmap(width, height);\n    this.#createObserver();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        subtype: this.editorType,\n        data: {\n          action: \"inserted_image\"\n        }\n      }\n    });\n    this.addAltTextButton();\n    if (this.#bitmapFileName) {\n      canvas.setAttribute(\"aria-label\", this.#bitmapFileName);\n    }\n  }\n  #setDimensions(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setDims(width, height);\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap(width, height);\n    }, TIME_TO_WAIT);\n  }\n  #scaleBitmap(width, height) {\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n      if (newWidth > 2 * width) {\n        newWidth = newWidth >= 16384 ? Math.floor(newWidth / 2) - 1 : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight = newHeight >= 16384 ? Math.floor(newHeight / 2) - 1 : Math.ceil(newHeight / 2);\n      }\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n      bitmap = offscreen.transferToImageBitmap();\n    }\n    return bitmap;\n  }\n  #drawBitmap(width, height) {\n    width = Math.ceil(width);\n    height = Math.ceil(height);\n    const canvas = this.#canvas;\n    if (!canvas || canvas.width === width && canvas.height === height) {\n      return;\n    }\n    canvas.width = width;\n    canvas.height = height;\n    const bitmap = this.#isSvg ? this.#bitmap : this.#scaleBitmap(width, height);\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, width, height);\n  }\n  getImageForAltText() {\n    return this.#canvas;\n  }\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      const canvas = document.createElement(\"canvas\");\n      ({\n        width: canvas.width,\n        height: canvas.height\n      } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n      return canvas.toDataURL();\n    }\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      const width = Math.round(this.width * pageWidth * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n      const height = Math.round(this.height * pageHeight * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0, this.#bitmap.width, this.#bitmap.height, 0, 0, width, height);\n      return offscreen.transferToImageBitmap();\n    }\n    return structuredClone(this.#bitmap);\n  }\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.#setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n  }\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof annotation_layer.StampAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    const {\n      rect,\n      bitmapUrl,\n      bitmapId,\n      isSvg,\n      accessibilityData\n    } = data;\n    if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    return editor;\n  }\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const serialized = {\n      annotationType: util.AnnotationEditorType.STAMP,\n      bitmapId: this.#bitmapId,\n      pageIndex: this.pageIndex,\n      rect: this.getRect(0, 0),\n      rotation: this.rotation,\n      isSvg: this.#isSvg,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      serialized.bitmapUrl = this.#serializeBitmap(true);\n      serialized.accessibilityData = this.altTextData;\n      return serialized;\n    }\n    const {\n      decorative,\n      altText\n    } = this.altTextData;\n    if (!decorative && altText) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: altText\n      };\n    }\n    if (context === null) {\n      return serialized;\n    }\n    context.stamps ||= new Map();\n    const area = this.#isSvg ? (serialized.rect[2] - serialized.rect[0]) * (serialized.rect[3] - serialized.rect[1]) : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      context.stamps.set(this.#bitmapId, {\n        area,\n        serialized\n      });\n      serialized.bitmap = this.#serializeBitmap(false);\n    } else if (this.#isSvg) {\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(false);\n      }\n    }\n    return serialized;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/annotation_editor_layer.js\n\n\n\n\n\n\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n  #allowClick = false;\n  #annotationLayer = null;\n  #boundPointerup = this.pointerup.bind(this);\n  #boundPointerdown = this.pointerdown.bind(this);\n  #editorFocusTimeoutId = null;\n  #editors = new Map();\n  #hadPointerDown = false;\n  #isCleaningUp = false;\n  #isDisabling = false;\n  #uiManager;\n  static _initialized = false;\n  static #editorTypes = new Map([FreeTextEditor, InkEditor, StampEditor].map(type => [type._editorType, type]));\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    accessibilityManager,\n    annotationLayer,\n    viewport,\n    l10n\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#uiManager.addLayer(this);\n  }\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n  updateToolbar(mode) {\n    this.#uiManager.updateToolbar(mode);\n  }\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    if (mode === util.AnnotationEditorType.INK) {\n      this.addInkEditorIfNeeded(false);\n      this.disableClick();\n    } else {\n      this.enableClick();\n    }\n    if (mode !== util.AnnotationEditorType.NONE) {\n      const {\n        classList\n      } = this.div;\n      for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n        classList.toggle(`${editorType._type}Editing`, mode === editorType._editorType);\n      }\n      this.div.hidden = false;\n    }\n  }\n  addInkEditorIfNeeded(isCommitting) {\n    if (!isCommitting && this.#uiManager.getMode() !== util.AnnotationEditorType.INK) {\n      return;\n    }\n    if (!isCommitting) {\n      for (const editor of this.#editors.values()) {\n        if (editor.isEmpty()) {\n          editor.setInBackground();\n          return;\n        }\n      }\n    }\n    const editor = this.#createAndAddNewEditor({\n      offsetX: 0,\n      offsetY: 0\n    }, false);\n    editor.setInBackground();\n  }\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  enable() {\n    this.togglePointerEvents(true);\n    const annotationElementIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.enableEditing();\n      if (editor.annotationElementId) {\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n    if (!this.#annotationLayer) {\n      return;\n    }\n    const editables = this.#annotationLayer.getEditableAnnotations();\n    for (const editable of editables) {\n      editable.hide();\n      if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n        continue;\n      }\n      if (annotationElementIds.has(editable.data.id)) {\n        continue;\n      }\n      const editor = this.deserialize(editable);\n      if (!editor) {\n        continue;\n      }\n      this.addOrRebuild(editor);\n      editor.enableEditing();\n    }\n  }\n  disable() {\n    this.#isDisabling = true;\n    this.togglePointerEvents(false);\n    const hiddenAnnotationIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.disableEditing();\n      if (!editor.annotationElementId || editor.serialize() !== null) {\n        hiddenAnnotationIds.add(editor.annotationElementId);\n        continue;\n      }\n      this.getEditableAnnotation(editor.annotationElementId)?.show();\n      editor.remove();\n    }\n    if (this.#annotationLayer) {\n      const editables = this.#annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const {\n          id\n        } = editable.data;\n        if (hiddenAnnotationIds.has(id) || this.#uiManager.isDeletedAnnotationElement(id)) {\n          continue;\n        }\n        editable.show();\n      }\n    }\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.#isDisabling = false;\n  }\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n    this.#uiManager.setActiveEditor(editor);\n  }\n  enableClick() {\n    this.div.addEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.addEventListener(\"pointerup\", this.#boundPointerup);\n  }\n  disableClick() {\n    this.div.removeEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.removeEventListener(\"pointerup\", this.#boundPointerup);\n  }\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const {\n      annotationElementId\n    } = editor;\n    if (annotationElementId && this.#uiManager.isDeletedAnnotationElement(annotationElementId)) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n    if (!this.#isCleaningUp) {\n      this.addInkEditorIfNeeded(false);\n    }\n  }\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n    if (editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor.annotationElementId);\n      editor_editor.AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n  add(editor) {\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n    editor.fixAndSetPosition();\n    editor.onceAdded();\n    this.#uiManager.addToAnnotationStorage(editor);\n  }\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\"focusin\", () => {\n            editor._focusEventsAllowed = true;\n          }, {\n            once: true\n          });\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(this.div, editor.div, editor.contentDiv, true);\n  }\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n    } else {\n      this.add(editor);\n    }\n  }\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: false\n    });\n  }\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n  #createNewEditor(params) {\n    const editorType = AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n  pasteEditor(mode, params) {\n    this.#uiManager.updateToolbar(mode);\n    this.#uiManager.updateMode(mode);\n    const {\n      offsetX,\n      offsetY\n    } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n  deserialize(data) {\n    return AnnotationEditorLayer.#editorTypes.get(data.annotationType ?? data.annotationEditorType)?.deserialize(data, this, this.#uiManager) || null;\n  }\n  #createAndAddNewEditor(event, isCentered) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered\n    });\n    if (editor) {\n      this.add(editor);\n    }\n    return editor;\n  }\n  #getCenterPoint() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.div.getBoundingClientRect();\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] = this.viewport.rotation % 180 === 0 ? [centerX, centerY] : [centerY, centerX];\n    return {\n      offsetX,\n      offsetY\n    };\n  }\n  addNewEditor() {\n    this.#createAndAddNewEditor(this.#getCenterPoint(), true);\n  }\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n  isSelected(editor) {\n    return this.#uiManager.isSelected(editor);\n  }\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n  pointerup(event) {\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    if (!this.#hadPointerDown) {\n      return;\n    }\n    this.#hadPointerDown = false;\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n    if (this.#uiManager.getMode() === util.AnnotationEditorType.STAMP) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n    this.#createAndAddNewEditor(event, false);\n  }\n  pointerdown(event) {\n    if (this.#hadPointerDown) {\n      this.#hadPointerDown = false;\n      return;\n    }\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    this.#hadPointerDown = true;\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n  destroy() {\n    if (this.#uiManager.getActive()?.parent === this) {\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n  #cleanup() {\n    this.#isCleaningUp = true;\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n    this.#isCleaningUp = false;\n  }\n  render({\n    viewport\n  }) {\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n    }\n    this.updateMode();\n  }\n  update({\n    viewport\n  }) {\n    this.#uiManager.commitOrRemove();\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(this.div, {\n      rotation: viewport.rotation\n    });\n    this.updateMode();\n  }\n  get pageDimensions() {\n    const {\n      pageWidth,\n      pageHeight\n    } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n}\n\n\n/***/ }),\n\n/***/ 682:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationEditor: () => (/* binding */ AnnotationEditor)\n/* harmony export */ });\n/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(812);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(266);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(473);\n\n\n\nclass AnnotationEditor {\n  #allResizerDivs = null;\n  #altText = \"\";\n  #altTextDecorative = false;\n  #altTextButton = null;\n  #altTextTooltip = null;\n  #altTextTooltipTimeout = null;\n  #altTextWasFromKeyBoard = false;\n  #keepAspectRatio = false;\n  #resizersDiv = null;\n  #savedDimensions = null;\n  #boundFocusin = this.focusin.bind(this);\n  #boundFocusout = this.focusout.bind(this);\n  #focusedResizerName = \"\";\n  #hasBeenClicked = false;\n  #isEditing = false;\n  #isInEditMode = false;\n  #isResizerEnabledForKeyboard = false;\n  #moveInDOMTimeout = null;\n  _initialOptions = Object.create(null);\n  _uiManager = null;\n  _focusEventsAllowed = true;\n  _l10nPromise = null;\n  #isDraggable = false;\n  #zIndex = AnnotationEditor._zIndex++;\n  static _borderLineWidth = -1;\n  static _colorManager = new _tools_js__WEBPACK_IMPORTED_MODULE_0__.ColorManager();\n  static _zIndex = 1;\n  static SMALL_EDITOR_SIZE = 0;\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = _tools_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = _tools_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorUIManager.TRANSLATE_BIG;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.shadow)(this, \"_resizerKeyboardManager\", new _tools_js__WEBPACK_IMPORTED_MODULE_0__.KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, {\n      args: [-small, 0]\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], resize, {\n      args: [-big, 0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], resize, {\n      args: [small, 0]\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], resize, {\n      args: [big, 0]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], resize, {\n      args: [0, -small]\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, {\n      args: [0, -big]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], resize, {\n      args: [0, small]\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, {\n      args: [0, big]\n    }], [[\"Escape\", \"mac+Escape\"], AnnotationEditor.prototype._stopResizingWithKeyboard]]));\n  }\n  constructor(parameters) {\n    if (this.constructor === AnnotationEditor) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.unreachable)(\"Cannot initialize AnnotationEditor.\");\n    }\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n    const {\n      rotation,\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = this.parent.viewport;\n    this.rotation = rotation;\n    this.pageRotation = (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n  static get _defaultLineColor() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.shadow)(this, \"_defaultLineColor\", this._colorManager.getHexCode(\"CanvasText\"));\n  }\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n  static initialize(l10n, options = null) {\n    AnnotationEditor._l10nPromise ||= new Map([\"pdfjs-editor-alt-text-button-label\", \"pdfjs-editor-alt-text-edit-button-label\", \"pdfjs-editor-alt-text-decorative-tooltip\", \"pdfjs-editor-resizer-label-topLeft\", \"pdfjs-editor-resizer-label-topMiddle\", \"pdfjs-editor-resizer-label-topRight\", \"pdfjs-editor-resizer-label-middleRight\", \"pdfjs-editor-resizer-label-bottomRight\", \"pdfjs-editor-resizer-label-bottomMiddle\", \"pdfjs-editor-resizer-label-bottomLeft\", \"pdfjs-editor-resizer-label-middleLeft\"].map(str => [str, l10n.get(str.replaceAll(/([A-Z])/g, c => `-${c.toLowerCase()}`))]));\n    if (options?.strings) {\n      for (const str of options.strings) {\n        AnnotationEditor._l10nPromise.set(str, l10n.get(str));\n      }\n    }\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth = parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n  static updateDefaultParams(_type, _value) {}\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n  static paste(item, parent) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.unreachable)(\"Not implemented\");\n  }\n  get propertiesToUpdate() {\n    return [];\n  }\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n  get isEnterHandled() {\n    return true;\n  }\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= this.height * pageHeight / (pageWidth * 2);\n        this.y += this.width * pageWidth / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += this.height * pageHeight / (pageWidth * 2);\n        this.y -= this.width * pageWidth / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      this.#stopResizing();\n    }\n    this.parent = parent;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n  commit() {\n    this.addToAnnotationStorage();\n  }\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n    this.fixAndSetPosition();\n  }\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n    this.x += x / width;\n    this.y += y / height;\n    this.fixAndSetPosition();\n  }\n  translate(x, y) {\n    this.#translate(this.parentDimensions, x, y);\n  }\n  translateInPage(x, y) {\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  drag(tx, ty) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      const {\n        x,\n        y\n      } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n    let {\n      x,\n      y\n    } = this;\n    const [bx, by] = this.#getBaseTranslation();\n    x += bx;\n    y += by;\n    this.div.style.left = `${(100 * x).toFixed(2)}%`;\n    this.div.style.top = `${(100 * y).toFixed(2)}%`;\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  #getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      _borderLineWidth\n    } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n  fixAndSetPosition() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    let {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n    switch (this.rotation) {\n      case 0:\n        x = Math.max(0, Math.min(pageWidth - width, x));\n        y = Math.max(0, Math.min(pageHeight - height, y));\n        break;\n      case 90:\n        x = Math.max(0, Math.min(pageWidth - height, x));\n        y = Math.min(pageHeight, Math.max(width, y));\n        break;\n      case 180:\n        x = Math.min(pageWidth, Math.max(width, x));\n        y = Math.min(pageHeight, Math.max(height, y));\n        break;\n      case 270:\n        x = Math.min(pageWidth, Math.max(height, x));\n        y = Math.max(0, Math.min(pageHeight - width, y));\n        break;\n    }\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n    const [bx, by] = this.#getBaseTranslation();\n    x += bx;\n    y += by;\n    const {\n      style\n    } = this.div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this.moveInDOM();\n  }\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n        }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n        }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    const scaledWidth = pageWidth * parentScale;\n    const scaledHeight = pageHeight * parentScale;\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.FeatureTest.isCSSRoundSupported ? [Math.round(scaledWidth), Math.round(scaledHeight)] : [scaledWidth, scaledHeight];\n  }\n  setDims(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.div.style.width = `${(100 * width / parentWidth).toFixed(2)}%`;\n    if (!this.#keepAspectRatio) {\n      this.div.style.height = `${(100 * height / parentHeight).toFixed(2)}%`;\n    }\n    this.#altTextButton?.classList.toggle(\"small\", width < AnnotationEditor.SMALL_EDITOR_SIZE || height < AnnotationEditor.SMALL_EDITOR_SIZE);\n  }\n  fixDims() {\n    const {\n      style\n    } = this.div;\n    const {\n      height,\n      width\n    } = style;\n    const widthPercent = width.endsWith(\"%\");\n    const heightPercent = !this.#keepAspectRatio && height.endsWith(\"%\");\n    if (widthPercent && heightPercent) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (!widthPercent) {\n      style.width = `${(100 * parseFloat(width) / parentWidth).toFixed(2)}%`;\n    }\n    if (!this.#keepAspectRatio && !heightPercent) {\n      style.height = `${(100 * parseFloat(height) / parentHeight).toFixed(2)}%`;\n    }\n  }\n  getInitialTranslation() {\n    return [0, 0];\n  }\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    const classes = this._willKeepAspectRatio ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"] : [\"topLeft\", \"topMiddle\", \"topRight\", \"middleRight\", \"bottomRight\", \"bottomMiddle\", \"bottomLeft\", \"middleLeft\"];\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\"pointerdown\", this.#resizerPointerdown.bind(this, name));\n      div.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.noContextMenu);\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const {\n      isMac\n    } = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    this.#toggleAltTextButton(false);\n    const boundResizerPointermove = this.#resizerPointermove.bind(this, name);\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    const pointerMoveOptions = {\n      passive: true,\n      capture: true\n    };\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\"pointermove\", boundResizerPointermove, pointerMoveOptions);\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor = window.getComputedStyle(event.target).cursor;\n    const pointerUpCallback = () => {\n      this.parent.togglePointerEvents(true);\n      this.#toggleAltTextButton(true);\n      this._isDraggable = savedDraggable;\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      window.removeEventListener(\"pointermove\", boundResizerPointermove, pointerMoveOptions);\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"blur\", pointerUpCallback);\n  }\n  #addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight) {\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (newX === savedX && newY === savedY && newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.addCommands({\n      cmd: () => {\n        this.width = newWidth;\n        this.height = newHeight;\n        this.x = newX;\n        this.y = newY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n        this.fixAndSetPosition();\n      },\n      undo: () => {\n        this.width = savedWidth;\n        this.height = savedHeight;\n        this.x = savedX;\n        this.y = savedY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * savedWidth, parentHeight * savedHeight);\n        this.fixAndSetPosition();\n      },\n      mustExec: true\n    });\n  }\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    const round = x => Math.round(x * 10000) / 10000;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [invRotationMatrix[0] * x + invRotationMatrix[2] * y, invRotationMatrix[1] * x + invRotationMatrix[3] * y];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = round(savedX + transfOppositePoint[0]);\n    const oppositeY = round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n    let [deltaX, deltaY] = this.screenToPageTranslation(event.movementX, event.movementY);\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(Math.min(Math.hypot(oppositePoint[0] - point[0] - deltaX, oppositePoint[1] - point[1] - deltaY) / oldDiag, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    } else if (isHorizontal) {\n      ratioX = Math.max(minWidth, Math.min(1, Math.abs(oppositePoint[0] - point[0] - deltaX))) / savedWidth;\n    } else {\n      ratioY = Math.max(minHeight, Math.min(1, Math.abs(oppositePoint[1] - point[1] - deltaY))) / savedHeight;\n    }\n    const newWidth = round(savedWidth * ratioX);\n    const newHeight = round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n    this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n    this.fixAndSetPosition();\n  }\n  async addAltTextButton() {\n    if (this.#altTextButton) {\n      return;\n    }\n    const altText = this.#altTextButton = document.createElement(\"button\");\n    altText.className = \"altText\";\n    const msg = await AnnotationEditor._l10nPromise.get(\"pdfjs-editor-alt-text-button-label\");\n    altText.textContent = msg;\n    altText.setAttribute(\"aria-label\", msg);\n    altText.tabIndex = \"0\";\n    altText.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.noContextMenu);\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation());\n    const onClick = event => {\n      this.#altTextButton.hidden = true;\n      event.preventDefault();\n      this._uiManager.editAltText(this);\n    };\n    altText.addEventListener(\"click\", onClick, {\n      capture: true\n    });\n    altText.addEventListener(\"keydown\", event => {\n      if (event.target === altText && event.key === \"Enter\") {\n        this.#altTextWasFromKeyBoard = true;\n        onClick(event);\n      }\n    });\n    this.#setAltTextButtonState();\n    this.div.append(altText);\n    if (!AnnotationEditor.SMALL_EDITOR_SIZE) {\n      const PERCENT = 40;\n      AnnotationEditor.SMALL_EDITOR_SIZE = Math.min(128, Math.round(altText.getBoundingClientRect().width * (1 + PERCENT / 100)));\n    }\n  }\n  async #setAltTextButtonState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n    if (!this.#altText && !this.#altTextDecorative) {\n      button.classList.remove(\"done\");\n      this.#altTextTooltip?.remove();\n      return;\n    }\n    button.classList.add(\"done\");\n    AnnotationEditor._l10nPromise.get(\"pdfjs-editor-alt-text-edit-button-label\").then(msg => {\n      button.setAttribute(\"aria-label\", msg);\n    });\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      const id = tooltip.id = `alt-text-tooltip-${this.id}`;\n      button.setAttribute(\"aria-describedby\", id);\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      button.addEventListener(\"mouseenter\", () => {\n        this.#altTextTooltipTimeout = setTimeout(() => {\n          this.#altTextTooltipTimeout = null;\n          this.#altTextTooltip.classList.add(\"show\");\n          this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n            source: this,\n            details: {\n              type: \"editing\",\n              subtype: this.editorType,\n              data: {\n                action: \"alt_text_tooltip\"\n              }\n            }\n          });\n        }, DELAY_TO_SHOW_TOOLTIP);\n      });\n      button.addEventListener(\"mouseleave\", () => {\n        if (this.#altTextTooltipTimeout) {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        }\n        this.#altTextTooltip?.classList.remove(\"show\");\n      });\n    }\n    tooltip.innerText = this.#altTextDecorative ? await AnnotationEditor._l10nPromise.get(\"pdfjs-editor-alt-text-decorative-tooltip\") : this.#altText;\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n    const element = this.getImageForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n  #toggleAltTextButton(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n  altTextFinish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.hidden = false;\n    this.#altTextButton.focus({\n      focusVisible: this.#altTextWasFromKeyBoard\n    });\n    this.#altTextWasFromKeyBoard = false;\n  }\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n  get altTextData() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative\n    };\n  }\n  set altTextData({\n    altText,\n    decorative\n  }) {\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    this.#altText = altText;\n    this.#altTextDecorative = decorative;\n    this.#setAltTextButtonState();\n  }\n  render() {\n    this.div = document.createElement(\"div\");\n    this.div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    this.div.className = this.name;\n    this.div.setAttribute(\"id\", this.id);\n    this.div.setAttribute(\"tabIndex\", 0);\n    this.setInForeground();\n    this.div.addEventListener(\"focusin\", this.#boundFocusin);\n    this.div.addEventListener(\"focusout\", this.#boundFocusout);\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      this.div.style.maxWidth = `${(100 * parentHeight / parentWidth).toFixed(2)}%`;\n      this.div.style.maxHeight = `${(100 * parentWidth / parentHeight).toFixed(2)}%`;\n    }\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n    (0,_tools_js__WEBPACK_IMPORTED_MODULE_0__.bindEvents)(this, this.div, [\"pointerdown\"]);\n    return this.div;\n  }\n  pointerdown(event) {\n    const {\n      isMac\n    } = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      event.preventDefault();\n      return;\n    }\n    this.#hasBeenClicked = true;\n    this.#setUpDragSession(event);\n  }\n  #setUpDragSession(event) {\n    if (!this._isDraggable) {\n      return;\n    }\n    const isSelected = this._uiManager.isSelected(this);\n    this._uiManager.setUpDragSession();\n    let pointerMoveOptions, pointerMoveCallback;\n    if (isSelected) {\n      pointerMoveOptions = {\n        passive: true,\n        capture: true\n      };\n      pointerMoveCallback = e => {\n        const [tx, ty] = this.screenToPageTranslation(e.movementX, e.movementY);\n        this._uiManager.dragSelectedEditors(tx, ty);\n      };\n      window.addEventListener(\"pointermove\", pointerMoveCallback, pointerMoveOptions);\n    }\n    const pointerUpCallback = () => {\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      if (isSelected) {\n        window.removeEventListener(\"pointermove\", pointerMoveCallback, pointerMoveOptions);\n      }\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        const {\n          isMac\n        } = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.FeatureTest.platform;\n        if (event.ctrlKey && !isMac || event.shiftKey || event.metaKey && isMac) {\n          this.parent.toggleSelected(this);\n        } else {\n          this.parent.setSelected(this);\n        }\n      }\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"blur\", pointerUpCallback);\n  }\n  moveInDOM() {\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n    }, 0);\n  }\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n  }\n  getRect(tx, ty) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n    switch (this.rotation) {\n      case 0:\n        return [x + shiftX + pageX, pageHeight - y - shiftY - height + pageY, x + shiftX + width + pageX, pageHeight - y - shiftY + pageY];\n      case 90:\n        return [x + shiftY + pageX, pageHeight - y + shiftX + pageY, x + shiftY + height + pageX, pageHeight - y + shiftX + width + pageY];\n      case 180:\n        return [x - shiftX - width + pageX, pageHeight - y + shiftY + pageY, x - shiftX + pageX, pageHeight - y + shiftY + height + pageY];\n      case 270:\n        return [x - shiftY - height + pageX, pageHeight - y - shiftX - width + pageY, x - shiftY + pageX, pageHeight - y - shiftX + pageY];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  onceAdded() {}\n  isEmpty() {\n    return false;\n  }\n  enableEditMode() {\n    this.#isInEditMode = true;\n  }\n  disableEditMode() {\n    this.#isInEditMode = false;\n  }\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n  rebuild() {\n    this.div?.addEventListener(\"focusin\", this.#boundFocusin);\n    this.div?.addEventListener(\"focusout\", this.#boundFocusout);\n  }\n  serialize(isForCopying = false, context = null) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.unreachable)(\"An editor must be serializable\");\n  }\n  static deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager\n    });\n    editor.rotation = data.rotation;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(data.rect, pageHeight);\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n    return editor;\n  }\n  remove() {\n    this.div.removeEventListener(\"focusin\", this.#boundFocusin);\n    this.div.removeEventListener(\"focusout\", this.#boundFocusout);\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextTooltip = null;\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n  }\n  get isResizable() {\n    return false;\n  }\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n      (0,_tools_js__WEBPACK_IMPORTED_MODULE_0__.bindEvents)(this, this.div, [\"keydown\"]);\n    }\n  }\n  keydown(event) {\n    if (!this.isResizable || event.target !== this.div || event.key !== \"Enter\") {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown);\n        div.addEventListener(\"blur\", boundResizerBlur);\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name));\n        AnnotationEditor._l10nPromise.get(`pdfjs-editor-resizer-label-${name}`).then(msg => div.setAttribute(\"aria-label\", msg));\n      }\n    }\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition = (360 - this.rotation + this.parentRotation) % 360 / 90 * (this.#allResizerDivs.length / 4);\n    if (nextFirstPosition !== firstPosition) {\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);\n        }\n      }\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        AnnotationEditor._l10nPromise.get(`pdfjs-editor-resizer-label-${name}`).then(msg => child.setAttribute(\"aria-label\", msg));\n      }\n    }\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstChild.focus({\n      focusVisible: true\n    });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n  #resizerBlur(event) {\n    if (this.#isResizerEnabledForKeyboard && event.relatedTarget?.parentNode !== this.#resizersDiv) {\n      this.#stopResizing();\n    }\n  }\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      movementX: x,\n      movementY: y\n    });\n  }\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    if (this.#savedDimensions) {\n      const {\n        savedX,\n        savedY,\n        savedWidth,\n        savedHeight\n      } = this.#savedDimensions;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n      this.#savedDimensions = null;\n    }\n  }\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n  select() {\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n  }\n  unselect() {\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      this._uiManager.currentLayer.div.focus();\n    }\n  }\n  updateParams(type, value) {}\n  disableEditing() {\n    if (this.#altTextButton) {\n      this.#altTextButton.hidden = true;\n    }\n  }\n  enableEditing() {\n    if (this.#altTextButton) {\n      this.#altTextButton.hidden = false;\n    }\n  }\n  enterInEditMode() {}\n  getImageForAltText() {\n    return null;\n  }\n  get contentDiv() {\n    return this.div;\n  }\n  get isEditing() {\n    return this.#isEditing;\n  }\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n  setAspectRatio(width, height) {\n    this.#keepAspectRatio = true;\n    const aspectRatio = width / height;\n    const {\n      style\n    } = this.div;\n    style.aspectRatio = aspectRatio;\n    style.height = \"auto\";\n  }\n  static get MIN_SIZE() {\n    return 16;\n  }\n}\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n  serialize() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex\n    };\n  }\n}\n\n\n/***/ }),\n\n/***/ 812:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationEditorUIManager: () => (/* binding */ AnnotationEditorUIManager),\n/* harmony export */   ColorManager: () => (/* binding */ ColorManager),\n/* harmony export */   KeyboardManager: () => (/* binding */ KeyboardManager),\n/* harmony export */   bindEvents: () => (/* binding */ bindEvents),\n/* harmony export */   opacityToHex: () => (/* binding */ opacityToHex)\n/* harmony export */ });\n/* unused harmony export CommandManager */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(473);\n\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\nfunction opacityToHex(opacity) {\n  return Math.round(Math.min(255, Math.max(1, 255 * opacity))).toString(16).padStart(2, \"0\");\n}\nclass IdManager {\n  #id = 0;\n  getId() {\n    return `${_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\nclass ImageManager {\n  #baseId = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.getUuid)();\n  #id = 0;\n  #cache = null;\n  static get _isSVGFittingCanvas() {\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\");\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_isSVGFittingCanvas\", promise);\n  }\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        const response = await fetch(rawData);\n        if (!response.ok) {\n          throw new Error(response.statusText);\n        }\n        image = await response.blob();\n      } else {\n        image = data.file = rawData;\n      }\n      if (image.type === \"image/svg+xml\") {\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = data.svgUrl = fileReader.result;\n            imageElement.src = (await mustRemoveAspectRatioPromise) ? `${url}#svgView(preserveAspectRatio(none))` : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      console.error(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n  async getFromFile(file) {\n    const {\n      lastModified,\n      name,\n      size,\n      type\n    } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    return this.getFromUrl(data.url);\n  }\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    data.bitmap = null;\n  }\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\nclass CommandManager {\n  #commands = [];\n  #locked = false;\n  #maxSize;\n  #position = -1;\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n  add({\n    cmd,\n    undo,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n    if (this.#locked) {\n      return;\n    }\n    const save = {\n      cmd,\n      undo,\n      type\n    };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n    this.#commands.push(save);\n  }\n  undo() {\n    if (this.#position === -1) {\n      return;\n    }\n    this.#locked = true;\n    this.#commands[this.#position].undo();\n    this.#locked = false;\n    this.#position -= 1;\n  }\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n      this.#locked = true;\n      this.#commands[this.#position].cmd();\n      this.#locked = false;\n    }\n  }\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n  destroy() {\n    this.#commands = null;\n  }\n}\nclass KeyboardManager {\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n    const {\n      isMac\n    } = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n    return str;\n  }\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: {\n        bubbles = false,\n        args = [],\n        checker = null\n      }\n    } = info;\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args)();\n    if (!bubbles) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n}\nclass ColorManager {\n  static _colorsMapping = new Map([[\"CanvasText\", [0, 0, 0]], [\"Canvas\", [255, 255, 255]]]);\n  get _colors() {\n    const colors = new Map([[\"CanvasText\", null], [\"Canvas\", null]]);\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.getColorValues)(colors);\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_colors\", colors);\n  }\n  convert(color) {\n    const rgb = (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.getRGB)(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.makeHexColor(...rgb);\n  }\n}\nclass AnnotationEditorUIManager {\n  #activeEditor = null;\n  #allEditors = new Map();\n  #allLayers = new Map();\n  #altTextManager = null;\n  #annotationStorage = null;\n  #commandManager = new CommandManager();\n  #currentPageIndex = 0;\n  #deletedAnnotationsElementIds = new Set();\n  #draggingEditors = null;\n  #editorTypes = null;\n  #editorsToRescale = new Set();\n  #filterFactory = null;\n  #focusMainContainerTimeoutId = null;\n  #idManager = new IdManager();\n  #isEnabled = false;\n  #isWaiting = false;\n  #lastActiveElement = null;\n  #mode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE;\n  #selectedEditors = new Set();\n  #pageColors = null;\n  #boundBlur = this.blur.bind(this);\n  #boundFocus = this.focus.bind(this);\n  #boundCopy = this.copy.bind(this);\n  #boundCut = this.cut.bind(this);\n  #boundPaste = this.paste.bind(this);\n  #boundKeydown = this.keydown.bind(this);\n  #boundOnEditingAction = this.onEditingAction.bind(this);\n  #boundOnPageChanging = this.onPageChanging.bind(this);\n  #boundOnScaleChanging = this.onScaleChanging.bind(this);\n  #boundOnRotationChanging = this.onRotationChanging.bind(this);\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false\n  };\n  #translation = [0, 0];\n  #translationTimeoutId = null;\n  #container = null;\n  #viewer = null;\n  static TRANSLATE_SMALL = 1;\n  static TRANSLATE_BIG = 10;\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n    const arrowChecker = self => {\n      return self.#container.contains(document.activeElement) && self.hasSomethingToControl();\n    };\n    const textInputChecker = (_self, {\n      target: el\n    }) => {\n      if (el instanceof HTMLInputElement) {\n        const {\n          type\n        } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+a\", \"mac+meta+a\"], proto.selectAll, {\n      checker: textInputChecker\n    }], [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, {\n      checker: textInputChecker\n    }], [[\"ctrl+y\", \"ctrl+shift+z\", \"mac+meta+shift+z\", \"ctrl+shift+Z\", \"mac+meta+shift+Z\"], proto.redo, {\n      checker: textInputChecker\n    }], [[\"Backspace\", \"alt+Backspace\", \"ctrl+Backspace\", \"shift+Backspace\", \"mac+Backspace\", \"mac+alt+Backspace\", \"mac+ctrl+Backspace\", \"Delete\", \"ctrl+Delete\", \"shift+Delete\", \"mac+Delete\"], proto.delete, {\n      checker: textInputChecker\n    }], [[\"Enter\", \"mac+Enter\"], proto.addNewEditorFromKeyboard, {\n      checker: self => self.#container.contains(document.activeElement) && !self.isEnterHandled\n    }], [[\" \", \"mac+ \"], proto.addNewEditorFromKeyboard, {\n      checker: self => self.#container.contains(document.activeElement)\n    }], [[\"Escape\", \"mac+Escape\"], proto.unselectAll], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  constructor(container, viewer, altTextManager, eventBus, pdfDocument, pageColors) {\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#altTextManager = altTextManager;\n    this._eventBus = eventBus;\n    this._eventBus._on(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._on(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._on(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._on(\"rotationchanging\", this.#boundOnRotationChanging);\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.viewParameters = {\n      realScale: _display_utils_js__WEBPACK_IMPORTED_MODULE_1__.PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0\n    };\n  }\n  destroy() {\n    this.#removeKeyboardManager();\n    this.#removeFocusManager();\n    this._eventBus._off(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._off(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._off(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._off(\"rotationchanging\", this.#boundOnRotationChanging);\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager.destroy();\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n  }\n  get hcmFilter() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"hcmFilter\", this.#pageColors ? this.#filterFactory.addHCMFilter(this.#pageColors.foreground, this.#pageColors.background) : \"none\");\n  }\n  get direction() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"direction\", getComputedStyle(this.#container).direction);\n  }\n  editAltText(editor) {\n    this.#altTextManager?.editAltText(this, editor);\n  }\n  onPageChanging({\n    pageNumber\n  }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n  focusMainContainer() {\n    this.#container.focus();\n  }\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height\n      } = layer.div.getBoundingClientRect();\n      if (x >= layerX && x <= layerX + width && y >= layerY && y <= layerY + height) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n  onScaleChanging({\n    scale\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * _display_utils_js__WEBPACK_IMPORTED_MODULE_1__.PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n  }\n  onRotationChanging({\n    pagesRotation\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n  addToAnnotationStorage(editor) {\n    if (!editor.isEmpty() && this.#annotationStorage && !this.#annotationStorage.has(editor.id)) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n  #addFocusManager() {\n    window.addEventListener(\"focus\", this.#boundFocus);\n    window.addEventListener(\"blur\", this.#boundBlur);\n  }\n  #removeFocusManager() {\n    window.removeEventListener(\"focus\", this.#boundFocus);\n    window.removeEventListener(\"blur\", this.#boundBlur);\n  }\n  blur() {\n    if (!this.hasSelection) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\"focusin\", () => {\n      lastEditor._focusEventsAllowed = true;\n    }, {\n      once: true\n    });\n    lastActiveElement.focus();\n  }\n  #addKeyboardManager() {\n    window.addEventListener(\"keydown\", this.#boundKeydown);\n  }\n  #removeKeyboardManager() {\n    window.removeEventListener(\"keydown\", this.#boundKeydown);\n  }\n  #addCopyPasteListeners() {\n    document.addEventListener(\"copy\", this.#boundCopy);\n    document.addEventListener(\"cut\", this.#boundCut);\n    document.addEventListener(\"paste\", this.#boundPaste);\n  }\n  #removeCopyPasteListeners() {\n    document.removeEventListener(\"copy\", this.#boundCopy);\n    document.removeEventListener(\"cut\", this.#boundCut);\n    document.removeEventListener(\"paste\", this.#boundPaste);\n  }\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.#addCopyPasteListeners();\n  }\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.#removeCopyPasteListeners();\n  }\n  copy(event) {\n    event.preventDefault();\n    this.#activeEditor?.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n  paste(event) {\n    event.preventDefault();\n    const {\n      clipboardData\n    } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`paste: \"${ex.message}\".`);\n      return;\n    }\n    if (!Array.isArray(data)) {\n      return;\n    }\n    this.unselectAll();\n    const layer = this.currentLayer;\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({\n        cmd,\n        undo,\n        mustExec: true\n      });\n    } catch (ex) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`paste: \"${ex.message}\".`);\n    }\n  }\n  keydown(event) {\n    if (!this.isEditorHandlingKeyboard) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n  onEditingAction(details) {\n    if ([\"undo\", \"redo\", \"delete\", \"selectAll\"].includes(details.name)) {\n      this[details.name]();\n    }\n  }\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(([key, value]) => this.#previousStates[key] !== value);\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details)\n      });\n    }\n  }\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details\n    });\n  }\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addKeyboardManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeKeyboardManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false\n      });\n      this.disableUserSelect(false);\n    }\n  }\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n  getId() {\n    return this.#idManager.getId();\n  }\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n  updateMode(mode, editId = null, isFromKeyboard = false) {\n    if (this.#mode === mode) {\n      return;\n    }\n    this.#mode = mode;\n    if (mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n      return;\n    }\n    this.setEditingState(true);\n    this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (!editId && isFromKeyboard) {\n      this.addNewEditorFromKeyboard();\n      return;\n    }\n    if (!editId) {\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      if (editor.annotationElementId === editId) {\n        this.setSelected(editor);\n        editor.enterInEditMode();\n        break;\n      }\n    }\n  }\n  addNewEditorFromKeyboard() {\n    this.currentLayer.addNewEditor();\n  }\n  updateToolbar(mode) {\n    if (mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      mode\n    });\n  }\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n    if (type === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.CREATE) {\n      this.currentLayer.addNewEditor();\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.updateParams(type, value);\n    }\n    for (const editorType of this.#editorTypes) {\n      editorType.updateDefaultParams(type, value);\n    }\n  }\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n  #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      for (const layer of this.#allLayers.values()) {\n        layer.enable();\n      }\n    }\n  }\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n    }\n  }\n  getEditors(pageIndex) {\n    const editors = [];\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        editors.push(editor);\n      }\n    }\n    return editors;\n  }\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    this.unselect(editor);\n    if (!editor.annotationElementId || !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    editor.deleted = true;\n  }\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    editor.deleted = false;\n  }\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n    }\n  }\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  setSelected(editor) {\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n  get isEnterHandled() {\n    return this.#selectedEditors.size === 1 && this.firstSelectedEditor.isEnterHandled;\n  }\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty()\n    });\n  }\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n    return false;\n  }\n  delete() {\n    this.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [...this.#selectedEditors];\n    const cmd = () => {\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  commitOrRemove() {\n    this.#activeEditor?.commitOrRemove();\n  }\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n  #selectEditors(editors) {\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n  unselectAll() {\n    if (this.#activeEditor) {\n      this.#activeEditor.commitOrRemove();\n      return;\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false\n    });\n  }\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n    const TIME_TO_WAIT = 1000;\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n            }\n          }\n        },\n        mustExec: false\n      });\n    }, TIME_TO_WAIT);\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n    }\n  }\n  setUpDragSession() {\n    if (!this.hasSelection) {\n      return;\n    }\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1\n      });\n    }\n  }\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n    for (const [{\n      x,\n      y,\n      pageIndex\n    }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||= x !== value.savedX || y !== value.savedY || pageIndex !== value.savedPageIndex;\n    }\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, {\n          newX,\n          newY,\n          newPageIndex\n        }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, {\n          savedX,\n          savedY,\n          savedPageIndex\n        }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true\n    });\n    return true;\n  }\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n  get isEditorHandlingKeyboard() {\n    return this.getActive()?.shouldGetKeyboardEvents() || this.#selectedEditors.size === 1 && this.firstSelectedEditor.shouldGetKeyboardEvents();\n  }\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n  getActive() {\n    return this.#activeEditor;\n  }\n  getMode() {\n    return this.#mode;\n  }\n  get imageManager() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"imageManager\", new ImageManager());\n  }\n}\n\n\n/***/ }),\n\n/***/ 171:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFFetchStream: () => (/* binding */ PDFFetchStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(253);\n\n\n;\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (value === undefined) {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._headers = createHeaders(this._stream.httpHeaders);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateResponseStatus)(response.status)) {\n        throw (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(response.status, url);\n      }\n      this._reader = response.body.getReader();\n      this._headersCapability.resolve();\n      const getResponseHeader = name => {\n        return response.headers.get(name);\n      };\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: this._stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._isStreamingSupported = !source.disableStream;\n    this._abortController = new AbortController();\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateResponseStatus)(response.status)) {\n        throw (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    }).catch(this._readCapability.reject);\n    this.onProgress = null;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n\n/***/ }),\n\n/***/ 742:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FontFaceObject: () => (/* binding */ FontFaceObject),\n/* harmony export */   FontLoader: () => (/* binding */ FontLoader)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n\nclass FontLoader {\n  #systemFonts = new Set();\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null\n  }) {\n    this._document = ownerDocument;\n    this.nativeFontFaces = new Set();\n    this.styleElement = null;\n    this.loadingRequests = [];\n    this.loadTestFontId = 0;\n  }\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement.getElementsByTagName(\"head\")[0].append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n  async loadSystemFont({\n    systemFontInfo: info,\n    _inspectFont\n  }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this.disableFontFace, \"loadSystemFont shouldn't be called when `disableFontFace` is set.\");\n    if (this.isFontLoadingAPISupported) {\n      const {\n        loadedName,\n        src,\n        style\n      } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`);\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Not implemented: loadSystemFont without the Font Loading API.\");\n  }\n  async bind(font) {\n    if (font.attached || font.missingFile && !font.systemFontInfo) {\n      return;\n    }\n    font.attached = true;\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return;\n    }\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n    }\n  }\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n  get isSyncFontLoadingSupported() {\n    let supported = false;\n    if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n      supported = true;\n    } else if (typeof navigator !== \"undefined\" && typeof navigator?.userAgent === \"string\" && /Mozilla\\/5.0.*?rv:\\d+.*? Gecko/.test(navigator.userAgent)) {\n      supported = true;\n    }\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isSyncFontLoadingSupported\", supported);\n  }\n  _queueLoadingCallback(callback) {\n    function completeRequest() {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n    const {\n      loadingRequests\n    } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n  get _loadTestFont() {\n    const testFont = atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_loadTestFont\", testFont);\n  }\n  _prepareFontLoadEvent(font, request) {\n    function int32(data, offset) {\n      return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n    let called = 0;\n    function isFontReady(name, callback) {\n      if (++called > 30) {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976;\n    data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858;\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.string32)(checksum));\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n  }\n}\nclass FontFaceObject {\n  constructor(translatedData, {\n    isEvalSupported = true,\n    disableFontFace = false,\n    ignoreErrors = false,\n    inspectFont = null\n  }) {\n    this.compiledGlyphs = Object.create(null);\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.isEvalSupported = isEvalSupported !== false;\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._inspectFont = inspectFont;\n  }\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n    }\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.bytesToString)(this.data);\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n    let cmds;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getPathGenerator - ignoring character: \"${ex}\".`);\n      return this.compiledGlyphs[character] = function (c, size) {};\n    }\n    if (this.isEvalSupported && _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTest.isEvalSupported) {\n      const jsBuf = [];\n      for (const current of cmds) {\n        const args = current.args !== undefined ? current.args.join(\",\") : \"\";\n        jsBuf.push(\"c.\", current.cmd, \"(\", args, \");\\n\");\n      }\n      return this.compiledGlyphs[character] = new Function(\"c\", \"size\", jsBuf.join(\"\"));\n    }\n    return this.compiledGlyphs[character] = function (c, size) {\n      for (const current of cmds) {\n        if (current.cmd === \"scale\") {\n          current.args = [size, -size];\n        }\n        c[current.cmd].apply(c, current.args);\n      }\n    };\n  }\n}\n\n\n/***/ }),\n\n/***/ 472:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Metadata: () => (/* binding */ Metadata)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n\nclass Metadata {\n  #metadataMap;\n  #data;\n  constructor({\n    parsedData,\n    rawData\n  }) {\n    this.#metadataMap = parsedData;\n    this.#data = rawData;\n  }\n  getRaw() {\n    return this.#data;\n  }\n  get(name) {\n    return this.#metadataMap.get(name) ?? null;\n  }\n  getAll() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#metadataMap);\n  }\n  has(name) {\n    return this.#metadataMap.has(name);\n  }\n}\n\n\n/***/ }),\n\n/***/ 474:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFNetworkStream: () => (/* binding */ PDFNetworkStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(253);\n\n\n;\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.stringToBytes)(data).buffer;\n}\nclass NetworkManager {\n  constructor(url, args = {}) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = this.isHttp && args.httpHeaders || Object.create(null);\n    this.withCredentials = args.withCredentials || false;\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n    if (xhr.readyState !== 4) {\n      return;\n    }\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n    delete this.pendingRequests[xhrId];\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n    const getResponseHeader = name => {\n      return fullRequestXhr.getResponseHeader(name);\n    };\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n    this._headersReceivedCapability.resolve();\n  }\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({\n          value: data.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  _onError(status) {\n    this._storedError = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(status, this._url);\n    this._headersReceivedCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength\n    });\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n  _close() {\n    this.onClosed?.(this);\n  }\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n  _onError(status) {\n    this._storedError = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({\n        loaded: evt.loaded\n      });\n    }\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\n\n/***/ }),\n\n/***/ 253:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  createResponseStatusError: () => (/* binding */ createResponseStatusError),\n  extractFilenameFromHeader: () => (/* binding */ extractFilenameFromHeader),\n  validateRangeRequestCapabilities: () => (/* binding */ validateRangeRequestCapabilities),\n  validateResponseStatus: () => (/* binding */ validateResponseStatus)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(266);\n;// CONCATENATED MODULE: ./src/display/content_disposition.js\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = (0,util.stringToBytes)(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {}\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    return value.replaceAll(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replaceAll(\"_\", \" \");\n        text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n      try {\n        text = atob(text);\n      } catch {}\n      return textdecode(charset, text);\n    });\n  }\n  return \"\";\n}\n\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(473);\n;// CONCATENATED MODULE: ./src/display/network_utils.js\n\n\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n  returnValues.suggestedLength = length;\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if ((0,display_utils.isPdfFile)(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || status === 0 && url.startsWith(\"file:\")) {\n    return new util.MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new util.UnexpectedResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status);\n}\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\n\n/***/ }),\n\n/***/ 498:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFNodeStream: () => (/* binding */ PDFNodeStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(253);\n\n\n;\nlet fs, http, https, url;\nif (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n  fs = await import(/* webpackIgnore: true */ \"fs\");\n  http = await import(/* webpackIgnore: true */ \"http\");\n  https = await import(/* webpackIgnore: true */ \"https\");\n  url = await import(/* webpackIgnore: true */ \"url\");\n}\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp = this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = this.isFsUrl ? new PDFNodeStreamFsFullReader(this) : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl ? new PDFNodeStreamFsRangeReader(this, start, end) : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._headersCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"streaming is disabled\"));\n    }\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers\n  };\n}\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n      const getResponseHeader = name => {\n        return this._readableStream.headers[name.toLowerCase()];\n      };\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n    };\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    }\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    }\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n    fs.lstat(path, (error, stat) => {\n      if (error) {\n        if (error.code === \"ENOENT\") {\n          error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${path}\".`);\n        }\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._contentLength = stat.size;\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    });\n  }\n}\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n    this._setReadableStream(fs.createReadStream(path, {\n      start,\n      end: end - 1\n    }));\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n/***/ }),\n\n/***/ 738:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NodeCMapReaderFactory: () => (/* binding */ NodeCMapReaderFactory),\n/* harmony export */   NodeCanvasFactory: () => (/* binding */ NodeCanvasFactory),\n/* harmony export */   NodeFilterFactory: () => (/* binding */ NodeFilterFactory),\n/* harmony export */   NodeStandardFontDataFactory: () => (/* binding */ NodeStandardFontDataFactory)\n/* harmony export */ });\n/* harmony import */ var _base_factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(822);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(266);\n\n\n;\nlet fs, canvas, path2d_polyfill;\nif (_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.isNodeJS) {\n  fs = await import(/* webpackIgnore: true */ \"fs\");\n  try {\n    canvas = await import(/* webpackIgnore: true */ \"canvas\");\n  } catch {}\n  try {\n    path2d_polyfill = await import(/* webpackIgnore: true */ \"path2d-polyfill\");\n  } catch {}\n}\n;\nconst fetchData = function (url) {\n  return new Promise((resolve, reject) => {\n    fs.readFile(url, (error, data) => {\n      if (error || !data) {\n        reject(new Error(error));\n        return;\n      }\n      resolve(new Uint8Array(data));\n    });\n  });\n};\nclass NodeFilterFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseFilterFactory {}\nclass NodeCanvasFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCanvasFactory {\n  _createCanvas(width, height) {\n    return canvas.createCanvas(width, height);\n  }\n}\nclass NodeCMapReaderFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url).then(data => {\n      return {\n        cMapData: data,\n        compressionType\n      };\n    });\n  }\n}\nclass NodeStandardFontDataFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url);\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n/***/ }),\n\n/***/ 890:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionalContentConfig: () => (/* binding */ OptionalContentConfig)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n/* harmony import */ var _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(825);\n\n\nconst INTERNAL = Symbol(\"INTERNAL\");\nclass OptionalContentGroup {\n  #visible = true;\n  constructor(name, intent) {\n    this.name = name;\n    this.intent = intent;\n  }\n  get visible() {\n    return this.#visible;\n  }\n  _setVisible(internal, visible) {\n    if (internal !== INTERNAL) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Internal method `_setVisible` called.\");\n    }\n    this.#visible = visible;\n  }\n}\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n  #groups = new Map();\n  #initialHash = null;\n  #order = null;\n  constructor(data) {\n    this.name = null;\n    this.creator = null;\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(group.id, new OptionalContentGroup(group.name, group.intent));\n    }\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n    this.#initialHash = this.getHash();\n  }\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Unknown group type ${group.type}.`);\n    return true;\n  }\n  setVisibility(id, visible = true) {\n    if (!this.#groups.has(id)) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n      return;\n    }\n    this.#groups.get(id)._setVisible(INTERNAL, !!visible);\n    this.#cachedGetHash = null;\n  }\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n  getGroups() {\n    return this.#groups.size > 0 ? (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#groups) : null;\n  }\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__.MurmurHash3_64();\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return this.#cachedGetHash = hash.hexdigest();\n  }\n}\n\n\n/***/ }),\n\n/***/ 739:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderTextLayer: () => (/* binding */ renderTextLayer),\n/* harmony export */   updateTextLayer: () => (/* binding */ updateTextLayer)\n/* harmony export */ });\n/* unused harmony export TextLayerRenderTask */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(473);\n\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\nconst ascentCache = new Map();\nfunction getCtx(size, isOffscreenCanvasSupported) {\n  let ctx;\n  if (isOffscreenCanvasSupported && _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTest.isOffscreenCanvasSupported) {\n    ctx = new OffscreenCanvas(size, size).getContext(\"2d\", {\n      alpha: false\n    });\n  } else {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = canvas.height = size;\n    ctx = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n  }\n  return ctx;\n}\nfunction getAscent(fontFamily, isOffscreenCanvasSupported) {\n  const cachedAscent = ascentCache.get(fontFamily);\n  if (cachedAscent) {\n    return cachedAscent;\n  }\n  const ctx = getCtx(DEFAULT_FONT_SIZE, isOffscreenCanvasSupported);\n  ctx.font = `${DEFAULT_FONT_SIZE}px ${fontFamily}`;\n  const metrics = ctx.measureText(\"\");\n  let ascent = metrics.fontBoundingBoxAscent;\n  let descent = Math.abs(metrics.fontBoundingBoxDescent);\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    ctx.canvas.width = ctx.canvas.height = 0;\n    return ratio;\n  }\n  ctx.strokeStyle = \"red\";\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"g\", 0, 0);\n  let pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  descent = 0;\n  for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n    if (pixels[i] > 0) {\n      descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n  pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  ascent = 0;\n  for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n    if (pixels[i] > 0) {\n      ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n  ctx.canvas.width = ctx.canvas.height = 0;\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n  ascentCache.set(fontFamily, DEFAULT_FONT_ASCENT);\n  return DEFAULT_FONT_ASCENT;\n}\nfunction appendText(task, geom, styles) {\n  const textDiv = document.createElement(\"span\");\n  const textDivProperties = {\n    angle: 0,\n    canvasWidth: 0,\n    hasText: geom.str !== \"\",\n    hasEOL: geom.hasEOL,\n    fontSize: 0\n  };\n  task._textDivs.push(textDiv);\n  const tx = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.transform(task._transform, geom.transform);\n  let angle = Math.atan2(tx[1], tx[0]);\n  const style = styles[geom.fontName];\n  if (style.vertical) {\n    angle += Math.PI / 2;\n  }\n  const fontFamily = task._fontInspectorEnabled && style.fontSubstitution || style.fontFamily;\n  const fontHeight = Math.hypot(tx[2], tx[3]);\n  const fontAscent = fontHeight * getAscent(fontFamily, task._isOffscreenCanvasSupported);\n  let left, top;\n  if (angle === 0) {\n    left = tx[4];\n    top = tx[5] - fontAscent;\n  } else {\n    left = tx[4] + fontAscent * Math.sin(angle);\n    top = tx[5] - fontAscent * Math.cos(angle);\n  }\n  const scaleFactorStr = \"calc(var(--scale-factor)*\";\n  const divStyle = textDiv.style;\n  if (task._container === task._rootContainer) {\n    divStyle.left = `${(100 * left / task._pageWidth).toFixed(2)}%`;\n    divStyle.top = `${(100 * top / task._pageHeight).toFixed(2)}%`;\n  } else {\n    divStyle.left = `${scaleFactorStr}${left.toFixed(2)}px)`;\n    divStyle.top = `${scaleFactorStr}${top.toFixed(2)}px)`;\n  }\n  divStyle.fontSize = `${scaleFactorStr}${fontHeight.toFixed(2)}px)`;\n  divStyle.fontFamily = fontFamily;\n  textDivProperties.fontSize = fontHeight;\n  textDiv.setAttribute(\"role\", \"presentation\");\n  textDiv.textContent = geom.str;\n  textDiv.dir = geom.dir;\n  if (task._fontInspectorEnabled) {\n    textDiv.dataset.fontName = style.fontSubstitutionLoadedName || geom.fontName;\n  }\n  if (angle !== 0) {\n    textDivProperties.angle = angle * (180 / Math.PI);\n  }\n  let shouldScaleText = false;\n  if (geom.str.length > 1) {\n    shouldScaleText = true;\n  } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n    const absScaleX = Math.abs(geom.transform[0]),\n      absScaleY = Math.abs(geom.transform[3]);\n    if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n      shouldScaleText = true;\n    }\n  }\n  if (shouldScaleText) {\n    textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n  }\n  task._textDivProperties.set(textDiv, textDivProperties);\n  if (task._isReadableStream) {\n    task._layoutText(textDiv);\n  }\n}\nfunction layout(params) {\n  const {\n    div,\n    scale,\n    properties,\n    ctx,\n    prevFontSize,\n    prevFontFamily\n  } = params;\n  const {\n    style\n  } = div;\n  let transform = \"\";\n  if (properties.canvasWidth !== 0 && properties.hasText) {\n    const {\n      fontFamily\n    } = style;\n    const {\n      canvasWidth,\n      fontSize\n    } = properties;\n    if (prevFontSize !== fontSize || prevFontFamily !== fontFamily) {\n      ctx.font = `${fontSize * scale}px ${fontFamily}`;\n      params.prevFontSize = fontSize;\n      params.prevFontFamily = fontFamily;\n    }\n    const {\n      width\n    } = ctx.measureText(div.textContent);\n    if (width > 0) {\n      transform = `scaleX(${canvasWidth * scale / width})`;\n    }\n  }\n  if (properties.angle !== 0) {\n    transform = `rotate(${properties.angle}deg) ${transform}`;\n  }\n  if (transform.length > 0) {\n    style.transform = transform;\n  }\n}\nfunction render(task) {\n  if (task._canceled) {\n    return;\n  }\n  const textDivs = task._textDivs;\n  const capability = task._capability;\n  const textDivsLength = textDivs.length;\n  if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n    capability.resolve();\n    return;\n  }\n  if (!task._isReadableStream) {\n    for (const textDiv of textDivs) {\n      task._layoutText(textDiv);\n    }\n  }\n  capability.resolve();\n}\nclass TextLayerRenderTask {\n  constructor({\n    textContentSource,\n    container,\n    viewport,\n    textDivs,\n    textDivProperties,\n    textContentItemsStr,\n    isOffscreenCanvasSupported\n  }) {\n    this._textContentSource = textContentSource;\n    this._isReadableStream = textContentSource instanceof ReadableStream;\n    this._container = this._rootContainer = container;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._isOffscreenCanvasSupported = isOffscreenCanvasSupported;\n    this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n    this._reader = null;\n    this._textDivProperties = textDivProperties || new WeakMap();\n    this._canceled = false;\n    this._capability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._layoutTextParams = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      scale: viewport.scale * (globalThis.devicePixelRatio || 1),\n      properties: null,\n      ctx: getCtx(0, isOffscreenCanvasSupported)\n    };\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    this._transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this._pageWidth = pageWidth;\n    this._pageHeight = pageHeight;\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.setLayerDimensions)(container, viewport);\n    this._capability.promise.finally(() => {\n      this._layoutTextParams = null;\n    }).catch(() => {});\n  }\n  get promise() {\n    return this._capability.promise;\n  }\n  cancel() {\n    this._canceled = true;\n    if (this._reader) {\n      this._reader.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"TextLayer task cancelled.\")).catch(() => {});\n      this._reader = null;\n    }\n    this._capability.reject(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"TextLayer task cancelled.\"));\n  }\n  _processItems(items, styleCache) {\n    for (const item of items) {\n      if (item.str === undefined) {\n        if (item.type === \"beginMarkedContentProps\" || item.type === \"beginMarkedContent\") {\n          const parent = this._container;\n          this._container = document.createElement(\"span\");\n          this._container.classList.add(\"markedContent\");\n          if (item.id !== null) {\n            this._container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this._container);\n        } else if (item.type === \"endMarkedContent\") {\n          this._container = this._container.parentNode;\n        }\n        continue;\n      }\n      this._textContentItemsStr.push(item.str);\n      appendText(this, item, styleCache);\n    }\n  }\n  _layoutText(textDiv) {\n    const textDivProperties = this._layoutTextParams.properties = this._textDivProperties.get(textDiv);\n    this._layoutTextParams.div = textDiv;\n    layout(this._layoutTextParams);\n    if (textDivProperties.hasText) {\n      this._container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this._container.append(br);\n    }\n  }\n  _render() {\n    const capability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    let styleCache = Object.create(null);\n    if (this._isReadableStream) {\n      const pump = () => {\n        this._reader.read().then(({\n          value,\n          done\n        }) => {\n          if (done) {\n            capability.resolve();\n            return;\n          }\n          Object.assign(styleCache, value.styles);\n          this._processItems(value.items, styleCache);\n          pump();\n        }, capability.reject);\n      };\n      this._reader = this._textContentSource.getReader();\n      pump();\n    } else if (this._textContentSource) {\n      const {\n        items,\n        styles\n      } = this._textContentSource;\n      this._processItems(items, styles);\n      capability.resolve();\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    capability.promise.then(() => {\n      styleCache = null;\n      render(this);\n    }, this._capability.reject);\n  }\n}\nfunction renderTextLayer(params) {\n  const task = new TextLayerRenderTask(params);\n  task._render();\n  return task;\n}\nfunction updateTextLayer({\n  container,\n  viewport,\n  textDivs,\n  textDivProperties,\n  isOffscreenCanvasSupported,\n  mustRotate = true,\n  mustRescale = true\n}) {\n  if (mustRotate) {\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.setLayerDimensions)(container, {\n      rotation: viewport.rotation\n    });\n  }\n  if (mustRescale) {\n    const ctx = getCtx(0, isOffscreenCanvasSupported);\n    const scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    const params = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      scale,\n      properties: null,\n      ctx\n    };\n    for (const div of textDivs) {\n      params.properties = textDivProperties.get(div);\n      params.div = div;\n      layout(params);\n    }\n  }\n}\n\n\n/***/ }),\n\n/***/ 92:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFDataTransportStream: () => (/* binding */ PDFDataTransportStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(473);\n\n\nclass PDFDataTransportStream {\n  constructor({\n    length,\n    initialData,\n    progressiveDone = false,\n    contentDispositionFilename = null,\n    disableRange = false,\n    disableStream = false\n  }, pdfDataRangeTransport) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n    if (initialData?.length > 0) {\n      const buffer = initialData instanceof Uint8Array && initialData.byteLength === initialData.buffer.byteLength ? initialData.buffer : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n    this._pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n    this._pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n    this._pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n    this._pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n    this._pdfDataRangeTransport.transportReady();\n  }\n  _onReceiveData({\n    begin,\n    chunk\n  }) {\n    const buffer = chunk instanceof Uint8Array && chunk.byteLength === chunk.buffer.byteLength ? chunk.buffer : new Uint8Array(chunk).buffer;\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      this._rangeReaders[0]?.onProgress?.({\n        loaded: evt.loaded\n      });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total\n      });\n    }\n  }\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.isPdfFile)(contentDispositionFilename) ? contentDispositionFilename : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n  get headersReady() {\n    return this._headersReady;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\n\n/***/ }),\n\n/***/ 368:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalWorkerOptions: () => (/* binding */ GlobalWorkerOptions)\n/* harmony export */ });\nconst GlobalWorkerOptions = Object.create(null);\nGlobalWorkerOptions.workerPort = null;\nGlobalWorkerOptions.workerSrc = \"\";\n\n\n/***/ }),\n\n/***/ 160:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XfaLayer: () => (/* binding */ XfaLayer)\n/* harmony export */ });\n/* harmony import */ var _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(521);\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, {\n      value: null\n    });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, {\n            value: event.target.value\n          });\n        });\n        break;\n      case \"input\":\n        if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, {\n              value: event.target.value\n            });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n          storage.setValue(id, {\n            value\n          });\n        });\n        break;\n    }\n  }\n  static setAttributes({\n    html,\n    element,\n    storage = null,\n    intent,\n    linkService\n  }) {\n    const {\n      attributes\n    } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n    if (attributes.type === \"radio\") {\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || key !== \"href\" && key !== \"newWindow\") {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(html, attributes.href, attributes.newWindow);\n    }\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService\n      });\n    }\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n    const textDivs = [];\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__.XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return {\n        textDivs\n      };\n    }\n    const stack = [[root, -1, rootHtml]];\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n      const {\n        name\n      } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n      const childHtml = child?.attributes?.xmlns ? document.createElementNS(child.attributes.xmlns, name) : document.createElement(name);\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService\n        });\n      }\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__.XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n    for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n      el.setAttribute(\"readOnly\", true);\n    }\n    return {\n      textDivs\n    };\n  }\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\n\n/***/ }),\n\n/***/ 521:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XfaText: () => (/* binding */ XfaText)\n/* harmony export */ });\nclass XfaText {\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null)\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n  static shouldBuildText(name) {\n    return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 907:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException),\n/* harmony export */   AnnotationEditorLayer: () => (/* reexport safe */ _display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__.AnnotationEditorLayer),\n/* harmony export */   AnnotationEditorParamsType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType),\n/* harmony export */   AnnotationEditorType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType),\n/* harmony export */   AnnotationEditorUIManager: () => (/* reexport safe */ _display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__.AnnotationEditorUIManager),\n/* harmony export */   AnnotationLayer: () => (/* reexport safe */ _display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__.AnnotationLayer),\n/* harmony export */   AnnotationMode: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode),\n/* harmony export */   CMapCompressionType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType),\n/* harmony export */   DOMSVGFactory: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMSVGFactory),\n/* harmony export */   FeatureTest: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTest),\n/* harmony export */   GlobalWorkerOptions: () => (/* reexport safe */ _display_worker_options_js__WEBPACK_IMPORTED_MODULE_7__.GlobalWorkerOptions),\n/* harmony export */   ImageKind: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.ImageKind),\n/* harmony export */   InvalidPDFException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.InvalidPDFException),\n/* harmony export */   MissingPDFException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException),\n/* harmony export */   OPS: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.OPS),\n/* harmony export */   PDFDataRangeTransport: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.PDFDataRangeTransport),\n/* harmony export */   PDFDateString: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PDFDateString),\n/* harmony export */   PDFWorker: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.PDFWorker),\n/* harmony export */   PasswordResponses: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordResponses),\n/* harmony export */   PermissionFlag: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PermissionFlag),\n/* harmony export */   PixelsPerInch: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PixelsPerInch),\n/* harmony export */   PromiseCapability: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability),\n/* harmony export */   RenderingCancelledException: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException),\n/* harmony export */   UnexpectedResponseException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException),\n/* harmony export */   Util: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util),\n/* harmony export */   VerbosityLevel: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.VerbosityLevel),\n/* harmony export */   XfaLayer: () => (/* reexport safe */ _display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_8__.XfaLayer),\n/* harmony export */   build: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.build),\n/* harmony export */   createValidAbsoluteUrl: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.createValidAbsoluteUrl),\n/* harmony export */   getDocument: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.getDocument),\n/* harmony export */   getFilenameFromUrl: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getFilenameFromUrl),\n/* harmony export */   getPdfFilenameFromUrl: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getPdfFilenameFromUrl),\n/* harmony export */   getXfaPageViewport: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getXfaPageViewport),\n/* harmony export */   isDataScheme: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isDataScheme),\n/* harmony export */   isPdfFile: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isPdfFile),\n/* harmony export */   noContextMenu: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.noContextMenu),\n/* harmony export */   normalizeUnicode: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.normalizeUnicode),\n/* harmony export */   renderTextLayer: () => (/* reexport safe */ _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__.renderTextLayer),\n/* harmony export */   setLayerDimensions: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.setLayerDimensions),\n/* harmony export */   shadow: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow),\n/* harmony export */   updateTextLayer: () => (/* reexport safe */ _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__.updateTextLayer),\n/* harmony export */   version: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.version)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n/* harmony import */ var _display_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(406);\n/* harmony import */ var _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(473);\n/* harmony import */ var _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(739);\n/* harmony import */ var _display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(331);\n/* harmony import */ var _display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(812);\n/* harmony import */ var _display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(640);\n/* harmony import */ var _display_worker_options_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(368);\n/* harmony import */ var _display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(160);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_display_api_js__WEBPACK_IMPORTED_MODULE_1__]);\n_display_api_js__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\nconst pdfjsVersion = '4.0.189';\nconst pdfjsBuild = '50f52b43a';\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n/***/ }),\n\n/***/ 694:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageHandler: () => (/* binding */ MessageHandler)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\nfunction wrapReason(reason) {\n  if (!(reason instanceof Error || typeof reason === \"object\" && reason !== null)) {\n    (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(reason.message);\n    case \"PasswordException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(reason.message, reason.code);\n    case \"UnexpectedResponseException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(reason.message, reason.details);\n    default:\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(reason.message, reason.toString());\n  }\n}\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this.#processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(function (result) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.DATA,\n            callbackId: data.callbackId,\n            data: result\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.ERROR,\n            callbackId: data.callbackId,\n            reason: wrapReason(reason)\n          });\n        });\n        return;\n      }\n      if (data.streamId) {\n        this.#createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n  send(actionName, data, transfers) {\n    this.comObj.postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = new _util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = new _util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = new _util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = new _util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = new _util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n      error(reason) {\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n      sinkCapability: new _util_js__WEBPACK_IMPORTED_MODULE_0__.PromiseCapability(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        streamSink.desiredSize = data.desiredSize;\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull?.());\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n      case StreamKind.ENQUEUE:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n        new Promise(function (resolve) {\n          resolve(streamSink.onCancel?.(wrapReason(data.reason)));\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n  async #deleteStreamController(streamController, streamId) {\n    await Promise.allSettled([streamController.startCall?.promise, streamController.pullCall?.promise, streamController.cancelCall?.promise]);\n    delete this.streamControllers[streamId];\n  }\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\n\n/***/ }),\n\n/***/ 825:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MurmurHash3_64: () => (/* binding */ MurmurHash3_64)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(266);\n\nconst SEED = 0xc3d2e1f0;\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if ((0,_util_js__WEBPACK_IMPORTED_MODULE_0__.isArrayBuffer)(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Wrong data format in MurmurHash3_64_update. \" + \"Input must be a string or array.\");\n    }\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        h1 ^= k1;\n        h1 = h1 << 13 | h1 >>> 19;\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = k2 * C1 & MASK_HIGH | k2 * C1_LOW & MASK_LOW;\n        k2 = k2 << 15 | k2 >>> 17;\n        k2 = k2 * C2 & MASK_HIGH | k2 * C2_LOW & MASK_LOW;\n        h2 ^= k2;\n        h2 = h2 << 13 | h2 >>> 19;\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n    k1 = 0;\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0xed558ccd & MASK_HIGH | h1 * 0x8ccd & MASK_LOW;\n    h2 = h2 * 0xff51afd7 & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xafd7ed55 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0x1a85ec53 & MASK_HIGH | h1 * 0xec53 & MASK_LOW;\n    h2 = h2 * 0xc4ceb9fe & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xb9fe1a85 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    return (h1 >>> 0).toString(16).padStart(8, \"0\") + (h2 >>> 0).toString(16).padStart(8, \"0\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 266:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortException: () => (/* binding */ AbortException),\n/* harmony export */   AnnotationBorderStyleType: () => (/* binding */ AnnotationBorderStyleType),\n/* harmony export */   AnnotationEditorParamsType: () => (/* binding */ AnnotationEditorParamsType),\n/* harmony export */   AnnotationEditorPrefix: () => (/* binding */ AnnotationEditorPrefix),\n/* harmony export */   AnnotationEditorType: () => (/* binding */ AnnotationEditorType),\n/* harmony export */   AnnotationMode: () => (/* binding */ AnnotationMode),\n/* harmony export */   AnnotationPrefix: () => (/* binding */ AnnotationPrefix),\n/* harmony export */   AnnotationType: () => (/* binding */ AnnotationType),\n/* harmony export */   BaseException: () => (/* binding */ BaseException),\n/* harmony export */   CMapCompressionType: () => (/* binding */ CMapCompressionType),\n/* harmony export */   FONT_IDENTITY_MATRIX: () => (/* binding */ FONT_IDENTITY_MATRIX),\n/* harmony export */   FeatureTest: () => (/* binding */ FeatureTest),\n/* harmony export */   FormatError: () => (/* binding */ FormatError),\n/* harmony export */   IDENTITY_MATRIX: () => (/* binding */ IDENTITY_MATRIX),\n/* harmony export */   ImageKind: () => (/* binding */ ImageKind),\n/* harmony export */   InvalidPDFException: () => (/* binding */ InvalidPDFException),\n/* harmony export */   LINE_FACTOR: () => (/* binding */ LINE_FACTOR),\n/* harmony export */   MAX_IMAGE_SIZE_TO_CACHE: () => (/* binding */ MAX_IMAGE_SIZE_TO_CACHE),\n/* harmony export */   MissingPDFException: () => (/* binding */ MissingPDFException),\n/* harmony export */   OPS: () => (/* binding */ OPS),\n/* harmony export */   PasswordException: () => (/* binding */ PasswordException),\n/* harmony export */   PasswordResponses: () => (/* binding */ PasswordResponses),\n/* harmony export */   PermissionFlag: () => (/* binding */ PermissionFlag),\n/* harmony export */   PromiseCapability: () => (/* binding */ PromiseCapability),\n/* harmony export */   RenderingIntentFlag: () => (/* binding */ RenderingIntentFlag),\n/* harmony export */   TextRenderingMode: () => (/* binding */ TextRenderingMode),\n/* harmony export */   UnexpectedResponseException: () => (/* binding */ UnexpectedResponseException),\n/* harmony export */   UnknownErrorException: () => (/* binding */ UnknownErrorException),\n/* harmony export */   Util: () => (/* binding */ Util),\n/* harmony export */   VerbosityLevel: () => (/* binding */ VerbosityLevel),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   bytesToString: () => (/* binding */ bytesToString),\n/* harmony export */   createValidAbsoluteUrl: () => (/* binding */ createValidAbsoluteUrl),\n/* harmony export */   getUuid: () => (/* binding */ getUuid),\n/* harmony export */   getVerbosityLevel: () => (/* binding */ getVerbosityLevel),\n/* harmony export */   info: () => (/* binding */ info),\n/* harmony export */   isArrayBuffer: () => (/* binding */ isArrayBuffer),\n/* harmony export */   isNodeJS: () => (/* binding */ isNodeJS),\n/* harmony export */   normalizeUnicode: () => (/* binding */ normalizeUnicode),\n/* harmony export */   objectFromMap: () => (/* binding */ objectFromMap),\n/* harmony export */   setVerbosityLevel: () => (/* binding */ setVerbosityLevel),\n/* harmony export */   shadow: () => (/* binding */ shadow),\n/* harmony export */   string32: () => (/* binding */ string32),\n/* harmony export */   stringToBytes: () => (/* binding */ stringToBytes),\n/* harmony export */   unreachable: () => (/* binding */ unreachable),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n/* unused harmony exports AnnotationActionEventType, AnnotationFieldFlag, AnnotationFlag, AnnotationReplyType, BASELINE_FACTOR, DocumentActionEventType, getModificationDate, isArrayEqual, LINE_DESCENT_FACTOR, objectSize, PageActionEventType, stringToPDFString, stringToUTF8String, utf8StringToString */\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nconst MAX_IMAGE_SIZE_TO_CACHE = 10e6;\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  OPLIST: 0x100\n};\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3\n};\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  STAMP: 13,\n  INK: 15\n};\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23\n};\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1\n};\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91\n};\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nlet verbosity = VerbosityLevel.WARNINGS;\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\nfunction getVerbosityLevel() {\n  return verbosity;\n}\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        if (dots?.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch {}\n      }\n    }\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch {}\n  return null;\n}\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message, name) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch {\n    return false;\n  }\n}\nclass FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n  static get isOffscreenCanvasSupported() {\n    return shadow(this, \"isOffscreenCanvasSupported\", typeof OffscreenCanvas !== \"undefined\");\n  }\n  static get platform() {\n    if (typeof navigator !== \"undefined\" && typeof navigator?.platform === \"string\") {\n      return shadow(this, \"platform\", {\n        isMac: navigator.platform.includes(\"Mac\")\n      });\n    }\n    return shadow(this, \"platform\", {\n      isMac: false\n    });\n  }\n  static get isCSSRoundSupported() {\n    return shadow(this, \"isCSSRoundSupported\", globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\"));\n  }\n}\nconst hexNumbers = [...Array(256).keys()].map(n => n.toString(16).padStart(2, \"0\"));\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[1];\n        minMax[1] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[1] *= transform[0];\n      if (transform[3] < 0) {\n        temp = minMax[2];\n        minMax[2] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[2] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[2];\n      minMax[2] = temp;\n      temp = minMax[1];\n      minMax[1] = minMax[3];\n      minMax[3] = temp;\n      if (transform[1] < 0) {\n        temp = minMax[2];\n        minMax[2] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[2] *= transform[1];\n      minMax[3] *= transform[1];\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[1];\n        minMax[1] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[1] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[4];\n    minMax[2] += transform[5];\n    minMax[3] += transform[5];\n  }\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = this.applyTransform(r, m);\n    const p2 = this.applyTransform(r.slice(2, 4), m);\n    const p3 = this.applyTransform([r[0], r[3]], m);\n    const p4 = this.applyTransform([r[2], r[1]], m);\n    return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n  }\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(Math.min(rect1[0], rect1[2]), Math.min(rect2[0], rect2[2]));\n    const xHigh = Math.min(Math.max(rect1[0], rect1[2]), Math.max(rect2[0], rect2[2]));\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(Math.min(rect1[1], rect1[3]), Math.min(rect2[1], rect2[3]));\n    const yHigh = Math.min(Math.max(rect1[1], rect1[3]), Math.max(rect2[1], rect2[3]));\n    if (yLow > yHigh) {\n      return null;\n    }\n    return [xLow, yLow, xHigh, yHigh];\n  }\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3) {\n    const tvalues = [],\n      bounds = [[], []];\n    let a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n    for (let i = 0; i < 2; ++i) {\n      if (i === 0) {\n        b = 6 * x0 - 12 * x1 + 6 * x2;\n        a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n        c = 3 * x1 - 3 * x0;\n      } else {\n        b = 6 * y0 - 12 * y1 + 6 * y2;\n        a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n        c = 3 * y1 - 3 * y0;\n      }\n      if (Math.abs(a) < 1e-12) {\n        if (Math.abs(b) < 1e-12) {\n          continue;\n        }\n        t = -c / b;\n        if (0 < t && t < 1) {\n          tvalues.push(t);\n        }\n        continue;\n      }\n      b2ac = b * b - 4 * c * a;\n      sqrtb2ac = Math.sqrt(b2ac);\n      if (b2ac < 0) {\n        continue;\n      }\n      t1 = (-b + sqrtb2ac) / (2 * a);\n      if (0 < t1 && t1 < 1) {\n        tvalues.push(t1);\n      }\n      t2 = (-b - sqrtb2ac) / (2 * a);\n      if (0 < t2 && t2 < 1) {\n        tvalues.push(t2);\n      }\n    }\n    let j = tvalues.length,\n      mt;\n    const jlen = j;\n    while (j--) {\n      t = tvalues[j];\n      mt = 1 - t;\n      bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n      bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n    }\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    bounds[0].length = bounds[1].length = jlen + 2;\n    return [Math.min(...bounds[0]), Math.min(...bounds[1]), Math.max(...bounds[0]), Math.max(...bounds[1])];\n  }\n}\nconst PDFStringTranslateTable = (/* unused pure expression or super */ null && ([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac]));\nfunction stringToPDFString(str) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(str);\n        return decoder.decode(buffer);\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const code = PDFStringTranslateTable[str.charCodeAt(i)];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\nfunction isArrayBuffer(v) {\n  return typeof v === \"object\" && v?.byteLength !== undefined;\n}\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getModificationDate(date = new Date()) {\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\nclass PromiseCapability {\n  #settled = false;\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = data => {\n        this.#settled = true;\n        resolve(data);\n      };\n      this.reject = reason => {\n        this.#settled = true;\n        reject(reason);\n      };\n    });\n  }\n  get settled() {\n    return this.#settled;\n  }\n}\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    NormalizeRegex = /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"\", \"t\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) => {\n    return p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2);\n  });\n}\nfunction getUuid() {\n  if (typeof crypto !== \"undefined\" && typeof crypto?.randomUUID === \"function\") {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  if (typeof crypto !== \"undefined\" && typeof crypto?.getRandomValues === \"function\") {\n    crypto.getRandomValues(buf);\n  } else {\n    for (let i = 0; i < 32; i++) {\n      buf[i] = Math.floor(Math.random() * 255);\n    }\n  }\n  return bytesToString(buf);\n}\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\n\n\n/***/ })\n\n/******/ });\n/************************************************************************/\n/******/ // The module cache\n/******/ var __webpack_module_cache__ = {};\n/******/ \n/******/ // The require function\n/******/ function __webpack_require__(moduleId) {\n/******/ \t// Check if module is in cache\n/******/ \tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \tif (cachedModule !== undefined) {\n/******/ \t\treturn cachedModule.exports;\n/******/ \t}\n/******/ \t// Create a new module (and put it into the cache)\n/******/ \tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t// no module.id needed\n/******/ \t\t// no module.loaded needed\n/******/ \t\texports: {}\n/******/ \t};\n/******/ \n/******/ \t// Execute the module function\n/******/ \t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \n/******/ \t// Return the exports of the module\n/******/ \treturn module.exports;\n/******/ }\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/async module */\n/******/ (() => {\n/******/ \tvar webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\n/******/ \tvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\n/******/ \tvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\n/******/ \tvar resolveQueue = (queue) => {\n/******/ \t\tif(queue && queue.d < 1) {\n/******/ \t\t\tqueue.d = 1;\n/******/ \t\t\tqueue.forEach((fn) => (fn.r--));\n/******/ \t\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n/******/ \t\t}\n/******/ \t}\n/******/ \tvar wrapDeps = (deps) => (deps.map((dep) => {\n/******/ \t\tif(dep !== null && typeof dep === \"object\") {\n/******/ \t\t\tif(dep[webpackQueues]) return dep;\n/******/ \t\t\tif(dep.then) {\n/******/ \t\t\t\tvar queue = [];\n/******/ \t\t\t\tqueue.d = 0;\n/******/ \t\t\t\tdep.then((r) => {\n/******/ \t\t\t\t\tobj[webpackExports] = r;\n/******/ \t\t\t\t\tresolveQueue(queue);\n/******/ \t\t\t\t}, (e) => {\n/******/ \t\t\t\t\tobj[webpackError] = e;\n/******/ \t\t\t\t\tresolveQueue(queue);\n/******/ \t\t\t\t});\n/******/ \t\t\t\tvar obj = {};\n/******/ \t\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n/******/ \t\t\t\treturn obj;\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tvar ret = {};\n/******/ \t\tret[webpackQueues] = x => {};\n/******/ \t\tret[webpackExports] = dep;\n/******/ \t\treturn ret;\n/******/ \t}));\n/******/ \t__webpack_require__.a = (module, body, hasAwait) => {\n/******/ \t\tvar queue;\n/******/ \t\thasAwait && ((queue = []).d = -1);\n/******/ \t\tvar depQueues = new Set();\n/******/ \t\tvar exports = module.exports;\n/******/ \t\tvar currentDeps;\n/******/ \t\tvar outerResolve;\n/******/ \t\tvar reject;\n/******/ \t\tvar promise = new Promise((resolve, rej) => {\n/******/ \t\t\treject = rej;\n/******/ \t\t\touterResolve = resolve;\n/******/ \t\t});\n/******/ \t\tpromise[webpackExports] = exports;\n/******/ \t\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n/******/ \t\tmodule.exports = promise;\n/******/ \t\tbody((deps) => {\n/******/ \t\t\tcurrentDeps = wrapDeps(deps);\n/******/ \t\t\tvar fn;\n/******/ \t\t\tvar getResult = () => (currentDeps.map((d) => {\n/******/ \t\t\t\tif(d[webpackError]) throw d[webpackError];\n/******/ \t\t\t\treturn d[webpackExports];\n/******/ \t\t\t}))\n/******/ \t\t\tvar promise = new Promise((resolve) => {\n/******/ \t\t\t\tfn = () => (resolve(getResult));\n/******/ \t\t\t\tfn.r = 0;\n/******/ \t\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n/******/ \t\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n/******/ \t\t\t});\n/******/ \t\t\treturn fn.r ? promise : getResult();\n/******/ \t\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n/******/ \t\tqueue && queue.d < 0 && (queue.d = 0);\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\n/******/ \n/******/ // startup\n/******/ // Load entry module and return exports\n/******/ // This entry module used 'module' so it can't be inlined\n/******/ var __webpack_exports__ = __webpack_require__(907);\n/******/ __webpack_exports__ = globalThis.pdfjsLib = await __webpack_exports__;\n/******/ var __webpack_exports__AbortException = __webpack_exports__.AbortException;\n/******/ var __webpack_exports__AnnotationEditorLayer = __webpack_exports__.AnnotationEditorLayer;\n/******/ var __webpack_exports__AnnotationEditorParamsType = __webpack_exports__.AnnotationEditorParamsType;\n/******/ var __webpack_exports__AnnotationEditorType = __webpack_exports__.AnnotationEditorType;\n/******/ var __webpack_exports__AnnotationEditorUIManager = __webpack_exports__.AnnotationEditorUIManager;\n/******/ var __webpack_exports__AnnotationLayer = __webpack_exports__.AnnotationLayer;\n/******/ var __webpack_exports__AnnotationMode = __webpack_exports__.AnnotationMode;\n/******/ var __webpack_exports__CMapCompressionType = __webpack_exports__.CMapCompressionType;\n/******/ var __webpack_exports__DOMSVGFactory = __webpack_exports__.DOMSVGFactory;\n/******/ var __webpack_exports__FeatureTest = __webpack_exports__.FeatureTest;\n/******/ var __webpack_exports__GlobalWorkerOptions = __webpack_exports__.GlobalWorkerOptions;\n/******/ var __webpack_exports__ImageKind = __webpack_exports__.ImageKind;\n/******/ var __webpack_exports__InvalidPDFException = __webpack_exports__.InvalidPDFException;\n/******/ var __webpack_exports__MissingPDFException = __webpack_exports__.MissingPDFException;\n/******/ var __webpack_exports__OPS = __webpack_exports__.OPS;\n/******/ var __webpack_exports__PDFDataRangeTransport = __webpack_exports__.PDFDataRangeTransport;\n/******/ var __webpack_exports__PDFDateString = __webpack_exports__.PDFDateString;\n/******/ var __webpack_exports__PDFWorker = __webpack_exports__.PDFWorker;\n/******/ var __webpack_exports__PasswordResponses = __webpack_exports__.PasswordResponses;\n/******/ var __webpack_exports__PermissionFlag = __webpack_exports__.PermissionFlag;\n/******/ var __webpack_exports__PixelsPerInch = __webpack_exports__.PixelsPerInch;\n/******/ var __webpack_exports__PromiseCapability = __webpack_exports__.PromiseCapability;\n/******/ var __webpack_exports__RenderingCancelledException = __webpack_exports__.RenderingCancelledException;\n/******/ var __webpack_exports__UnexpectedResponseException = __webpack_exports__.UnexpectedResponseException;\n/******/ var __webpack_exports__Util = __webpack_exports__.Util;\n/******/ var __webpack_exports__VerbosityLevel = __webpack_exports__.VerbosityLevel;\n/******/ var __webpack_exports__XfaLayer = __webpack_exports__.XfaLayer;\n/******/ var __webpack_exports__build = __webpack_exports__.build;\n/******/ var __webpack_exports__createValidAbsoluteUrl = __webpack_exports__.createValidAbsoluteUrl;\n/******/ var __webpack_exports__getDocument = __webpack_exports__.getDocument;\n/******/ var __webpack_exports__getFilenameFromUrl = __webpack_exports__.getFilenameFromUrl;\n/******/ var __webpack_exports__getPdfFilenameFromUrl = __webpack_exports__.getPdfFilenameFromUrl;\n/******/ var __webpack_exports__getXfaPageViewport = __webpack_exports__.getXfaPageViewport;\n/******/ var __webpack_exports__isDataScheme = __webpack_exports__.isDataScheme;\n/******/ var __webpack_exports__isPdfFile = __webpack_exports__.isPdfFile;\n/******/ var __webpack_exports__noContextMenu = __webpack_exports__.noContextMenu;\n/******/ var __webpack_exports__normalizeUnicode = __webpack_exports__.normalizeUnicode;\n/******/ var __webpack_exports__renderTextLayer = __webpack_exports__.renderTextLayer;\n/******/ var __webpack_exports__setLayerDimensions = __webpack_exports__.setLayerDimensions;\n/******/ var __webpack_exports__shadow = __webpack_exports__.shadow;\n/******/ var __webpack_exports__updateTextLayer = __webpack_exports__.updateTextLayer;\n/******/ var __webpack_exports__version = __webpack_exports__.version;\n/******/ export { __webpack_exports__AbortException as AbortException, __webpack_exports__AnnotationEditorLayer as AnnotationEditorLayer, __webpack_exports__AnnotationEditorParamsType as AnnotationEditorParamsType, __webpack_exports__AnnotationEditorType as AnnotationEditorType, __webpack_exports__AnnotationEditorUIManager as AnnotationEditorUIManager, __webpack_exports__AnnotationLayer as AnnotationLayer, __webpack_exports__AnnotationMode as AnnotationMode, __webpack_exports__CMapCompressionType as CMapCompressionType, __webpack_exports__DOMSVGFactory as DOMSVGFactory, __webpack_exports__FeatureTest as FeatureTest, __webpack_exports__GlobalWorkerOptions as GlobalWorkerOptions, __webpack_exports__ImageKind as ImageKind, __webpack_exports__InvalidPDFException as InvalidPDFException, __webpack_exports__MissingPDFException as MissingPDFException, __webpack_exports__OPS as OPS, __webpack_exports__PDFDataRangeTransport as PDFDataRangeTransport, __webpack_exports__PDFDateString as PDFDateString, __webpack_exports__PDFWorker as PDFWorker, __webpack_exports__PasswordResponses as PasswordResponses, __webpack_exports__PermissionFlag as PermissionFlag, __webpack_exports__PixelsPerInch as PixelsPerInch, __webpack_exports__PromiseCapability as PromiseCapability, __webpack_exports__RenderingCancelledException as RenderingCancelledException, __webpack_exports__UnexpectedResponseException as UnexpectedResponseException, __webpack_exports__Util as Util, __webpack_exports__VerbosityLevel as VerbosityLevel, __webpack_exports__XfaLayer as XfaLayer, __webpack_exports__build as build, __webpack_exports__createValidAbsoluteUrl as createValidAbsoluteUrl, __webpack_exports__getDocument as getDocument, __webpack_exports__getFilenameFromUrl as getFilenameFromUrl, __webpack_exports__getPdfFilenameFromUrl as getPdfFilenameFromUrl, __webpack_exports__getXfaPageViewport as getXfaPageViewport, __webpack_exports__isDataScheme as isDataScheme, __webpack_exports__isPdfFile as isPdfFile, __webpack_exports__noContextMenu as noContextMenu, __webpack_exports__normalizeUnicode as normalizeUnicode, __webpack_exports__renderTextLayer as renderTextLayer, __webpack_exports__setLayerDimensions as setLayerDimensions, __webpack_exports__shadow as shadow, __webpack_exports__updateTextLayer as updateTextLayer, __webpack_exports__version as version };\n/******/ \n\n//# sourceMappingURL=pdf.mjs.map"],"names":["__webpack_modules__","__unused_webpack___webpack_module__","d","AnnotationLayer","FreeTextAnnotationElement","InkAnnotationElement","StampAnnotationElement","util","display_utils","annotation_storage","makeColorComp","n","Math","floor","max","min","toString","padStart","scaleAndClamp","x","ColorConverters","CMYK_G","c","y","m","k","G_CMYK","g","G_RGB","G_rgb","G_HTML","G","RGB_G","r","b","RGB_rgb","color","map","RGB_HTML","join","T_HTML","T_rgb","CMYK_RGB","CMYK_rgb","CMYK_HTML","components","rgb","this","slice","RGB_CMYK","xfa_layer","DEFAULT_TAB_INDEX","GetElementsByNameSet","WeakSet","getRectDims","rect","width","height","AnnotationElementFactory","create","parameters","data","annotationType","AnnotationType","LINK","LinkAnnotationElement","TEXT","TextAnnotationElement","WIDGET","fieldType","TextWidgetAnnotationElement","radioButton","RadioButtonWidgetAnnotationElement","checkBox","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","POPUP","PopupAnnotationElement","FREETEXT","LINE","LineAnnotationElement","SQUARE","SquareAnnotationElement","CIRCLE","CircleAnnotationElement","POLYLINE","PolylineAnnotationElement","CARET","CaretAnnotationElement","INK","POLYGON","PolygonAnnotationElement","HIGHLIGHT","HighlightAnnotationElement","UNDERLINE","UnderlineAnnotationElement","SQUIGGLY","SquigglyAnnotationElement","STRIKEOUT","StrikeOutAnnotationElement","STAMP","FILEATTACHMENT","FileAttachmentAnnotationElement","AnnotationElement","constructor","isRenderable","ignoreBorder","createQuadrilaterals","layer","linkService","downloadManager","imageResourcesPath","renderForms","svgFactory","annotationStorage","enableScripting","hasJSActions","_fieldObjects","fieldObjects","parent","container","_createContainer","_createQuadrilaterals","_hasPopupData","titleObj","contentsObj","richText","str","hasPopupData","page","viewport","document","createElement","setAttribute","id","tabIndex","style","zIndex","popupRef","noRotate","classList","add","pageWidth","pageHeight","pageX","pageY","rawDims","rotation","hasOwnCanvas","setRotation","Util","normalizeRect","view","borderStyle","borderWidth","horizontalRadius","horizontalCornerRadius","verticalRadius","verticalCornerRadius","radius","borderRadius","AnnotationBorderStyleType","SOLID","DASHED","BEVELED","warn","INSET","borderBottomStyle","borderColor","makeHexColor","left","top","angle","elementWidth","elementHeight","_commonActions","setColor","jsName","styleName","event","detail","colorType","colorArray","target","setValue","shadow","display","hidden","visibility","noView","noPrint","print","focus","setTimeout","preventScroll","userName","title","readonly","disabled","required","_setRequired","bgColor","fillColor","fgColor","textColor","strokeColor","_dispatchEventFromSandbox","actions","jsEvent","commonActions","name","Object","keys","action","_setDefaultPropertiesFromJS","element","storedData","getRawValue","actionName","entries","quadPoints","rectBlX","rectBlY","rectTrX","rectTrY","length","trX","trY","blX","blY","svgBuffer","svg","defs","append","clipPath","rectWidth","rectHeight","push","backgroundImage","_createPopup","popup","modificationDate","parentRect","elements","div","render","unreachable","_getElementsByName","skipId","fields","fieldObj","exportValues","exportValue","domElement","querySelector","has","getElementsByName","getAttribute","show","maybeShow","hide","forceHide","getElementsToTriggerPopup","addHighlightArea","triggers","Array","isArray","_isEditable","_editOnDoubleClick","annotationEditorType","mode","editId","addEventListener","eventBus","dispatch","source","options","super","isTooltipOnly","link","isBound","url","addLinkAttributes","newWindow","_bindNamedAction","attachment","attachmentDest","setOCGState","dest","_bindLink","Action","_bindJSAction","resetForm","_bindResetFormAction","destination","href","getDestinationHash","onclick","goToDestination","getAnchorUrl","executeNamedAction","openOrDownloadData","content","filename","executeSetOCGState","Map","get","otherClickAction","resetFormFields","refs","resetFormRefs","include","allFields","fieldIds","Set","fieldName","values","field","storage","allIds","type","value","defaultValue","dispatchEvent","Event","ids","image","src","toLowerCase","JSON","stringify","alternativeText","showElementAndHideCanvas","previousSibling","nodeName","_getKeyModifier","FeatureTest","platform","isMac","metaKey","ctrlKey","_setEventListener","elementData","baseName","eventName","valueGetter","includes","shift","shiftKey","modifier","focused","relatedTarget","_setEventListeners","names","getter","Blur","Focus","_setBackgroundColor","backgroundColor","_setTextStyle","TEXT_ALIGNMENT","fontColor","defaultAppearanceData","fontSize","computedFontSize","roundToOneDecimal","round","multiLine","abs","lineHeight","LINE_FACTOR","textAlignment","textAlign","isRequired","removeAttribute","hasAppearance","fieldValue","setPropertyOnSiblings","base","key","keyInStorage","getValue","textContent","maxLen","charLimit","fieldFormattedValues","formattedValue","comb","replaceAll","userValue","lastCommittedValue","commitKey","doNotScroll","overflowY","overflowX","readOnly","maxLength","defaultFieldValue","blurListener","scrollLeft","activeElement","selRange","setSelectionRange","willCommit","selStart","selectionStart","selEnd","selectionEnd","_blurListener","Keystroke","inputType","match","substring","preventDefault","change","combWidth","letterSpacing","verticalAlign","checked","checkbox","curChecked","buttonValue","radio","pdfButtonValue","linkElement","lastChild","selectElement","addAnEmptyEntry","combo","size","multiSelect","multiple","option","selected","optionElement","displayValue","removeEmptyEntry","noneOptionElement","prepend","remove","removeEventListener","isExport","prototype","filter","call","selectedIndex","selectedValues","getItems","multipleSelection","index","findIndex","items","clear","insert","selectChild","children","before","item","indices","editable","changeEx","keyDown","PopupElement","open","elementIds","AnnotationPrefix","bind","PDFDateString","toDateObject","trigger","flatMap","e","className","baseColor","outlineColor","CSS","supports","BACKGROUND_ENLIGHT","header","dir","date","toLocaleDateString","time","toLocaleTimeString","contents","_formatContents","XfaLayer","xfaHtml","html","intent","useParentRect","intersect","normalizedRect","parentWidth","popupLeft","popupTop","p","lines","split","i","ii","line","createTextNode","altKey","isVisible","parseInt","textPosition","AnnotationEditorType","lineSpan","lineCoordinates","square","circle","containerClassName","svgElementName","points","coordinate","vertices","polyline","inkList","inkLists","file","getFilenameFromUrl","fillAlpha","test","evt","accessibilityManager","annotationCanvasMap","contentElement","firstChild","moveElementInDOM","params","annotations","setLayerDimensions","popupToElements","elementParams","DOMSVGFactory","AnnotationStorage","noHTML","isPopupAnnotation","set","rendered","update","canvas","replaceWith","getEditableAnnotations","from","getEditableAnnotation","PrintAnnotationStorage","SerializableEmpty","_shared_util_js__WEBPACK_IMPORTED_MODULE_0__","_editor_editor_js__WEBPACK_IMPORTED_MODULE_1__","_shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__","freeze","hash","transfer","undefined","onSetModified","onResetModified","onAnnotationEditor","assign","delete","resetModified","AnnotationEditor","obj","modified","entry","val","_type","getAll","objectFromMap","setAll","serializable","MurmurHash3_64","context","hasBitmap","serialized","serialize","bitmap","hexdigest","clone","structuredClone","__webpack_module__","a","async","__webpack_handle_async_dependencies__","__webpack_async_result__","PDFDataRangeTransport","PDFWorker","build","getDocument","version","_annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__","_display_utils_js__WEBPACK_IMPORTED_MODULE_2__","_font_loader_js__WEBPACK_IMPORTED_MODULE_3__","display_node_utils__WEBPACK_IMPORTED_MODULE_4__","_canvas_js__WEBPACK_IMPORTED_MODULE_5__","_worker_options_js__WEBPACK_IMPORTED_MODULE_6__","_shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__","_metadata_js__WEBPACK_IMPORTED_MODULE_8__","_optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__","_transport_stream_js__WEBPACK_IMPORTED_MODULE_10__","display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__","display_network__WEBPACK_IMPORTED_MODULE_12__","display_node_stream__WEBPACK_IMPORTED_MODULE_13__","_xfa_text_js__WEBPACK_IMPORTED_MODULE_14__","__webpack_async_dependencies__","then","DEFAULT_RANGE_CHUNK_SIZE","RENDERING_CANCELLED_TIMEOUT","DELAYED_CLEANUP_TIMEOUT","DefaultCanvasFactory","isNodeJS","NodeCanvasFactory","DOMCanvasFactory","DefaultCMapReaderFactory","NodeCMapReaderFactory","DOMCMapReaderFactory","DefaultFilterFactory","NodeFilterFactory","DOMFilterFactory","DefaultStandardFontDataFactory","NodeStandardFontDataFactory","DOMStandardFontDataFactory","URL","isArrayBuffer","Error","range","task","PDFDocumentLoadingTask","docId","window","location","getUrlProp","Buffer","Uint8Array","byteLength","buffer","stringToBytes","isNaN","getDataProp","httpHeaders","withCredentials","password","rangeTransport","rangeChunkSize","Number","isInteger","worker","verbosity","docBaseUrl","isDataScheme","cMapUrl","cMapPacked","CMapReaderFactory","standardFontDataUrl","StandardFontDataFactory","ignoreErrors","stopAtErrors","maxImageSize","isEvalSupported","isOffscreenCanvasSupported","canvasMaxAreaInBytes","disableFontFace","fontExtraProperties","enableXfa","ownerDocument","globalThis","disableRange","disableStream","disableAutoFetch","pdfBug","NaN","useSystemFonts","useWorkerFetch","isValidFetchUrl","baseURI","canvasFactory","filterFactory","setVerbosityLevel","transportFactory","cMapReaderFactory","baseUrl","isCompressed","standardFontDataFactory","workerParams","port","GlobalWorkerOptions","workerPort","fromPort","_worker","fetchDocParams","apiVersion","evaluatorOptions","transportParams","styleElement","promise","destroyed","workerIdPromise","workerId","messageHandler","sendWithPromise","_fetchDocument","networkStreamPromise","Promise","resolve","networkStream","PDFDataTransportStream","initialData","progressiveDone","contentDispositionFilename","PDFNodeStream","PDFFetchStream","PDFNetworkStream","createPDFNetworkStream","all","MessageHandler","transport","WorkerTransport","_transport","send","catch","_capability","reject","static","PromiseCapability","onPassword","onProgress","destroy","_pendingDestroy","ex","_rangeListeners","_progressListeners","_progressiveReadListeners","_progressiveDoneListeners","_readyCapability","addRangeListener","listener","addProgressListener","addProgressiveReadListener","addProgressiveDoneListener","onDataRange","begin","chunk","onDataProgress","loaded","total","onDataProgressiveRead","onDataProgressiveDone","transportReady","requestDataRange","end","abort","PDFDocumentProxy","pdfInfo","_pdfInfo","numPages","fingerprints","isPureXfa","_htmlForXfa","allXfaHtml","getPage","pageNumber","getPageIndex","ref","getDestinations","getDestination","getPageLabels","getPageLayout","getPageMode","getViewerPreferences","getOpenAction","getAttachments","getJSActions","getDocJSActions","getOutline","getOptionalContentConfig","getPermissions","getMetadata","getMarkInfo","getData","saveDocument","getDownloadInfo","downloadInfoCapability","cleanup","keepLoadedFonts","startCleanup","loadingTask","loadingParams","getFieldObjects","getCalculationOrderIds","PDFPageProxy","pageIndex","pageInfo","_pageIndex","_pageInfo","_stats","StatTimer","_pdfBug","commonObjs","objs","PDFObjects","_maybeCleanupAfterRender","_intentStates","rotate","userUnit","getViewport","scale","offsetX","offsetY","dontFlip","PageViewport","viewBox","getAnnotations","intentArgs","getRenderingIntent","renderingIntent","getPageJSActions","getXfa","canvasContext","annotationMode","AnnotationMode","ENABLE","transform","background","optionalContentConfigPromise","pageColors","printAnnotationStorage","intentState","cacheKey","streamReaderCancelTimeout","clearTimeout","intentPrint","RenderingIntentFlag","PRINT","displayReadyCapability","operatorList","fnArray","argsArray","lastChunk","separateAnnots","_pumpOperatorList","complete","error","renderTasks","internalRenderTask","capability","_abortOperatorList","reason","timeEnd","InternalRenderTask","callback","useRequestAnimationFrame","renderTask","transparency","optionalContentConfig","initializeGraphics","operatorListChanged","getOperatorList","opListTask","opListReadCapability","streamTextContent","includeMarkedContent","disableNormalization","sendWithStream","highWaterMark","getTextContent","xfa","XfaText","readableStream","reader","getReader","styles","pump","read","done","getStructTree","_destroy","waitOn","force","completed","cancel","resetStats","success","delayed","_startRenderPage","_renderPageChunk","operatorListChunk","annotationStorageSerializable","streamReader","RenderingCancelledException","delay","extraDelay","AbortException","message","curCacheKey","curIntentState","stats","LoopbackPort","postMessage","terminate","PDFWorkerUtil","isWorkerDisabled","fakeWorkerId","workerSrc","isSameOrigin","otherUrl","origin","other","createCDNWrapper","wrapper","createObjectURL","Blob","getVerbosityLevel","_port","_webWorker","_messageHandler","WeakMap","_initializeFromPort","_initialize","on","Worker","terminateEarly","onWorkerError","_setupFakeWorker","sendTest","testObj","info","_setupFakeWorkerGlobal","WorkerMessageHandler","workerHandler","setup","cachedPort","pdfjsWorker","import","loader","factory","fontLoader","FontLoader","_params","destroyCapability","_networkStream","_fullReader","_lastProgress","setupMessageHandler","cachedPromise","isOpList","DISPLAY","ANY","DISABLE","ANNOTATIONS_DISABLE","ENABLE_FORMS","ANNOTATIONS_FORMS","ENABLE_STORAGE","ANNOTATIONS_STORAGE","OPLIST","hasOwnProperty","terminated","cancelAllRequests","sink","assert","getFullReader","onPull","close","ArrayBuffer","enqueue","onCancel","ready","readyReason","headersCapability","fullReader","headersReady","isStreamingSupported","isRangeSupported","contentLength","rangeReader","getRangeReader","_numPages","htmlForXfa","PasswordException","code","InvalidPDFException","MissingPDFException","UnexpectedResponseException","status","UnknownErrorException","details","exception","updatePassword","exportedData","exportedError","inspectFont","FontInspector","enabled","font","fontAdded","FontFaceObject","finally","imageData","pageProxy","MAX_IMAGE_SIZE_TO_CACHE","fetch","num","gen","results","OptionalContentConfig","metadata","Metadata","objId","settled","RenderTask","onContinue","form","operatorListIdx","running","graphicsReadyCallback","graphicsReady","_useRequestAnimationFrame","cancelled","_cancelBound","_continueBound","_continue","_scheduleNextBound","_scheduleNext","_nextBound","_next","_canvas","StepperManager","stepper","init","nextBreakPoint","getNextBreakPoint","gfx","CanvasGraphics","beginDrawing","endDrawing","updateOperatorList","requestAnimationFrame","executeOperatorList","BaseCMapReaderFactory","BaseCanvasFactory","BaseFilterFactory","BaseSVGFactory","BaseStandardFontDataFactory","addFilter","maps","addHCMFilter","addHighlightHCMFilter","newFgColor","newBgColor","keepHCM","_createCanvas","getContext","reset","canvasAndContext","compressionType","CMapCompressionType","BINARY","NONE","_fetchData","skipDimensions","_createSVG","PathType","applyBoundingBox","ctx","bbox","region","Path2D","clip","BaseShadingPattern","getPattern","RadialAxialShadingPattern","IR","_bbox","_colorStops","_p0","_p1","_r0","_r1","matrix","_createGradient","grad","createLinearGradient","createRadialGradient","colorStop","addColorStop","owner","inverse","pathType","pattern","ownerBBox","current","getClippedPathBoundingBox","getCurrentTransform","ceil","tmpCanvas","cachedCanvases","getCanvas","tmpCtx","clearRect","beginPath","translate","baseTransform","fillStyle","fill","createPattern","domMatrix","DOMMatrix","setTransform","drawTriangle","p1","p2","p3","c1","c2","c3","coords","colors","bytes","rowSize","tmp","x1","scaleX","y1","scaleY","x2","y2","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","j","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","q","MeshShadingPattern","_coords","_colors","_figures","_bounds","_background","_createMeshCanvas","combinedScale","boundsWidth","boundsHeight","paddedWidth","BORDER_SIZE","paddedHeight","createImageData","putImageData","singularValueDecompose2dScale","matrixScale","temporaryPatternCanvas","DummyShadingPattern","PaintType","TilingPattern","canvasGraphicsFactory","xstep","ystep","paintType","tilingType","createPatternCanvas","x0","y0","curMatrixScale","dimx","getSizeAndScale","dimy","graphics","createCanvasGraphics","groupLevel","setFillAndStrokeStyleToContext","adjustedX0","adjustedY0","adjustedX1","adjustedY1","save","clipBbox","step","realOutputSize","maxSize","MAX_PATTERN_SIZE","bboxWidth","bboxHeight","updateRectMinMax","endPath","strokeStyle","cssColor","FormatError","convertBlackAndWhiteToRGBA","srcPos","nonBlackColor","inverseDecode","black","isLittleEndian","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","Uint32Array","destPos","elem","MAX_GROUP_SIZE","FULL_CHUNK_HEIGHT","CachedCanvases","cache","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","tx","ty","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","sign","drawImage","hypot","CanvasExtraState","alphaIsShape","fontSizeScale","textMatrix","IDENTITY_MATRIX","textMatrixScale","fontMatrix","FONT_IDENTITY_MATRIX","leading","lineX","lineY","charSpacing","wordSpacing","textHScale","textRenderingMode","TextRenderingMode","FILL","textRise","patternFill","strokeAlpha","lineWidth","activeSMask","transferMaps","startNewPathAndClipBox","clipBox","setCurrentPoint","updatePathMinMax","applyTransform","minX","maxX","p4","updateScalingPathMinMax","minMax","scaleMinMax","updateCurvePathMinMax","box","bezierBoundingBox","getPathBoundingBox","xStrokePad","yStrokePad","updateClipFromPath","isEmptyClip","Infinity","putBinaryImageData","imgData","ImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","kind","ImageKind","GRAYSCALE_1BPP","dest32","dest32DataLength","fullSrcDiff","white","srcDiff","kEnd","kEndUnrolled","mask","srcByte","RGBA_32BPP","subarray","RGB_24BPP","putBinaryImageMask","copyCtxState","sourceCtx","destCtx","properties","property","setLineDash","getLineDash","lineDashOffset","resetCtxToDefault","fillRule","globalAlpha","lineCap","lineJoin","miterLimit","globalCompositeOperation","composeSMaskBackdrop","r0","g0","b0","alpha","alpha_","composeSMaskAlpha","maskData","layerData","transferMap","composeSMaskLuminosity","composeSMask","smask","layerCtx","layerBox","layerOffsetX","layerOffsetY","layerWidth","layerHeight","maskCtx","subtype","backdrop","maskOffsetX","maskOffsetY","hasBackdrop","composeFn","chunkSize","row","chunkHeight","getImageData","genericComposeSMask","restore","getImageSmoothingEnabled","interpolate","fround","actualScale","devicePixelRatio","PixelsPerInch","PDF_TO_CSS_UNITS","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","canvasCtx","markedContentStack","stateStack","pendingClip","pendingEOFill","res","xobjs","groupStack","processingType3","baseTransformStack","smaskStack","smaskCounter","tempSMask","suspendedCtx","contentVisible","cachedPatterns","viewportScale","outputScaleX","outputScaleY","_cachedScaleForStroking","_cachedGetSinglePixelWidth","_cachedBitmapsMap","getObject","fallback","startsWith","savedFillStyle","fillRect","transparentCanvas","compositeCtx","executionStartIdx","continueCallback","argsArrayLen","chunkOperations","endTime","Date","now","steps","fnId","breakIt","OPS","dependency","apply","depObjId","objsPool","inSMaskMode","HTMLCanvasElement","hcmFilterId","foreground","savedFilter","_scaleImage","img","inverseTransform","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","_createMaskCanvas","isPatternFill","currentTransform","scaled","maskCanvas","count","mainKey","cachedImage","maskToCanvas","getAxialAlignedBoundingBox","drawnWidth","drawnHeight","fillCanvas","fillCtx","getCurrentTransformInverse","imageSmoothingEnabled","setLineWidth","setLineCap","setLineJoin","setMiterLimit","limit","setDash","dashArray","dashPhase","setRenderingIntent","setFlatness","flatness","setGState","states","setFont","checkSMaskState","beginSMaskMode","endSMaskMode","cacheId","scratchCanvas","_removeMirroring","__originalSave","__originalRestore","__originalRotate","__originalScale","__originalTranslate","__originalTransform","__originalSetTransform","__originalResetTransform","resetTransform","__originalClip","__originalMoveTo","moveTo","__originalLineTo","lineTo","__originalBezierCurveTo","bezierCurveTo","__originalRect","__originalClosePath","closePath","__originalBeginPath","f","rule","cp1x","cp1y","cp2x","cp2y","mirrorContextOperations","compose","dirtyBox","old","pop","constructPath","ops","args","startX","startY","isScalingMatrix","minMaxForBezier","rectangle","xw","yh","curveTo","curveTo2","curveTo3","stroke","consumePath","rescaleAndStroke","closeStroke","needRestore","eoFill","fillStroke","eoFillStroke","closeFillStroke","closeEOFillStroke","eoClip","beginText","endText","paths","pendingTextPaths","path","addToPath","setCharSpacing","spacing","setWordSpacing","setHScale","setLeading","fontRefName","fontObj","fontDirection","isType3Font","loadedName","typeface","systemFontInfo","css","fallbackName","bold","italic","browserFontSize","setTextRenderingMode","setTextRise","rise","moveText","setLeadingMoveText","setTextMatrix","nextLine","paintChar","character","patternTransform","fillStrokeMode","FILL_STROKE_MASK","isAddToPathSet","ADD_TO_PATH_FLAG","missingFile","getPathGenerator","FILL_STROKE","STROKE","fillText","strokeText","isFontSubpixelAAEnabled","showText","glyphs","showType3Text","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","getSinglePixelWidth","isInvalidPDFjsFont","chars","glyph","unicode","restoreNeeded","isSpace","fontChar","accent","scaledX","scaledY","vmetric","vx","vy","remeasure","measuredWidth","measureText","characterScaleX","isInFont","scaledAccentX","offset","scaledAccentY","spacingLength","INVISIBLE","charProcOperatorList","operatorListId","setCharWidth","xWidth","yWidth","setCharWidthAndBounds","llx","lly","urx","ury","getColorN_Pattern","_getPattern","setStrokeColorN","arguments","setFillColorN","setStrokeRGBColor","setFillRGBColor","getShadingPattern","shadingFill","inv","beginInlineImage","beginImageData","paintFormXObjectBegin","paintFormXObjectEnd","beginGroup","group","currentCtx","isolated","knockout","bounds","canvasBounds","groupCtx","startTransformInverse","endGroup","currentMtx","beginAnnotation","canvasWidth","canvasHeight","annotationCanvas","savedCtx","endAnnotation","paintImageMaskXObject","compiled","POINT_TYPES","width1","j0","lineSize","pos","sum","Int32Array","p0","pp","compileType3Glyph","paintImageMaskXObjectRepeat","skewX","skewY","positions","trans","paintImageMaskXObjectGroup","images","paintImageXObject","paintInlineImageXObject","paintImageXObjectRepeat","w","h","paintInlineImageXObjectGroup","applyTransferMapsToCanvas","applyTransferMapsToBitmap","imgToPaint","HTMLElement","paintSolidColorImageMask","markPoint","tag","markPointProps","beginMarkedContent","visible","beginMarkedContentProps","isContentVisible","endMarkedContent","beginCompat","endCompat","isEmpty","absDet","normX","normY","getScaleForStroking","getTransform","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","op","getColorValues","getPdfFilenameFromUrl","getRGB","getXfaPageViewport","isPdfFile","noContextMenu","_base_factory_js__WEBPACK_IMPORTED_MODULE_0__","_shared_util_js__WEBPACK_IMPORTED_MODULE_1__","SVG_NS","PDF","contain","position","createElementNS","body","tableR","tableG","tableB","mapR","mapG","mapB","bufferR","bufferG","bufferB","fgRGB","bgRGB","table","getSteps","start","arr","fgGray","bgGray","newFgRGB","newBgRGB","fg","bg","newStart","newStep","prev","parentNode","feColorMatrix","feComponentTransfer","func","feFunc","rTable","gTable","bTable","getComputedStyle","getPropertyValue","_document","fetchData","asTypedArray","response","ok","statusText","arrayBuffer","text","request","XMLHttpRequest","responseType","onreadystatechange","readyState","DONE","responseText","cMapData","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","convertToViewportPoint","convertToViewportRectangle","topLeft","bottomRight","convertToPdfPoint","applyInverseTransform","BaseException","msg","trim","onlyStripPath","lastIndexOf","defaultFilename","reFilename","splitURI","exec","suggestedFilename","decodeURIComponent","started","times","outBuf","longest","padEnd","protocol","pdfDateStringRegex","input","RegExp","matches","year","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","UTC","xfaPage","attributes","colorRGB","span","computedColor","invertSelf","mustFlip","mustRotate","useRound","isCSSRoundSupported","widthStr","heightStr","AnnotationEditorLayer","editor_editor","tools","annotation_layer","FreeTextEditor","editorDivBlur","editorDivFocus","editorDivInput","editorDivKeydown","_keyboardManager","proto","arrowChecker","self","small","AnnotationEditorUIManager","TRANSLATE_SMALL","big","TRANSLATE_BIG","KeyboardManager","commitOrRemove","bubbles","_translateEmpty","checker","_defaultColor","_defaultLineColor","_defaultFontSize","initialize","l10n","strings","documentElement","_internalPadding","parseFloat","updateDefaultParams","AnnotationEditorParamsType","FREETEXT_SIZE","FREETEXT_COLOR","updateParams","defaultPropertiesToUpdate","propertiesToUpdate","setFontsize","editorDiv","parentScale","savedFontsize","addCommands","cmd","undo","mustExec","overwriteIfSameType","keepUndo","savedColor","_uiManager","translateSelectedEditors","getInitialTranslation","rebuild","isAttachedToDOM","enableEditMode","isInEditMode","setEditingState","updateToolbar","overlayDiv","contentEditable","_isDraggable","disableEditMode","isEditing","focusin","_focusEventsAllowed","onceAdded","_initialOptions","isCentered","center","innerText","divs","getElementsByTagName","replace","parentHeight","parentDimensions","getBoundingClientRect","currentLayer","savedDisplay","parentRotation","fixAndSetPosition","commit","savedText","newText","trimEnd","setText","shouldGetKeyboardEvents","enterInEditMode","dblclick","keydown","toggle","disableEditing","enableEditing","baseX","baseY","_l10nPromise","bindEvents","annotationElementId","pageTranslationToScreen","pageDimensions","pageTranslation","posX","posY","setAt","replaceChildren","contentDiv","deserialize","uiManager","deleted","editor","isForCopying","padding","getRect","_colorManager","convert","structTreeParentId","_structTreeParentId","some","InkEditor","canvasPointermove","canvasPointerleave","canvasPointerup","canvasPointerdown","thickness","opacity","bezierPath2D","allRawPaths","currentPath","scaleFactor","translationX","translationY","_willKeepAspectRatio","INK_THICKNESS","_defaultThickness","INK_COLOR","INK_OPACITY","_defaultOpacity","savedThickness","savedOpacity","disconnect","setParent","removeShouldRescale","addShouldRescale","onScaleChanging","setDimensions","opacityToHex","lastX","lastY","at","path2D","lastPoint","bezier","xy","lastPoints","prevX","prevY","bezierPoints","control1","control2","setInForeground","makeResizable","addInkEditorIfNeeded","moveInDOM","button","addToAnnotationStorage","setInBackground","ResizeObserver","contentRect","observe","isResizable","setDims","setAspectRatio","roundedWidth","roundedHeight","fixDims","scaleFactorW","scaleFactorH","first","s","shiftX","shiftY","jj","p10","p11","p20","p21","p30","p31","p40","p41","xMin","xMax","yMin","yMax","firstTime","MIN_SIZE","prevTranslationX","prevTranslationY","unscaledPadding","StampEditor","bitmapUrl","bitmapFile","supportedTypes","supportedTypesStr","isHandlingMimeForPasting","mime","paste","pasteEditor","getAsFile","fromId","isSvg","enableWaiting","imageManager","getFromId","getFromUrl","getFromFile","accept","files","click","deleteId","MAX_RATIO","factor","addUndoableEditor","_eventBus","editorType","addAltTextButton","bitmapWidth","bitmapHeight","prevWidth","prevHeight","offscreen","OffscreenCanvas","transferToImageBitmap","hcmFilter","getImageForAltText","toUrl","getSvgUrl","toDataURL","bitmapId","accessibilityData","isValidId","altTextData","decorative","altText","alt","stamps","area","prevData","pointerup","pointerdown","_editorType","annotationLayer","editorTypes","_initialized","registerEditorTypes","addLayer","updateMode","getMode","disableClick","enableClick","isCommitting","togglePointerEvents","enable","annotationElementIds","editables","isDeletedAnnotationElement","addOrRebuild","disable","hiddenAnnotationIds","setActiveEditor","getActive","attach","removeDeletedAnnotationElement","detach","removePointerInTextLayer","addDeletedAnnotationElement","removeEditor","changeParent","deleteAnnotationElement","addEditor","moveEditorInDOM","contains","once","needsToBeRebuilt","getNextId","getId","innerWidth","innerHeight","addNewEditor","setSelected","toggleSelected","isSelected","unselect","unselectAll","findNewParent","findParent","removeLayer","getEditors","_tools_js__WEBPACK_IMPORTED_MODULE_0__","focusout","_zIndex","ColorManager","_resizerKeyboardManager","resize","_resizeWithKeyboard","_stopResizingWithKeyboard","pageRotation","viewParameters","getPrototypeOf","getHexCode","fakeEditor","FakeEditor","_borderLineWidth","_value","isEnterHandled","closest","isMultipleSelection","screenToPageTranslation","translateInPage","scrollIntoView","block","drag","bx","by","toFixed","realScale","scaledWidth","scaledHeight","SMALL_EDITOR_SIZE","widthPercent","endsWith","heightPercent","classes","boundResizerPointermove","savedDraggable","pointerMoveOptions","passive","capture","savedX","savedY","savedWidth","savedHeight","savedParentCursor","cursor","savedCursor","pointerUpCallback","newX","newY","minWidth","minHeight","rotationMatrix","transf","invRotationMatrix","getPoint","getOpposite","isDiagonal","isHorizontal","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","ratioX","ratioY","deltaX","deltaY","movementX","movementY","oldDiag","stopPropagation","onClick","editAltText","PERCENT","tooltip","DELAY_TO_SHOW_TOOLTIP","altTextFinish","focusVisible","getClientDimensions","maxWidth","maxHeight","pointerMoveCallback","setUpDragSession","dragSelectedEditors","endDragSession","_setParentAndPosition","getRectInCurrentCoords","boundResizerKeydown","boundResizerBlur","firstPosition","nextFirstPosition","child","stopImmediatePropagation","select","aspectRatio","_display_utils_js__WEBPACK_IMPORTED_MODULE_1__","IdManager","AnnotationEditorPrefix","ImageManager","getUuid","_isSVGFittingCanvas","Image","decode","rawData","refCounter","blob","mustRemoveAspectRatioPromise","fileReader","FileReader","imageElement","imagePromise","onload","svgUrl","result","onerror","readAsDataURL","createImageBitmap","console","lastModified","CommandManager","next","splice","redo","hasSomethingToUndo","hasSomethingToRedo","callbacks","allKeys","isMacKey","matchMedia","RGB","every","_colorsMapping","blur","copy","cut","onEditingAction","onPageChanging","onRotationChanging","hasSelectedEditor","hasSomethingToControl","textInputChecker","_self","el","HTMLInputElement","selectAll","addNewEditorFromKeyboard","viewer","altTextManager","pdfDocument","_on","_off","direction","focusMainContainer","layerX","layerY","disableUserSelect","pagesRotation","hasSelection","lastEditor","lastActiveElement","addEditListeners","removeEditListeners","editors","clipboardData","setData","parse","newEditors","deserializedEditor","isEditorHandlingKeyboard","types","getLayer","currentPageIndex","isFromKeyboard","CREATE","mustWait","getEditor","ed","firstSelectedEditor","noCommit","totalX","totalY","savedPageIndex","newPageIndex","mustBeAddedInUndoStack","move","isActive","_network_utils_js__WEBPACK_IMPORTED_MODULE_1__","createFetchOptions","headers","abortController","method","signal","credentials","redirect","createHeaders","Headers","getArrayBuffer","isHttp","_fullRequestReader","_rangeRequestReaders","_progressiveDataLength","_loaded","PDFFetchStreamReader","PDFFetchStreamRangeReader","stream","_stream","_reader","_filename","_withCredentials","_contentLength","_headersCapability","_disableRange","_rangeChunkSize","_abortController","AbortController","_isStreamingSupported","_isRangeSupported","_headers","validateResponseStatus","createResponseStatusError","getResponseHeader","allowRangeRequests","suggestedLength","validateRangeRequestCapabilities","extractFilenameFromHeader","_readCapability","nativeFontFaces","loadingRequests","loadTestFontId","addNativeFontFace","nativeFontFace","fonts","removeNativeFontFace","insertRule","styleSheet","sheet","cssRules","loadSystemFont","_inspectFont","isFontLoadingAPISupported","fontFace","FontFace","load","baseFontName","attached","createNativeFontFace","family","createFontFaceRule","isSyncFontLoadingSupported","_queueLoadingCallback","_prepareFontLoadEvent","hasFonts","supported","navigator","userAgent","otherRequest","_loadTestFont","testFont","atob","int32","charCodeAt","spliceString","called","XXXX_VALUE","checksum","string32","btoa","fontFamily","isFontReady","translatedData","compiledGlyphs","cssFontInfo","weight","fontWeight","italicAngle","bytesToString","mimetype","cmds","jsBuf","Function","parsedData","getRaw","NetworkManager","currXhrId","pendingRequests","requestRange","listeners","prop","requestFull","xhr","xhrId","pendingRequest","setRequestHeader","expectedStatus","onError","onStateChange","onprogress","onHeadersReceived","onDone","xhrStatus","rangeHeader","getRequestXhr","isPendingRequest","abortRequest","_source","_manager","_onRangeRequestReaderClosed","indexOf","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","onClosed","manager","_onHeadersReceived","_onDone","_onError","_onProgress","_url","_fullRequestId","_headersReceivedCapability","_cachedChunks","_requests","_done","_storedError","fullRequestXhrId","fullRequestXhr","requestCapability","lengthComputable","_requestId","_queuedChunk","_close","returnValues","contentDisposition","needsEncodingFixup","toParamRegExp","rfc2616unquote","unescape","rfc5987decode","rfc2047decode","fixupEncoding","contentDispositionStr","iter","quot","part","parts","rfc2231getparam","attributePattern","flags","textdecode","encoding","decoder","TextDecoder","fatal","quotindex","extvalue","encodingend","charset","hex","String","fromCharCode","getFilenameFromContentDispositionHeader","fs","http","https","fileUriRegex","sourceUrl","parsedUrl","host","parseUrl","isFsUrl","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","BaseFullReader","_readableStream","_error","_setReadableStream","BaseRangeReader","createRequestOptions","auth","hostname","handleResponse","statusCode","_request","_httpHeaders","Range","lstat","stat","createReadStream","path2d_polyfill","readFile","createCanvas","_shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__","INTERNAL","Symbol","OptionalContentGroup","_setVisible","internal","creator","order","groups","baseState","off","getHash","array","operator","state","expression","policy","setVisibility","hasInitialVisibility","getOrder","getGroups","getGroup","renderTextLayer","updateTextLayer","DEFAULT_FONT_SIZE","DEFAULT_FONT_ASCENT","ascentCache","getCtx","appendText","geom","textDiv","textDivProperties","hasText","hasEOL","_textDivs","_transform","atan2","fontName","PI","_fontInspectorEnabled","fontSubstitution","fontHeight","fontAscent","cachedAscent","metrics","ascent","fontBoundingBoxAscent","descent","fontBoundingBoxDescent","ratio","pixels","getAscent","_isOffscreenCanvasSupported","sin","cos","scaleFactorStr","divStyle","_container","_rootContainer","_pageWidth","_pageHeight","dataset","fontSubstitutionLoadedName","shouldScaleText","absScaleX","absScaleY","_textDivProperties","_isReadableStream","_layoutText","layout","prevFontSize","prevFontFamily","TextLayerRenderTask","textContentSource","textDivs","textContentItemsStr","_textContentSource","ReadableStream","_textContentItemsStr","_canceled","_layoutTextParams","_processItems","styleCache","br","_render","mustRescale","pdfDataRangeTransport","_queuedChunks","_progressiveDone","_contentDispositionFilename","_pdfDataRangeTransport","_rangeReaders","_onReceiveData","_onProgressiveDone","_enqueue","found","_begin","_removeRangeReader","queuedChunks","PDFDataTransportStreamReader","PDFDataTransportStreamRangeReader","_headersReady","_end","_xfa_text_js__WEBPACK_IMPORTED_MODULE_0__","setupStorage","xfaOn","xfaOff","setAttributes","isHTMLAnchorElement","HTMLAnchorElement","dataId","root","rootHtml","isNotForRichText","rootDiv","node","shouldBuildText","stack","childHtml","xmlns","querySelectorAll","output","walk","_display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__","_display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__","_display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__","_display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__","_display_worker_options_js__WEBPACK_IMPORTED_MODULE_7__","_display_api_js__WEBPACK_IMPORTED_MODULE_1__","PasswordResponses","PermissionFlag","VerbosityLevel","_display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_8__","createValidAbsoluteUrl","normalizeUnicode","_display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__","_util_js__WEBPACK_IMPORTED_MODULE_0__","CallbackKind","StreamKind","wrapReason","sourceName","targetName","comObj","callbackId","streamId","streamSinks","streamControllers","callbackCapabilities","actionHandler","_onComObjOnMessage","cbSourceName","cbTargetName","handler","ah","transfers","queueingStrategy","controller","startCapability","startCall","pullCall","cancelCall","isClosed","desiredSize","pull","pullCapability","cancelCapability","streamSink","isCancelled","lastDesiredSize","sinkCapability","streamController","allSettled","SEED","MASK_HIGH","MASK_LOW","seed","h1","h2","blockCounts","tailLength","dataUint32","k1","k2","C1","C2","C1_LOW","C2_LOW","process","versions","nw","electron","SAVE","RESIZE","FREETEXT_OPACITY","MODIFY_CONTENTS","COPY","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","COPY_FOR_ACCESSIBILITY","ASSEMBLE","PRINT_HIGH_QUALITY","FILL_ADD_TO_PATH","STROKE_ADD_TO_PATH","FILL_STROKE_ADD_TO_PATH","ADD_TO_PATH","SOUND","MOVIE","SCREEN","PRINTERMARK","TRAPNET","WATERMARK","THREED","REDACT","ERRORS","WARNINGS","INFOS","showSpacedText","nextLineShowText","nextLineSetSpacingShowText","setStrokeColorSpace","setFillColorSpace","setStrokeColor","setFillColor","setStrokeGray","setFillGray","setStrokeCMYKColor","setFillCMYKColor","endInlineImage","paintXObject","NEED_PASSWORD","INCORRECT_PASSWORD","level","log","cond","addDefaultProtocol","dots","tryConvertEncoding","escape","absoluteUrl","_isValidProtocol","nonSerializable","defineProperty","enumerable","configurable","writable","MAX_ARGUMENT_COUNT","strBuf","chunkEnd","buffer8","hexNumbers","temp","m1","m2","transpose","sqrt","sx","sy","rect1","rect2","xLow","xHigh","yLow","yHigh","tvalues","t","t1","t2","b2ac","sqrtb2ac","mt","jlen","v","NormalizeRegex","NormalizationMap","_","normalize","crypto","randomUUID","buf","getRandomValues","random","__webpack_module_cache__","moduleId","cachedModule","exports","module","webpackQueues","webpackExports","webpackError","resolveQueue","queue","forEach","fn","hasAwait","currentDeps","outerResolve","depQueues","rej","deps","dep","ret","wrapDeps","getResult","fnQueue","err","definition","o","__webpack_exports__AbortException","pdfjsLib","__webpack_exports__AnnotationEditorLayer","__webpack_exports__AnnotationEditorParamsType","__webpack_exports__AnnotationEditorType","__webpack_exports__AnnotationEditorUIManager","__webpack_exports__AnnotationLayer","__webpack_exports__AnnotationMode","__webpack_exports__CMapCompressionType","__webpack_exports__DOMSVGFactory","__webpack_exports__FeatureTest","__webpack_exports__GlobalWorkerOptions","__webpack_exports__ImageKind","__webpack_exports__InvalidPDFException","__webpack_exports__MissingPDFException","__webpack_exports__OPS","__webpack_exports__PDFDataRangeTransport","__webpack_exports__PDFDateString","__webpack_exports__PDFWorker","__webpack_exports__PasswordResponses","__webpack_exports__PermissionFlag","__webpack_exports__PixelsPerInch","__webpack_exports__PromiseCapability","__webpack_exports__RenderingCancelledException","__webpack_exports__UnexpectedResponseException","__webpack_exports__Util","__webpack_exports__VerbosityLevel","__webpack_exports__XfaLayer","__webpack_exports__build","__webpack_exports__createValidAbsoluteUrl","__webpack_exports__getDocument","__webpack_exports__getFilenameFromUrl","__webpack_exports__getPdfFilenameFromUrl","__webpack_exports__getXfaPageViewport","__webpack_exports__isDataScheme","__webpack_exports__isPdfFile","__webpack_exports__noContextMenu","__webpack_exports__normalizeUnicode","__webpack_exports__renderTextLayer","__webpack_exports__setLayerDimensions","__webpack_exports__shadow","__webpack_exports__updateTextLayer","__webpack_exports__version"],"sourceRoot":""}